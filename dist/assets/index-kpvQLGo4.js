(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function bA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ug={exports:{}},Fc={};var r1;function pI(){if(r1)return Fc;r1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Fc.Fragment=e,Fc.jsx=n,Fc.jsxs=n,Fc}var a1;function gI(){return a1||(a1=1,ug.exports=pI()),ug.exports}var d=gI(),hg={exports:{}},we={};var o1;function yI(){if(o1)return we;o1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,k={};function z(U,ne,le){this.props=U,this.context=ne,this.refs=k,this.updater=le||C}z.prototype.isReactComponent={},z.prototype.setState=function(U,ne){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ne,"setState")},z.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function q(){}q.prototype=z.prototype;function K(U,ne,le){this.props=U,this.context=ne,this.refs=k,this.updater=le||C}var se=K.prototype=new q;se.constructor=K,M(se,z.prototype),se.isPureReactComponent=!0;var re=Array.isArray;function ce(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(U,ne,le){var fe=le.ref;return{$$typeof:t,type:U,key:ne,ref:fe!==void 0?fe:null,props:le}}function O(U,ne){return N(U.type,ne,U.props)}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function F(U){var ne={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(le){return ne[le]})}var j=/\/+/g;function nt(U,ne){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):ne.toString(36)}function gt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(ce,ce):(U.status="pending",U.then(function(ne){U.status==="pending"&&(U.status="fulfilled",U.value=ne)},function(ne){U.status==="pending"&&(U.status="rejected",U.reason=ne)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function J(U,ne,le,fe,Se){var Ie=typeof U;(Ie==="undefined"||Ie==="boolean")&&(U=null);var Be=!1;if(U===null)Be=!0;else switch(Ie){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(U.$$typeof){case t:case e:Be=!0;break;case v:return Be=U._init,J(Be(U._payload),ne,le,fe,Se)}}if(Be)return Se=Se(U),Be=fe===""?"."+nt(U,0):fe,re(Se)?(le="",Be!=null&&(le=Be.replace(j,"$&/")+"/"),J(Se,ne,le,"",function(ra){return ra})):Se!=null&&(V(Se)&&(Se=O(Se,le+(Se.key==null||U&&U.key===Se.key?"":(""+Se.key).replace(j,"$&/")+"/")+Be)),ne.push(Se)),1;Be=0;var Ft=fe===""?".":fe+":";if(re(U))for(var ct=0;ct<U.length;ct++)fe=U[ct],Ie=Ft+nt(fe,ct),Be+=J(fe,ne,le,Ie,Se);else if(ct=w(U),typeof ct=="function")for(U=ct.call(U),ct=0;!(fe=U.next()).done;)fe=fe.value,Ie=Ft+nt(fe,ct++),Be+=J(fe,ne,le,Ie,Se);else if(Ie==="object"){if(typeof U.then=="function")return J(gt(U),ne,le,fe,Se);throw ne=String(U),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ae(U,ne,le){if(U==null)return U;var fe=[],Se=0;return J(U,fe,"","",function(Ie){return ne.call(le,Ie,Se++)}),fe}function de(U){if(U._status===-1){var ne=U._result;ne=ne(),ne.then(function(le){(U._status===0||U._status===-1)&&(U._status=1,U._result=le)},function(le){(U._status===0||U._status===-1)&&(U._status=2,U._result=le)}),U._status===-1&&(U._status=0,U._result=ne)}if(U._status===1)return U._result.default;throw U._result}var Ne=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},ke={map:ae,forEach:function(U,ne,le){ae(U,function(){ne.apply(this,arguments)},le)},count:function(U){var ne=0;return ae(U,function(){ne++}),ne},toArray:function(U){return ae(U,function(ne){return ne})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return we.Activity=_,we.Children=ke,we.Component=z,we.Fragment=n,we.Profiler=a,we.PureComponent=K,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,we.__COMPILER_RUNTIME={__proto__:null,c:function(U){return D.H.useMemoCache(U)}},we.cache=function(U){return function(){return U.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(U,ne,le){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var fe=M({},U.props),Se=U.key;if(ne!=null)for(Ie in ne.key!==void 0&&(Se=""+ne.key),ne)!R.call(ne,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ne.ref===void 0||(fe[Ie]=ne[Ie]);var Ie=arguments.length-2;if(Ie===1)fe.children=le;else if(1<Ie){for(var Be=Array(Ie),Ft=0;Ft<Ie;Ft++)Be[Ft]=arguments[Ft+2];fe.children=Be}return N(U.type,Se,fe)},we.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},we.createElement=function(U,ne,le){var fe,Se={},Ie=null;if(ne!=null)for(fe in ne.key!==void 0&&(Ie=""+ne.key),ne)R.call(ne,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Se[fe]=ne[fe]);var Be=arguments.length-2;if(Be===1)Se.children=le;else if(1<Be){for(var Ft=Array(Be),ct=0;ct<Be;ct++)Ft[ct]=arguments[ct+2];Se.children=Ft}if(U&&U.defaultProps)for(fe in Be=U.defaultProps,Be)Se[fe]===void 0&&(Se[fe]=Be[fe]);return N(U,Ie,Se)},we.createRef=function(){return{current:null}},we.forwardRef=function(U){return{$$typeof:f,render:U}},we.isValidElement=V,we.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:de}},we.memo=function(U,ne){return{$$typeof:g,type:U,compare:ne===void 0?null:ne}},we.startTransition=function(U){var ne=D.T,le={};D.T=le;try{var fe=U(),Se=D.S;Se!==null&&Se(le,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ce,Ne)}catch(Ie){Ne(Ie)}finally{ne!==null&&le.types!==null&&(ne.types=le.types),D.T=ne}},we.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},we.use=function(U){return D.H.use(U)},we.useActionState=function(U,ne,le){return D.H.useActionState(U,ne,le)},we.useCallback=function(U,ne){return D.H.useCallback(U,ne)},we.useContext=function(U){return D.H.useContext(U)},we.useDebugValue=function(){},we.useDeferredValue=function(U,ne){return D.H.useDeferredValue(U,ne)},we.useEffect=function(U,ne){return D.H.useEffect(U,ne)},we.useEffectEvent=function(U){return D.H.useEffectEvent(U)},we.useId=function(){return D.H.useId()},we.useImperativeHandle=function(U,ne,le){return D.H.useImperativeHandle(U,ne,le)},we.useInsertionEffect=function(U,ne){return D.H.useInsertionEffect(U,ne)},we.useLayoutEffect=function(U,ne){return D.H.useLayoutEffect(U,ne)},we.useMemo=function(U,ne){return D.H.useMemo(U,ne)},we.useOptimistic=function(U,ne){return D.H.useOptimistic(U,ne)},we.useReducer=function(U,ne,le){return D.H.useReducer(U,ne,le)},we.useRef=function(U){return D.H.useRef(U)},we.useState=function(U){return D.H.useState(U)},we.useSyncExternalStore=function(U,ne,le){return D.H.useSyncExternalStore(U,ne,le)},we.useTransition=function(){return D.H.useTransition()},we.version="19.2.4",we}var l1;function Wy(){return l1||(l1=1,hg.exports=yI()),hg.exports}var I=Wy();const Jy=bA(I);var fg={exports:{}},qc={},dg={exports:{}},mg={};var c1;function vI(){return c1||(c1=1,(function(t){function e(J,ae){var de=J.length;J.push(ae);e:for(;0<de;){var Ne=de-1>>>1,ke=J[Ne];if(0<a(ke,ae))J[Ne]=ae,J[de]=ke,de=Ne;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ae=J[0],de=J.pop();if(de!==ae){J[0]=de;e:for(var Ne=0,ke=J.length,U=ke>>>1;Ne<U;){var ne=2*(Ne+1)-1,le=J[ne],fe=ne+1,Se=J[fe];if(0>a(le,de))fe<ke&&0>a(Se,le)?(J[Ne]=Se,J[fe]=de,Ne=fe):(J[Ne]=le,J[ne]=de,Ne=ne);else if(fe<ke&&0>a(Se,de))J[Ne]=Se,J[fe]=de,Ne=fe;else break e}}return ae}function a(J,ae){var de=J.sortIndex-ae.sortIndex;return de!==0?de:J.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],g=[],v=1,_=null,b=3,w=!1,C=!1,M=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function se(J){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=J)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function re(J){if(M=!1,se(J),!C)if(n(p)!==null)C=!0,ce||(ce=!0,F());else{var ae=n(g);ae!==null&&gt(re,ae.startTime-J)}}var ce=!1,D=-1,R=5,N=-1;function O(){return k?!0:!(t.unstable_now()-N<R)}function V(){if(k=!1,ce){var J=t.unstable_now();N=J;var ae=!0;try{e:{C=!1,M&&(M=!1,q(D),D=-1),w=!0;var de=b;try{t:{for(se(J),_=n(p);_!==null&&!(_.expirationTime>J&&O());){var Ne=_.callback;if(typeof Ne=="function"){_.callback=null,b=_.priorityLevel;var ke=Ne(_.expirationTime<=J);if(J=t.unstable_now(),typeof ke=="function"){_.callback=ke,se(J),ae=!0;break t}_===n(p)&&s(p),se(J)}else s(p);_=n(p)}if(_!==null)ae=!0;else{var U=n(g);U!==null&&gt(re,U.startTime-J),ae=!1}}break e}finally{_=null,b=de,w=!1}ae=void 0}}finally{ae?F():ce=!1}}}var F;if(typeof K=="function")F=function(){K(V)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,nt=j.port2;j.port1.onmessage=V,F=function(){nt.postMessage(null)}}else F=function(){z(V,0)};function gt(J,ae){D=z(function(){J(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(J){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var de=b;b=ae;try{return J()}finally{b=de}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var de=b;b=J;try{return ae()}finally{b=de}},t.unstable_scheduleCallback=function(J,ae,de){var Ne=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ne+de:Ne):de=Ne,J){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=de+ke,J={id:v++,callback:ae,priorityLevel:J,startTime:de,expirationTime:ke,sortIndex:-1},de>Ne?(J.sortIndex=de,e(g,J),n(p)===null&&J===n(g)&&(M?(q(D),D=-1):M=!0,gt(re,de-Ne))):(J.sortIndex=ke,e(p,J),C||w||(C=!0,ce||(ce=!0,F()))),J},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(J){var ae=b;return function(){var de=b;b=ae;try{return J.apply(this,arguments)}finally{b=de}}}})(mg)),mg}var u1;function _I(){return u1||(u1=1,dg.exports=vI()),dg.exports}var pg={exports:{}},hn={};var h1;function TI(){if(h1)return hn;h1=1;var t=Wy();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:p,containerInfo:g,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},hn.flushSync=function(p){var g=u.T,v=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=g,s.p=v,s.d.f()}},hn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},hn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},hn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,_=f(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:w}):v==="script"&&s.d.X(p,{crossOrigin:_,integrity:b,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},hn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=f(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=f(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},hn.requestFormReset=function(p){s.d.r(p)},hn.unstable_batchedUpdates=function(p,g){return p(g)},hn.useFormState=function(p,g,v){return u.H.useFormState(p,g,v)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var f1;function EI(){if(f1)return pg.exports;f1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pg.exports=TI(),pg.exports}var d1;function bI(){if(d1)return qc;d1=1;var t=_I(),e=Wy(),n=EI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return p(m),i;if(y===c)return p(m),r;y=y.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=y;else{for(var E=!1,A=m.child;A;){if(A===o){E=!0,o=m,c=y;break}if(A===c){E=!0,c=m,o=y;break}A=A.sibling}if(!E){for(A=y.child;A;){if(A===o){E=!0,o=y,c=m;break}if(A===c){E=!0,c=y,o=m;break}A=A.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),K=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var j=Symbol.for("react.client.reference");function nt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===j?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case z:return"Profiler";case k:return"StrictMode";case re:return"Suspense";case ce:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case K:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case se:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return r=i.displayName||null,r!==null?r:nt(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return nt(i(r))}catch{}}return null}var gt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ne=[],ke=-1;function U(i){return{current:i}}function ne(i){0>ke||(i.current=Ne[ke],Ne[ke]=null,ke--)}function le(i,r){ke++,Ne[ke]=i.current,i.current=r}var fe=U(null),Se=U(null),Ie=U(null),Be=U(null);function Ft(i,r){switch(le(Ie,r),le(Se,i),le(fe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?CE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=CE(r),i=NE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(fe),le(fe,i)}function ct(){ne(fe),ne(Se),ne(Ie)}function ra(i){i.memoizedState!==null&&le(Be,i);var r=fe.current,o=NE(r,i.type);r!==o&&(le(Se,i),le(fe,o))}function oo(i){Se.current===i&&(ne(fe),ne(Se)),Be.current===i&&(ne(Be),Lc._currentValue=de)}var lo,co;function ki(i){if(lo===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);lo=r&&r[1]||"",co=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lo+i+co}var Ll=!1;function aa(i,r){if(!i||Ll)return"";Ll=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var Y=X}Reflect.construct(i,[],te)}else{try{te.call()}catch(X){Y=X}i.call(te.prototype)}}else{try{throw Error()}catch(X){Y=X}(te=i())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),E=y[0],A=y[1];if(E&&A){var P=E.split(`
`),$=A.split(`
`);for(m=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;if(c===P.length||m===$.length)for(c=P.length-1,m=$.length-1;1<=c&&0<=m&&P[c]!==$[m];)m--;for(;1<=c&&0<=m;c--,m--)if(P[c]!==$[m]){if(c!==1||m!==1)do if(c--,m--,0>m||P[c]!==$[m]){var W=`
`+P[c].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=c&&0<=m);break}}}finally{Ll=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ki(o):""}function Ul(i,r){switch(i.tag){case 26:case 27:case 5:return ki(i.type);case 16:return ki("Lazy");case 13:return i.child!==r&&r!==null?ki("Suspense Fallback"):ki("Suspense");case 19:return ki("SuspenseList");case 0:case 15:return aa(i.type,!1);case 11:return aa(i.type.render,!1);case 1:return aa(i.type,!0);case 31:return ki("Activity");default:return""}}function zl(i){try{var r="",o=null;do r+=Ul(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Nt=Object.prototype.hasOwnProperty,qt=t.unstable_scheduleCallback,$s=t.unstable_cancelCallback,fm=t.unstable_shouldYield,Wu=t.unstable_requestPaint,vn=t.unstable_now,oa=t.unstable_getCurrentPriorityLevel,Bl=t.unstable_ImmediatePriority,Fl=t.unstable_UserBlockingPriority,Ys=t.unstable_NormalPriority,dm=t.unstable_LowPriority,Ju=t.unstable_IdlePriority,Zu=t.log,eh=t.unstable_setDisableYieldValue,fi=null,Zt=null;function $n(i){if(typeof Zu=="function"&&eh(i),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(fi,i)}catch{}}var At=Math.clz32?Math.clz32:nh,th=Math.log,uo=Math.LN2;function nh(i){return i>>>=0,i===0?32:31-(th(i)/uo|0)|0}var Pi=256,la=262144,It=4194304;function Vi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Oi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,y=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~y,c!==0?m=Vi(c):(E&=A,E!==0?m=Vi(E):o||(o=A&~i,o!==0&&(m=Vi(o))))):(A=c&~y,A!==0?m=Vi(A):E!==0?m=Vi(E):o||(o=c&~i,o!==0&&(m=Vi(o)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:m}function di(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function mm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ih(){var i=It;return It<<=1,(It&62914560)===0&&(It=4194304),i}function Li(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ca(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function pm(i,r,o,c,m,y){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,P=i.expirationTimes,$=i.hiddenUpdates;for(o=E&~o;0<o;){var W=31-At(o),te=1<<W;A[W]=0,P[W]=-1;var Y=$[W];if(Y!==null)for($[W]=null,W=0;W<Y.length;W++){var X=Y[W];X!==null&&(X.lane&=-536870913)}o&=~te}c!==0&&ua(i,c,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(E&~r))}function ua(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-At(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function ql(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-At(o),m=1<<c;m&r|i[c]&r&&(i[c]|=r),o&=~m}}function Hl(i,r){var o=r&-r;return o=(o&42)!==0?1:ha(o),(o&(i.suspendedLanes|r))!==0?0:o}function ha(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ys(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function sh(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:JE(i.type))}function mi(i,r){var o=ae.p;try{return ae.p=i,r()}finally{ae.p=o}}var pi=Math.random().toString(36).slice(2),Dt="__reactFiber$"+pi,Yt="__reactProps$"+pi,Ui="__reactContainer$"+pi,ho="__reactEvents$"+pi,gm="__reactListeners$"+pi,rh="__reactHandles$"+pi,ah="__reactResources$"+pi,zi="__reactMarker$"+pi;function fo(i){delete i[Dt],delete i[Yt],delete i[ho],delete i[gm],delete i[rh]}function Bi(i){var r=i[Dt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ui]||o[Dt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=VE(i);i!==null;){if(o=i[Dt])return o;i=VE(i)}return r}i=o,o=i.parentNode}return null}function Yn(i){if(i=i[Dt]||i[Ui]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Mn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Fi(i){var r=i[ah];return r||(r=i[ah]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function jt(i){i[zi]=!0}var Gl=new Set,Kl={};function qi(i,r){Hi(i,r),Hi(i+"Capture",r)}function Hi(i,r){for(Kl[i]=r,i=0;i<r.length;i++)Gl.add(r[i])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yl={},Ql={};function oh(i){return Nt.call(Ql,i)?!0:Nt.call(Yl,i)?!1:$l.test(i)?Ql[i]=!0:(Yl[i]=!0,!1)}function mo(i,r,o){if(oh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function kn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Mt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Qs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Xl(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(E){o=""+E,y.call(this,E)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Qe(i){if(!i._valueTracker){var r=Qs(i)?"checked":"value";i._valueTracker=Xl(i,r,""+i[r])}}function fa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Qs(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Gi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var da=/[\n"\\]/g;function An(i){return i.replace(da,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function po(i,r,o,c,m,y,E,A){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Qt(r)):i.value!==""+Qt(r)&&(i.value=""+Qt(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?Wl(i,E,Qt(r)):o!=null?Wl(i,E,Qt(o)):c!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Qt(A):i.removeAttribute("name")}function lh(i,r,o,c,m,y,E,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){Qe(i);return}o=o!=null?""+Qt(o):"",r=r!=null?""+Qt(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Qe(i)}function Wl(i,r,o){r==="number"&&Gi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Xs(i,r,o,c){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Qt(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function ch(i,r,o){if(r!=null&&(r=""+Qt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Qt(o):""}function Ws(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(gt(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Qt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Qe(i)}function wn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var uh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jl(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||uh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Zl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&Jl(i,m,c)}else for(var y in r)r.hasOwnProperty(y)&&Jl(i,y,r[y])}function go(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Js=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(i){return Js.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function gi(){}var ec=null;function Qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zs=null,Ki=null;function ma(i){var r=Yn(i);if(r&&(i=r.stateNode)){var o=i[Yt]||null;e:switch(i=r.stateNode,r.type){case"input":if(po(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+An(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var m=c[Yt]||null;if(!m)throw Error(s(90));po(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&fa(c)}break e;case"textarea":ch(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Xs(i,!!o.multiple,r,!1)}}}var vo=!1;function er(i,r,o){if(vo)return i(r,o);vo=!0;try{var c=i(r);return c}finally{if(vo=!1,(Zs!==null||Ki!==null)&&(rf(),Zs&&(r=Zs,i=Ki,Ki=Zs=null,ma(r),i)))for(r=0;r<i.length;r++)ma(i[r])}}function yi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Yt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pa=!1;if(Xn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){pa=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{pa=!1}var $i=null,tc=null,ga=null;function nc(){if(ga)return ga;var i,r=tc,o=r.length,c,m="value"in $i?$i.value:$i.textContent,y=m.length;for(i=0;i<o&&r[i]===m[i];i++);var E=o-i;for(c=1;c<=E&&r[o-c]===m[y-c];c++);return ga=m.slice(i,1<c?1-c:void 0)}function ya(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function vs(){return!0}function vi(){return!1}function en(i){function r(o,c,m,y,E){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?vs:vi,this.isPropagationStopped=vi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),r}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=en(_s),tr=_({},_s,{view:0,detail:0}),ic=en(tr),nr,_o,Qi,To=_({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ir,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Qi&&(Qi&&i.type==="mousemove"?(nr=i.screenX-Qi.screenX,_o=i.screenY-Qi.screenY):_o=nr=0,Qi=i),nr)},movementY:function(i){return"movementY"in i?i.movementY:_o}}),sc=en(To),va=_({},To,{dataTransfer:0}),fh=en(va),dh=_({},tr,{relatedTarget:0}),_a=en(dh),rc=_({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),mh=en(rc),Eo=_({},_s,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ph=en(Eo),gh=_({},_s,{data:0}),Xi=en(gh),yh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_h={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Th(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=_h[i])?!!r[i]:!1}function ir(){return Th}var _n=_({},tr,{key:function(i){if(i.key){var r=yh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ya(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?vh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ir,charCode:function(i){return i.type==="keypress"?ya(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ya(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Eh=en(_n),bh=_({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ts=en(bh),h=_({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ir}),T=en(h),S=_({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=en(S),H=_({},To,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=en(H),oe=_({},_s,{newState:0,oldState:0}),Re=en(oe),wt=[9,13,27,32],Ke=Xn&&"CompositionEvent"in window,ut=null;Xn&&"documentMode"in document&&(ut=document.documentMode);var Wn=Xn&&"TextEvent"in window&&!ut,Wi=Xn&&(!Ke||ut&&8<ut&&11>=ut),_i=" ",Ti=!1;function Ta(i,r){switch(i){case"keyup":return wt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var So=!1;function U2(i,r){switch(i){case"compositionend":return bo(r);case"keypress":return r.which!==32?null:(Ti=!0,_i);case"textInput":return i=r.data,i===_i&&Ti?null:i;default:return null}}function z2(i,r){if(So)return i==="compositionend"||!Ke&&Ta(i,r)?(i=nc(),ga=tc=$i=null,So=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Wi&&r.locale!=="ko"?null:r.data;default:return null}}var B2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U_(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!B2[i.type]:r==="textarea"}function z_(i,r,o,c){Zs?Ki?Ki.push(c):Ki=[c]:Zs=c,r=ff(r,"onChange"),0<r.length&&(o=new Yi("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var ac=null,oc=null;function F2(i){bE(i,0)}function Sh(i){var r=Mn(i);if(fa(r))return i}function B_(i,r){if(i==="change")return r}var F_=!1;if(Xn){var ym;if(Xn){var vm="oninput"in document;if(!vm){var q_=document.createElement("div");q_.setAttribute("oninput","return;"),vm=typeof q_.oninput=="function"}ym=vm}else ym=!1;F_=ym&&(!document.documentMode||9<document.documentMode)}function H_(){ac&&(ac.detachEvent("onpropertychange",G_),oc=ac=null)}function G_(i){if(i.propertyName==="value"&&Sh(oc)){var r=[];z_(r,oc,i,Qn(i)),er(F2,r)}}function q2(i,r,o){i==="focusin"?(H_(),ac=r,oc=o,ac.attachEvent("onpropertychange",G_)):i==="focusout"&&H_()}function H2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Sh(oc)}function G2(i,r){if(i==="click")return Sh(r)}function K2(i,r){if(i==="input"||i==="change")return Sh(r)}function $2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Pn=typeof Object.is=="function"?Object.is:$2;function lc(i,r){if(Pn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Nt.call(r,m)||!Pn(i[m],r[m]))return!1}return!0}function K_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $_(i,r){var o=K_(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=K_(o)}}function Y_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Y_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Q_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Gi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Gi(i.document)}return r}function _m(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var Y2=Xn&&"documentMode"in document&&11>=document.documentMode,Ao=null,Tm=null,cc=null,Em=!1;function X_(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Em||Ao==null||Ao!==Gi(c)||(c=Ao,"selectionStart"in c&&_m(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),cc&&lc(cc,c)||(cc=c,c=ff(Tm,"onSelect"),0<c.length&&(r=new Yi("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Ao)))}function Ea(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var wo={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},bm={},W_={};Xn&&(W_=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function ba(i){if(bm[i])return bm[i];if(!wo[i])return i;var r=wo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in W_)return bm[i]=r[o];return i}var J_=ba("animationend"),Z_=ba("animationiteration"),e0=ba("animationstart"),Q2=ba("transitionrun"),X2=ba("transitionstart"),W2=ba("transitioncancel"),t0=ba("transitionend"),n0=new Map,Sm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sm.push("scrollEnd");function Ei(i,r){n0.set(i,r),qi(r,[i])}var Ah=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Jn=[],xo=0,Am=0;function wh(){for(var i=xo,r=Am=xo=0;r<i;){var o=Jn[r];Jn[r++]=null;var c=Jn[r];Jn[r++]=null;var m=Jn[r];Jn[r++]=null;var y=Jn[r];if(Jn[r++]=null,c!==null&&m!==null){var E=c.pending;E===null?m.next=m:(m.next=E.next,E.next=m),c.pending=m}y!==0&&i0(o,m,y)}}function xh(i,r,o,c){Jn[xo++]=i,Jn[xo++]=r,Jn[xo++]=o,Jn[xo++]=c,Am|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function wm(i,r,o,c){return xh(i,r,o,c),Rh(i)}function Sa(i,r){return xh(i,null,null,r),Rh(i)}function i0(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,y=i.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&r!==null&&(m=31-At(o),i=y.hiddenUpdates,c=i[m],c===null?i[m]=[r]:c.push(r),r.lane=o|536870912),y):null}function Rh(i){if(50<Dc)throw Dc=0,kp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ro={};function J2(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,r,o,c){return new J2(i,r,o,c)}function xm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Es(i,r){var o=i.alternate;return o===null?(o=Vn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function s0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Ch(i,r,o,c,m,y){var E=0;if(c=i,typeof i=="function")xm(i)&&(E=1);else if(typeof i=="string")E=iI(i,o,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=Vn(31,o,r,m),i.elementType=N,i.lanes=y,i;case M:return Aa(o.children,m,y,r);case k:E=8,m|=24;break;case z:return i=Vn(12,o,r,m|2),i.elementType=z,i.lanes=y,i;case re:return i=Vn(13,o,r,m),i.elementType=re,i.lanes=y,i;case ce:return i=Vn(19,o,r,m),i.elementType=ce,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:E=10;break e;case q:E=9;break e;case se:E=11;break e;case D:E=14;break e;case R:E=16,c=null;break e}E=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Vn(E,o,r,m),r.elementType=i,r.type=c,r.lanes=y,r}function Aa(i,r,o,c){return i=Vn(7,i,c,r),i.lanes=o,i}function Rm(i,r,o){return i=Vn(6,i,null,r),i.lanes=o,i}function r0(i){var r=Vn(18,null,null,0);return r.stateNode=i,r}function Cm(i,r,o){return r=Vn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var a0=new WeakMap;function Zn(i,r){if(typeof i=="object"&&i!==null){var o=a0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:zl(r)},a0.set(i,r),r)}return{value:i,source:r,stack:zl(r)}}var Co=[],No=0,Nh=null,uc=0,ei=[],ti=0,sr=null,Ji=1,Zi="";function bs(i,r){Co[No++]=uc,Co[No++]=Nh,Nh=i,uc=r}function o0(i,r,o){ei[ti++]=Ji,ei[ti++]=Zi,ei[ti++]=sr,sr=i;var c=Ji;i=Zi;var m=32-At(c)-1;c&=~(1<<m),o+=1;var y=32-At(r)+m;if(30<y){var E=m-m%5;y=(c&(1<<E)-1).toString(32),c>>=E,m-=E,Ji=1<<32-At(r)+m|o<<m|c,Zi=y+i}else Ji=1<<y|o<<m|c,Zi=i}function Nm(i){i.return!==null&&(bs(i,1),o0(i,1,0))}function Im(i){for(;i===Nh;)Nh=Co[--No],Co[No]=null,uc=Co[--No],Co[No]=null;for(;i===sr;)sr=ei[--ti],ei[ti]=null,Zi=ei[--ti],ei[ti]=null,Ji=ei[--ti],ei[ti]=null}function l0(i,r){ei[ti++]=Ji,ei[ti++]=Zi,ei[ti++]=sr,Ji=r.id,Zi=r.overflow,sr=i}var tn=null,at=null,ze=!1,rr=null,ni=!1,Dm=Error(s(519));function ar(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hc(Zn(r,i)),Dm}function c0(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Dt]=i,r[Yt]=c,o){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(o=0;o<Mc.length;o++)Me(Mc[o],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),lh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Ws(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||xE(r.textContent,o)?(c.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),c.onScroll!=null&&Me("scroll",r),c.onScrollEnd!=null&&Me("scrollend",r),c.onClick!=null&&(r.onclick=gi),r=!0):r=!1,r||ar(i,!0)}function u0(i){for(tn=i.return;tn;)switch(tn.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:tn=tn.return}}function Io(i){if(i!==tn)return!1;if(!ze)return u0(i),ze=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Qp(i.type,i.memoizedProps)),o=!o),o&&at&&ar(i),u0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));at=PE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));at=PE(i)}else r===27?(r=at,Tr(i.type)?(i=eg,eg=null,at=i):at=r):at=tn?si(i.stateNode.nextSibling):null;return!0}function wa(){at=tn=null,ze=!1}function jm(){var i=rr;return i!==null&&(Nn===null?Nn=i:Nn.push.apply(Nn,i),rr=null),i}function hc(i){rr===null?rr=[i]:rr.push(i)}var Mm=U(null),xa=null,Ss=null;function or(i,r,o){le(Mm,r._currentValue),r._currentValue=o}function As(i){i._currentValue=Mm.current,ne(Mm)}function km(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Pm(i,r,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var E=m.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=m;for(var P=0;P<r.length;P++)if(A.context===r[P]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),km(y.return,o,i),c||(E=null);break e}y=A.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(s(341));E.lanes|=o,y=E.alternate,y!==null&&(y.lanes|=o),km(E,o,i),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===i){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function Do(i,r,o,c){i=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var A=m.type;Pn(m.pendingProps.value,E.value)||(i!==null?i.push(A):i=[A])}}else if(m===Be.current){if(E=m.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Lc):i=[Lc])}m=m.return}i!==null&&Pm(r,i,o,c),r.flags|=262144}function Ih(i){for(i=i.firstContext;i!==null;){if(!Pn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ra(i){xa=i,Ss=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function nn(i){return h0(xa,i)}function Dh(i,r){return xa===null&&Ra(i),h0(i,r)}function h0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ss===null){if(i===null)throw Error(s(308));Ss=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ss=Ss.next=r;return o}var Z2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},eN=t.unstable_scheduleCallback,tN=t.unstable_NormalPriority,kt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vm(){return{controller:new Z2,data:new Map,refCount:0}}function fc(i){i.refCount--,i.refCount===0&&eN(tN,function(){i.controller.abort()})}var dc=null,Om=0,jo=0,Mo=null;function nN(i,r){if(dc===null){var o=dc=[];Om=0,jo=zp(),Mo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Om++,r.then(f0,f0),r}function f0(){if(--Om===0&&dc!==null){Mo!==null&&(Mo.status="fulfilled");var i=dc;dc=null,jo=0,Mo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function iN(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var d0=J.S;J.S=function(i,r){XT=vn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&nN(i,r),d0!==null&&d0(i,r)};var Ca=U(null);function Lm(){var i=Ca.current;return i!==null?i:it.pooledCache}function jh(i,r){r===null?le(Ca,Ca.current):le(Ca,r.pool)}function m0(){var i=Lm();return i===null?null:{parent:kt._currentValue,pool:i}}var ko=Error(s(460)),Um=Error(s(474)),Mh=Error(s(542)),kh={then:function(){}};function p0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function g0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(gi,gi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,v0(i),i;default:if(typeof r.status=="string")r.then(gi,gi);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,v0(i),i}throw Ia=r,ko}}function Na(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ia=o,ko):o}}var Ia=null;function y0(){if(Ia===null)throw Error(s(459));var i=Ia;return Ia=null,i}function v0(i){if(i===ko||i===Mh)throw Error(s(483))}var Po=null,mc=0;function Ph(i){var r=mc;return mc+=1,Po===null&&(Po=[]),g0(Po,i,r)}function pc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Vh(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function _0(i){function r(B,L){if(i){var G=B.deletions;G===null?(B.deletions=[L],B.flags|=16):G.push(L)}}function o(B,L){if(!i)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function c(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function m(B,L){return B=Es(B,L),B.index=0,B.sibling=null,B}function y(B,L,G){return B.index=G,i?(G=B.alternate,G!==null?(G=G.index,G<L?(B.flags|=67108866,L):G):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function E(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function A(B,L,G,Z){return L===null||L.tag!==6?(L=Rm(G,B.mode,Z),L.return=B,L):(L=m(L,G),L.return=B,L)}function P(B,L,G,Z){var ve=G.type;return ve===M?W(B,L,G.props.children,Z,G.key):L!==null&&(L.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&Na(ve)===L.type)?(L=m(L,G.props),pc(L,G),L.return=B,L):(L=Ch(G.type,G.key,G.props,null,B.mode,Z),pc(L,G),L.return=B,L)}function $(B,L,G,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=Cm(G,B.mode,Z),L.return=B,L):(L=m(L,G.children||[]),L.return=B,L)}function W(B,L,G,Z,ve){return L===null||L.tag!==7?(L=Aa(G,B.mode,Z,ve),L.return=B,L):(L=m(L,G),L.return=B,L)}function te(B,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Rm(""+L,B.mode,G),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case w:return G=Ch(L.type,L.key,L.props,null,B.mode,G),pc(G,L),G.return=B,G;case C:return L=Cm(L,B.mode,G),L.return=B,L;case R:return L=Na(L),te(B,L,G)}if(gt(L)||F(L))return L=Aa(L,B.mode,G,null),L.return=B,L;if(typeof L.then=="function")return te(B,Ph(L),G);if(L.$$typeof===K)return te(B,Dh(B,L),G);Vh(B,L)}return null}function Y(B,L,G,Z){var ve=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ve!==null?null:A(B,L,""+G,Z);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===ve?P(B,L,G,Z):null;case C:return G.key===ve?$(B,L,G,Z):null;case R:return G=Na(G),Y(B,L,G,Z)}if(gt(G)||F(G))return ve!==null?null:W(B,L,G,Z,null);if(typeof G.then=="function")return Y(B,L,Ph(G),Z);if(G.$$typeof===K)return Y(B,L,Dh(B,G),Z);Vh(B,G)}return null}function X(B,L,G,Z,ve){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(G)||null,A(L,B,""+Z,ve);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return B=B.get(Z.key===null?G:Z.key)||null,P(L,B,Z,ve);case C:return B=B.get(Z.key===null?G:Z.key)||null,$(L,B,Z,ve);case R:return Z=Na(Z),X(B,L,G,Z,ve)}if(gt(Z)||F(Z))return B=B.get(G)||null,W(L,B,Z,ve,null);if(typeof Z.then=="function")return X(B,L,G,Ph(Z),ve);if(Z.$$typeof===K)return X(B,L,G,Dh(L,Z),ve);Vh(L,Z)}return null}function me(B,L,G,Z){for(var ve=null,He=null,ge=L,De=L=0,Ve=null;ge!==null&&De<G.length;De++){ge.index>De?(Ve=ge,ge=null):Ve=ge.sibling;var Ge=Y(B,ge,G[De],Z);if(Ge===null){ge===null&&(ge=Ve);break}i&&ge&&Ge.alternate===null&&r(B,ge),L=y(Ge,L,De),He===null?ve=Ge:He.sibling=Ge,He=Ge,ge=Ve}if(De===G.length)return o(B,ge),ze&&bs(B,De),ve;if(ge===null){for(;De<G.length;De++)ge=te(B,G[De],Z),ge!==null&&(L=y(ge,L,De),He===null?ve=ge:He.sibling=ge,He=ge);return ze&&bs(B,De),ve}for(ge=c(ge);De<G.length;De++)Ve=X(ge,B,De,G[De],Z),Ve!==null&&(i&&Ve.alternate!==null&&ge.delete(Ve.key===null?De:Ve.key),L=y(Ve,L,De),He===null?ve=Ve:He.sibling=Ve,He=Ve);return i&&ge.forEach(function(wr){return r(B,wr)}),ze&&bs(B,De),ve}function Te(B,L,G,Z){if(G==null)throw Error(s(151));for(var ve=null,He=null,ge=L,De=L=0,Ve=null,Ge=G.next();ge!==null&&!Ge.done;De++,Ge=G.next()){ge.index>De?(Ve=ge,ge=null):Ve=ge.sibling;var wr=Y(B,ge,Ge.value,Z);if(wr===null){ge===null&&(ge=Ve);break}i&&ge&&wr.alternate===null&&r(B,ge),L=y(wr,L,De),He===null?ve=wr:He.sibling=wr,He=wr,ge=Ve}if(Ge.done)return o(B,ge),ze&&bs(B,De),ve;if(ge===null){for(;!Ge.done;De++,Ge=G.next())Ge=te(B,Ge.value,Z),Ge!==null&&(L=y(Ge,L,De),He===null?ve=Ge:He.sibling=Ge,He=Ge);return ze&&bs(B,De),ve}for(ge=c(ge);!Ge.done;De++,Ge=G.next())Ge=X(ge,B,De,Ge.value,Z),Ge!==null&&(i&&Ge.alternate!==null&&ge.delete(Ge.key===null?De:Ge.key),L=y(Ge,L,De),He===null?ve=Ge:He.sibling=Ge,He=Ge);return i&&ge.forEach(function(mI){return r(B,mI)}),ze&&bs(B,De),ve}function tt(B,L,G,Z){if(typeof G=="object"&&G!==null&&G.type===M&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:e:{for(var ve=G.key;L!==null;){if(L.key===ve){if(ve=G.type,ve===M){if(L.tag===7){o(B,L.sibling),Z=m(L,G.props.children),Z.return=B,B=Z;break e}}else if(L.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&Na(ve)===L.type){o(B,L.sibling),Z=m(L,G.props),pc(Z,G),Z.return=B,B=Z;break e}o(B,L);break}else r(B,L);L=L.sibling}G.type===M?(Z=Aa(G.props.children,B.mode,Z,G.key),Z.return=B,B=Z):(Z=Ch(G.type,G.key,G.props,null,B.mode,Z),pc(Z,G),Z.return=B,B=Z)}return E(B);case C:e:{for(ve=G.key;L!==null;){if(L.key===ve)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){o(B,L.sibling),Z=m(L,G.children||[]),Z.return=B,B=Z;break e}else{o(B,L);break}else r(B,L);L=L.sibling}Z=Cm(G,B.mode,Z),Z.return=B,B=Z}return E(B);case R:return G=Na(G),tt(B,L,G,Z)}if(gt(G))return me(B,L,G,Z);if(F(G)){if(ve=F(G),typeof ve!="function")throw Error(s(150));return G=ve.call(G),Te(B,L,G,Z)}if(typeof G.then=="function")return tt(B,L,Ph(G),Z);if(G.$$typeof===K)return tt(B,L,Dh(B,G),Z);Vh(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(o(B,L.sibling),Z=m(L,G),Z.return=B,B=Z):(o(B,L),Z=Rm(G,B.mode,Z),Z.return=B,B=Z),E(B)):o(B,L)}return function(B,L,G,Z){try{mc=0;var ve=tt(B,L,G,Z);return Po=null,ve}catch(ge){if(ge===ko||ge===Mh)throw ge;var He=Vn(29,ge,null,B.mode);return He.lanes=Z,He.return=B,He}}}var Da=_0(!0),T0=_0(!1),lr=!1;function zm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function cr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ur(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,($e&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=Rh(i),i0(i,null,o),r}return xh(i,c,r,o),Rh(i)}function gc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,ql(i,o)}}function Fm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=E:y=y.next=E,o=o.next}while(o!==null);y===null?m=y=r:y=y.next=r}else m=y=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var qm=!1;function yc(){if(qm){var i=Mo;if(i!==null)throw i}}function vc(i,r,o,c){qm=!1;var m=i.updateQueue;lr=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var P=A,$=P.next;P.next=null,E===null?y=$:E.next=$,E=P;var W=i.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==E&&(A===null?W.firstBaseUpdate=$:A.next=$,W.lastBaseUpdate=P))}if(y!==null){var te=m.baseState;E=0,W=$=P=null,A=y;do{var Y=A.lane&-536870913,X=Y!==A.lane;if(X?(Pe&Y)===Y:(c&Y)===Y){Y!==0&&Y===jo&&(qm=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var me=i,Te=A;Y=r;var tt=o;switch(Te.tag){case 1:if(me=Te.payload,typeof me=="function"){te=me.call(tt,te,Y);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Te.payload,Y=typeof me=="function"?me.call(tt,te,Y):me,Y==null)break e;te=_({},te,Y);break e;case 2:lr=!0}}Y=A.callback,Y!==null&&(i.flags|=64,X&&(i.flags|=8192),X=m.callbacks,X===null?m.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?($=W=X,P=te):W=W.next=X,E|=Y;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;X=A,A=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);W===null&&(P=te),m.baseState=P,m.firstBaseUpdate=$,m.lastBaseUpdate=W,y===null&&(m.shared.lanes=0),pr|=E,i.lanes=E,i.memoizedState=te}}function E0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function b0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)E0(o[i],r)}var Vo=U(null),Oh=U(0);function S0(i,r){i=Ms,le(Oh,i),le(Vo,r),Ms=i|r.baseLanes}function Hm(){le(Oh,Ms),le(Vo,Vo.current)}function Gm(){Ms=Oh.current,ne(Vo),ne(Oh)}var On=U(null),ii=null;function hr(i){var r=i.alternate;le(xt,xt.current&1),le(On,i),ii===null&&(r===null||Vo.current!==null||r.memoizedState!==null)&&(ii=i)}function Km(i){le(xt,xt.current),le(On,i),ii===null&&(ii=i)}function A0(i){i.tag===22?(le(xt,xt.current),le(On,i),ii===null&&(ii=i)):fr()}function fr(){le(xt,xt.current),le(On,On.current)}function Ln(i){ne(On),ii===i&&(ii=null),ne(xt)}var xt=U(0);function Lh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Jp(o)||Zp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ws=0,Ce=null,Ze=null,Pt=null,Uh=!1,Oo=!1,ja=!1,zh=0,_c=0,Lo=null,sN=0;function yt(){throw Error(s(321))}function $m(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Pn(i[o],r[o]))return!1;return!0}function Ym(i,r,o,c,m,y){return ws=y,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=i===null||i.memoizedState===null?oT:cp,ja=!1,y=o(c,m),ja=!1,Oo&&(y=x0(r,o,c,m)),w0(i),y}function w0(i){J.H=bc;var r=Ze!==null&&Ze.next!==null;if(ws=0,Pt=Ze=Ce=null,Uh=!1,_c=0,Lo=null,r)throw Error(s(300));i===null||Vt||(i=i.dependencies,i!==null&&Ih(i)&&(Vt=!0))}function x0(i,r,o,c){Ce=i;var m=0;do{if(Oo&&(Lo=null),_c=0,Oo=!1,25<=m)throw Error(s(301));if(m+=1,Pt=Ze=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=lT,y=r(o,c)}while(Oo);return y}function rN(){var i=J.H,r=i.useState()[0];return r=typeof r.then=="function"?Tc(r):r,i=i.useState()[0],(Ze!==null?Ze.memoizedState:null)!==i&&(Ce.flags|=1024),r}function Qm(){var i=zh!==0;return zh=0,i}function Xm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Wm(i){if(Uh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Uh=!1}ws=0,Pt=Ze=Ce=null,Oo=!1,_c=zh=0,Lo=null}function Tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Ce.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function Rt(){if(Ze===null){var i=Ce.alternate;i=i!==null?i.memoizedState:null}else i=Ze.next;var r=Pt===null?Ce.memoizedState:Pt.next;if(r!==null)Pt=r,Ze=i;else{if(i===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ze=i,i={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Pt===null?Ce.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function Bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tc(i){var r=_c;return _c+=1,Lo===null&&(Lo=[]),i=g0(Lo,i,r),r=Ce,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?oT:cp),i}function Fh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Tc(i);if(i.$$typeof===K)return nn(i)}throw Error(s(438,String(i)))}function Jm(i){var r=null,o=Ce.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Ce.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Bh(),Ce.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=O;return r.index++,o}function xs(i,r){return typeof r=="function"?r(i):r}function qh(i){var r=Rt();return Zm(r,Ze,i)}function Zm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=i.baseQueue,y=c.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}r.baseQueue=m=y,c.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{r=m.next;var A=E=null,P=null,$=r,W=!1;do{var te=$.lane&-536870913;if(te!==$.lane?(Pe&te)===te:(ws&te)===te){var Y=$.revertLane;if(Y===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),te===jo&&(W=!0);else if((ws&Y)===Y){$=$.next,Y===jo&&(W=!0);continue}else te={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(A=P=te,E=y):P=P.next=te,Ce.lanes|=Y,pr|=Y;te=$.action,ja&&o(y,te),y=$.hasEagerState?$.eagerState:o(y,te)}else Y={lane:te,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(A=P=Y,E=y):P=P.next=Y,Ce.lanes|=te,pr|=te;$=$.next}while($!==null&&$!==r);if(P===null?E=y:P.next=A,!Pn(y,i.memoizedState)&&(Vt=!0,W&&(o=Mo,o!==null)))throw o;i.memoizedState=y,i.baseState=E,i.baseQueue=P,c.lastRenderedState=y}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function ep(i){var r=Rt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,y=r.memoizedState;if(m!==null){o.pending=null;var E=m=m.next;do y=i(y,E.action),E=E.next;while(E!==m);Pn(y,r.memoizedState)||(Vt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,c]}function R0(i,r,o){var c=Ce,m=Rt(),y=ze;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!Pn((Ze||m).memoizedState,o);if(E&&(m.memoizedState=o,Vt=!0),m=m.queue,ip(I0.bind(null,c,m,i),[i]),m.getSnapshot!==r||E||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,Uo(9,{destroy:void 0},N0.bind(null,c,m,o,r),null),it===null)throw Error(s(349));y||(ws&127)!==0||C0(c,r,o)}return o}function C0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ce.updateQueue,r===null?(r=Bh(),Ce.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function N0(i,r,o,c){r.value=o,r.getSnapshot=c,D0(r)&&j0(i)}function I0(i,r,o){return o(function(){D0(r)&&j0(i)})}function D0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Pn(i,o)}catch{return!0}}function j0(i){var r=Sa(i,2);r!==null&&In(r,i,2)}function tp(i){var r=Tn();if(typeof i=="function"){var o=i;if(i=o(),ja){$n(!0);try{o()}finally{$n(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:i},r}function M0(i,r,o,c){return i.baseState=o,Zm(i,Ze,typeof c=="function"?c:xs)}function aN(i,r,o,c,m){if(Kh(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};J.T!==null?o(!0):y.isTransition=!1,c(y),o=r.pending,o===null?(y.next=r.pending=y,k0(r,y)):(y.next=o.next,r.pending=o.next=y)}}function k0(i,r){var o=r.action,c=r.payload,m=i.state;if(r.isTransition){var y=J.T,E={};J.T=E;try{var A=o(m,c),P=J.S;P!==null&&P(E,A),P0(i,r,A)}catch($){np(i,r,$)}finally{y!==null&&E.types!==null&&(y.types=E.types),J.T=y}}else try{y=o(m,c),P0(i,r,y)}catch($){np(i,r,$)}}function P0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){V0(i,r,c)},function(c){return np(i,r,c)}):V0(i,r,o)}function V0(i,r,o){r.status="fulfilled",r.value=o,O0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,k0(i,o)))}function np(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,O0(r),r=r.next;while(r!==c)}i.action=null}function O0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function L0(i,r){return r}function U0(i,r){if(ze){var o=it.formState;if(o!==null){e:{var c=Ce;if(ze){if(at){t:{for(var m=at,y=ni;m.nodeType!==8;){if(!y){m=null;break t}if(m=si(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){at=si(m.nextSibling),c=m.data==="F!";break e}}ar(c)}c=!1}c&&(r=o[0])}}return o=Tn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:L0,lastRenderedState:r},o.queue=c,o=sT.bind(null,Ce,c),c.dispatch=o,c=tp(!1),y=lp.bind(null,Ce,!1,c.queue),c=Tn(),m={state:r,dispatch:null,action:i,pending:null},c.queue=m,o=aN.bind(null,Ce,m,y,o),m.dispatch=o,c.memoizedState=i,[r,o,!1]}function z0(i){var r=Rt();return B0(r,Ze,i)}function B0(i,r,o){if(r=Zm(i,r,L0)[0],i=qh(xs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Tc(r)}catch(E){throw E===ko?Mh:E}else c=r;r=Rt();var m=r.queue,y=m.dispatch;return o!==r.memoizedState&&(Ce.flags|=2048,Uo(9,{destroy:void 0},oN.bind(null,m,o),null)),[c,y,i]}function oN(i,r){i.action=r}function F0(i){var r=Rt(),o=Ze;if(o!==null)return B0(r,o,i);Rt(),r=r.memoizedState,o=Rt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Uo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=Bh(),Ce.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function q0(){return Rt().memoizedState}function Hh(i,r,o,c){var m=Tn();Ce.flags|=i,m.memoizedState=Uo(1|r,{destroy:void 0},o,c===void 0?null:c)}function Gh(i,r,o,c){var m=Rt();c=c===void 0?null:c;var y=m.memoizedState.inst;Ze!==null&&c!==null&&$m(c,Ze.memoizedState.deps)?m.memoizedState=Uo(r,y,o,c):(Ce.flags|=i,m.memoizedState=Uo(1|r,y,o,c))}function H0(i,r){Hh(8390656,8,i,r)}function ip(i,r){Gh(2048,8,i,r)}function lN(i){Ce.flags|=4;var r=Ce.updateQueue;if(r===null)r=Bh(),Ce.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function G0(i){var r=Rt().memoizedState;return lN({ref:r,nextImpl:i}),function(){if(($e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function K0(i,r){return Gh(4,2,i,r)}function $0(i,r){return Gh(4,4,i,r)}function Y0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Q0(i,r,o){o=o!=null?o.concat([i]):null,Gh(4,4,Y0.bind(null,r,i),o)}function sp(){}function X0(i,r){var o=Rt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&$m(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function W0(i,r){var o=Rt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&$m(r,c[1]))return c[0];if(c=i(),ja){$n(!0);try{i()}finally{$n(!1)}}return o.memoizedState=[c,r],c}function rp(i,r,o){return o===void 0||(ws&1073741824)!==0&&(Pe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=JT(),Ce.lanes|=i,pr|=i,o)}function J0(i,r,o,c){return Pn(o,r)?o:Vo.current!==null?(i=rp(i,o,c),Pn(i,r)||(Vt=!0),i):(ws&42)===0||(ws&1073741824)!==0&&(Pe&261930)===0?(Vt=!0,i.memoizedState=o):(i=JT(),Ce.lanes|=i,pr|=i,r)}function Z0(i,r,o,c,m){var y=ae.p;ae.p=y!==0&&8>y?y:8;var E=J.T,A={};J.T=A,lp(i,!1,r,o);try{var P=m(),$=J.S;if($!==null&&$(A,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var W=iN(P,c);Ec(i,r,W,Bn(i))}else Ec(i,r,c,Bn(i))}catch(te){Ec(i,r,{then:function(){},status:"rejected",reason:te},Bn())}finally{ae.p=y,E!==null&&A.types!==null&&(E.types=A.types),J.T=E}}function cN(){}function ap(i,r,o,c){if(i.tag!==5)throw Error(s(476));var m=eT(i).queue;Z0(i,m,r,de,o===null?cN:function(){return tT(i),o(c)})}function eT(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function tT(i){var r=eT(i);r.next===null&&(r=i.alternate.memoizedState),Ec(i,r.next.queue,{},Bn())}function op(){return nn(Lc)}function nT(){return Rt().memoizedState}function iT(){return Rt().memoizedState}function uN(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Bn();i=cr(o);var c=ur(r,i,o);c!==null&&(In(c,r,o),gc(c,r,o)),r={cache:Vm()},i.payload=r;return}r=r.return}}function hN(i,r,o){var c=Bn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Kh(i)?rT(r,o):(o=wm(i,r,o,c),o!==null&&(In(o,i,c),aT(o,r,c)))}function sT(i,r,o){var c=Bn();Ec(i,r,o,c)}function Ec(i,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Kh(i))rT(r,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var E=r.lastRenderedState,A=y(E,o);if(m.hasEagerState=!0,m.eagerState=A,Pn(A,E))return xh(i,r,m,0),it===null&&wh(),!1}catch{}if(o=wm(i,r,m,c),o!==null)return In(o,i,c),aT(o,r,c),!0}return!1}function lp(i,r,o,c){if(c={lane:2,revertLane:zp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Kh(i)){if(r)throw Error(s(479))}else r=wm(i,o,c,2),r!==null&&In(r,i,2)}function Kh(i){var r=i.alternate;return i===Ce||r!==null&&r===Ce}function rT(i,r){Oo=Uh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function aT(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,ql(i,o)}}var bc={readContext:nn,use:Fh,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};bc.useEffectEvent=yt;var oT={readContext:nn,use:Fh,useCallback:function(i,r){return Tn().memoizedState=[i,r===void 0?null:r],i},useContext:nn,useEffect:H0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Hh(4194308,4,Y0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Hh(4194308,4,i,r)},useInsertionEffect:function(i,r){Hh(4,2,i,r)},useMemo:function(i,r){var o=Tn();r=r===void 0?null:r;var c=i();if(ja){$n(!0);try{i()}finally{$n(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=Tn();if(o!==void 0){var m=o(r);if(ja){$n(!0);try{o(r)}finally{$n(!1)}}}else m=r;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=hN.bind(null,Ce,i),[c.memoizedState,i]},useRef:function(i){var r=Tn();return i={current:i},r.memoizedState=i},useState:function(i){i=tp(i);var r=i.queue,o=sT.bind(null,Ce,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:sp,useDeferredValue:function(i,r){var o=Tn();return rp(o,i,r)},useTransition:function(){var i=tp(!1);return i=Z0.bind(null,Ce,i.queue,!0,!1),Tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Ce,m=Tn();if(ze){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),it===null)throw Error(s(349));(Pe&127)!==0||C0(c,r,o)}m.memoizedState=o;var y={value:o,getSnapshot:r};return m.queue=y,H0(I0.bind(null,c,y,i),[i]),c.flags|=2048,Uo(9,{destroy:void 0},N0.bind(null,c,y,o,r),null),o},useId:function(){var i=Tn(),r=it.identifierPrefix;if(ze){var o=Zi,c=Ji;o=(c&~(1<<32-At(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=zh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=sN++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:op,useFormState:U0,useActionState:U0,useOptimistic:function(i){var r=Tn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=lp.bind(null,Ce,!0,o),o.dispatch=r,[i,r]},useMemoCache:Jm,useCacheRefresh:function(){return Tn().memoizedState=uN.bind(null,Ce)},useEffectEvent:function(i){var r=Tn(),o={impl:i};return r.memoizedState=o,function(){if(($e&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},cp={readContext:nn,use:Fh,useCallback:X0,useContext:nn,useEffect:ip,useImperativeHandle:Q0,useInsertionEffect:K0,useLayoutEffect:$0,useMemo:W0,useReducer:qh,useRef:q0,useState:function(){return qh(xs)},useDebugValue:sp,useDeferredValue:function(i,r){var o=Rt();return J0(o,Ze.memoizedState,i,r)},useTransition:function(){var i=qh(xs)[0],r=Rt().memoizedState;return[typeof i=="boolean"?i:Tc(i),r]},useSyncExternalStore:R0,useId:nT,useHostTransitionStatus:op,useFormState:z0,useActionState:z0,useOptimistic:function(i,r){var o=Rt();return M0(o,Ze,i,r)},useMemoCache:Jm,useCacheRefresh:iT};cp.useEffectEvent=G0;var lT={readContext:nn,use:Fh,useCallback:X0,useContext:nn,useEffect:ip,useImperativeHandle:Q0,useInsertionEffect:K0,useLayoutEffect:$0,useMemo:W0,useReducer:ep,useRef:q0,useState:function(){return ep(xs)},useDebugValue:sp,useDeferredValue:function(i,r){var o=Rt();return Ze===null?rp(o,i,r):J0(o,Ze.memoizedState,i,r)},useTransition:function(){var i=ep(xs)[0],r=Rt().memoizedState;return[typeof i=="boolean"?i:Tc(i),r]},useSyncExternalStore:R0,useId:nT,useHostTransitionStatus:op,useFormState:F0,useActionState:F0,useOptimistic:function(i,r){var o=Rt();return Ze!==null?M0(o,Ze,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Jm,useCacheRefresh:iT};lT.useEffectEvent=G0;function up(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var hp={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Bn(),m=cr(c);m.payload=r,o!=null&&(m.callback=o),r=ur(i,m,c),r!==null&&(In(r,i,c),gc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Bn(),m=cr(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=ur(i,m,c),r!==null&&(In(r,i,c),gc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Bn(),c=cr(o);c.tag=2,r!=null&&(c.callback=r),r=ur(i,c,o),r!==null&&(In(r,i,o),gc(r,i,o))}};function cT(i,r,o,c,m,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,E):r.prototype&&r.prototype.isPureReactComponent?!lc(o,c)||!lc(m,y):!0}function uT(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&hp.enqueueReplaceState(r,r.state,null)}function Ma(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function hT(i){Ah(i)}function fT(i){console.error(i)}function dT(i){Ah(i)}function $h(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function mT(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function fp(i,r,o){return o=cr(o),o.tag=3,o.payload={element:null},o.callback=function(){$h(i,r)},o}function pT(i){return i=cr(i),i.tag=3,i}function gT(i,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;i.payload=function(){return m(y)},i.callback=function(){mT(r,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){mT(r,o,c),typeof m!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function fN(i,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Do(r,o,m,!0),o=On.current,o!==null){switch(o.tag){case 31:case 13:return ii===null?af():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===kh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Op(i,c,m)),!1;case 22:return o.flags|=65536,c===kh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Op(i,c,m)),!1}throw Error(s(435,o.tag))}return Op(i,c,m),af(),!1}if(ze)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Dm&&(i=Error(s(422),{cause:c}),hc(Zn(i,o)))):(c!==Dm&&(r=Error(s(423),{cause:c}),hc(Zn(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Zn(c,o),m=fp(i.stateNode,c,m),Fm(i,m),vt!==4&&(vt=2)),!1;var y=Error(s(520),{cause:c});if(y=Zn(y,o),Ic===null?Ic=[y]:Ic.push(y),vt!==4&&(vt=2),r===null)return!0;c=Zn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=fp(o.stateNode,c,i),Fm(o,i),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gr===null||!gr.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=pT(m),gT(m,i,o,c),Fm(o,m),!1}o=o.return}while(o!==null);return!1}var dp=Error(s(461)),Vt=!1;function sn(i,r,o,c){r.child=i===null?T0(r,null,o,c):Da(r,i.child,o,c)}function yT(i,r,o,c,m){o=o.render;var y=r.ref;if("ref"in c){var E={};for(var A in c)A!=="ref"&&(E[A]=c[A])}else E=c;return Ra(r),c=Ym(i,r,o,E,y,m),A=Qm(),i!==null&&!Vt?(Xm(i,r,m),Rs(i,r,m)):(ze&&A&&Nm(r),r.flags|=1,sn(i,r,c,m),r.child)}function vT(i,r,o,c,m){if(i===null){var y=o.type;return typeof y=="function"&&!xm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,_T(i,r,y,c,m)):(i=Ch(o.type,null,c,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!Ep(i,m)){var E=y.memoizedProps;if(o=o.compare,o=o!==null?o:lc,o(E,c)&&i.ref===r.ref)return Rs(i,r,m)}return r.flags|=1,i=Es(y,c),i.ref=r.ref,i.return=r,r.child=i}function _T(i,r,o,c,m){if(i!==null){var y=i.memoizedProps;if(lc(y,c)&&i.ref===r.ref)if(Vt=!1,r.pendingProps=c=y,Ep(i,m))(i.flags&131072)!==0&&(Vt=!0);else return r.lanes=i.lanes,Rs(i,r,m)}return mp(i,r,o,c,m)}function TT(i,r,o,c){var m=c.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,i!==null){for(c=r.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~y}else c=0,r.child=null;return ET(i,r,y,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&jh(r,y!==null?y.cachePool:null),y!==null?S0(r,y):Hm(),A0(r);else return c=r.lanes=536870912,ET(i,r,y!==null?y.baseLanes|o:o,o,c)}else y!==null?(jh(r,y.cachePool),S0(r,y),fr(),r.memoizedState=null):(i!==null&&jh(r,null),Hm(),fr());return sn(i,r,m,o),r.child}function Sc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function ET(i,r,o,c,m){var y=Lm();return y=y===null?null:{parent:kt._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},i!==null&&jh(r,null),Hm(),A0(r),i!==null&&Do(i,r,c,!0),r.childLanes=m,null}function Yh(i,r){return r=Xh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function bT(i,r,o){return Da(r,i.child,null,o),i=Yh(r,r.pendingProps),i.flags|=2,Ln(r),r.memoizedState=null,i}function dN(i,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(ze){if(c.mode==="hidden")return i=Yh(r,c),r.lanes=536870912,Sc(null,i);if(Km(r),(i=at)?(i=kE(i,ni),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:sr!==null?{id:Ji,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},o=r0(i),o.return=r,r.child=o,tn=r,at=null)):i=null,i===null)throw ar(r);return r.lanes=536870912,null}return Yh(r,c)}var y=i.memoizedState;if(y!==null){var E=y.dehydrated;if(Km(r),m)if(r.flags&256)r.flags&=-257,r=bT(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Vt||Do(i,r,o,!1),m=(o&i.childLanes)!==0,Vt||m){if(c=it,c!==null&&(E=Hl(c,o),E!==0&&E!==y.retryLane))throw y.retryLane=E,Sa(i,E),In(c,i,E),dp;af(),r=bT(i,r,o)}else i=y.treeContext,at=si(E.nextSibling),tn=r,ze=!0,rr=null,ni=!1,i!==null&&l0(r,i),r=Yh(r,c),r.flags|=4096;return r}return i=Es(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Qh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function mp(i,r,o,c,m){return Ra(r),o=Ym(i,r,o,c,void 0,m),c=Qm(),i!==null&&!Vt?(Xm(i,r,m),Rs(i,r,m)):(ze&&c&&Nm(r),r.flags|=1,sn(i,r,o,m),r.child)}function ST(i,r,o,c,m,y){return Ra(r),r.updateQueue=null,o=x0(r,c,o,m),w0(i),c=Qm(),i!==null&&!Vt?(Xm(i,r,y),Rs(i,r,y)):(ze&&c&&Nm(r),r.flags|=1,sn(i,r,o,y),r.child)}function AT(i,r,o,c,m){if(Ra(r),r.stateNode===null){var y=Ro,E=o.contextType;typeof E=="object"&&E!==null&&(y=nn(E)),y=new o(c,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=hp,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=c,y.state=r.memoizedState,y.refs={},zm(r),E=o.contextType,y.context=typeof E=="object"&&E!==null?nn(E):Ro,y.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(up(r,o,E,c),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&hp.enqueueReplaceState(y,y.state,null),vc(r,c,y,m),yc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){y=r.stateNode;var A=r.memoizedProps,P=Ma(o,A);y.props=P;var $=y.context,W=o.contextType;E=Ro,typeof W=="object"&&W!==null&&(E=nn(W));var te=o.getDerivedStateFromProps;W=typeof te=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,W||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||$!==E)&&uT(r,y,c,E),lr=!1;var Y=r.memoizedState;y.state=Y,vc(r,c,y,m),yc(),$=r.memoizedState,A||Y!==$||lr?(typeof te=="function"&&(up(r,o,te,c),$=r.memoizedState),(P=lr||cT(r,o,P,c,Y,$,E))?(W||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=$),y.props=c,y.state=$,y.context=E,c=P):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{y=r.stateNode,Bm(i,r),E=r.memoizedProps,W=Ma(o,E),y.props=W,te=r.pendingProps,Y=y.context,$=o.contextType,P=Ro,typeof $=="object"&&$!==null&&(P=nn($)),A=o.getDerivedStateFromProps,($=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==te||Y!==P)&&uT(r,y,c,P),lr=!1,Y=r.memoizedState,y.state=Y,vc(r,c,y,m),yc();var X=r.memoizedState;E!==te||Y!==X||lr||i!==null&&i.dependencies!==null&&Ih(i.dependencies)?(typeof A=="function"&&(up(r,o,A,c),X=r.memoizedState),(W=lr||cT(r,o,W,c,Y,X,P)||i!==null&&i.dependencies!==null&&Ih(i.dependencies))?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,X,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,X,P)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=X),y.props=c,y.state=X,y.context=P,c=W):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),c=!1)}return y=c,Qh(i,r),c=(r.flags&128)!==0,y||c?(y=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&c?(r.child=Da(r,i.child,null,m),r.child=Da(r,null,o,m)):sn(i,r,o,m),r.memoizedState=y.state,i=r.child):i=Rs(i,r,m),i}function wT(i,r,o,c){return wa(),r.flags|=256,sn(i,r,o,c),r.child}var pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gp(i){return{baseLanes:i,cachePool:m0()}}function yp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=zn),i}function xT(i,r,o){var c=r.pendingProps,m=!1,y=(r.flags&128)!==0,E;if((E=y)||(E=i!==null&&i.memoizedState===null?!1:(xt.current&2)!==0),E&&(m=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(ze){if(m?hr(r):fr(),(i=at)?(i=kE(i,ni),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:sr!==null?{id:Ji,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},o=r0(i),o.return=r,r.child=o,tn=r,at=null)):i=null,i===null)throw ar(r);return Zp(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(fr(),m=r.mode,A=Xh({mode:"hidden",children:A},m),c=Aa(c,m,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=gp(o),c.childLanes=yp(i,E,o),r.memoizedState=pp,Sc(null,c)):(hr(r),vp(r,A))}var P=i.memoizedState;if(P!==null&&(A=P.dehydrated,A!==null)){if(y)r.flags&256?(hr(r),r.flags&=-257,r=_p(i,r,o)):r.memoizedState!==null?(fr(),r.child=i.child,r.flags|=128,r=null):(fr(),A=c.fallback,m=r.mode,c=Xh({mode:"visible",children:c.children},m),A=Aa(A,m,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,Da(r,i.child,null,o),c=r.child,c.memoizedState=gp(o),c.childLanes=yp(i,E,o),r.memoizedState=pp,r=Sc(null,c));else if(hr(r),Zp(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var $=E.dgst;E=$,c=Error(s(419)),c.stack="",c.digest=E,hc({value:c,source:null,stack:null}),r=_p(i,r,o)}else if(Vt||Do(i,r,o,!1),E=(o&i.childLanes)!==0,Vt||E){if(E=it,E!==null&&(c=Hl(E,o),c!==0&&c!==P.retryLane))throw P.retryLane=c,Sa(i,c),In(E,i,c),dp;Jp(A)||af(),r=_p(i,r,o)}else Jp(A)?(r.flags|=192,r.child=i.child,r=null):(i=P.treeContext,at=si(A.nextSibling),tn=r,ze=!0,rr=null,ni=!1,i!==null&&l0(r,i),r=vp(r,c.children),r.flags|=4096);return r}return m?(fr(),A=c.fallback,m=r.mode,P=i.child,$=P.sibling,c=Es(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,$!==null?A=Es($,A):(A=Aa(A,m,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,Sc(null,c),c=r.child,A=i.child.memoizedState,A===null?A=gp(o):(m=A.cachePool,m!==null?(P=kt._currentValue,m=m.parent!==P?{parent:P,pool:P}:m):m=m0(),A={baseLanes:A.baseLanes|o,cachePool:m}),c.memoizedState=A,c.childLanes=yp(i,E,o),r.memoizedState=pp,Sc(i.child,c)):(hr(r),o=i.child,i=o.sibling,o=Es(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=o,r.memoizedState=null,o)}function vp(i,r){return r=Xh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Xh(i,r){return i=Vn(22,i,null,r),i.lanes=0,i}function _p(i,r,o){return Da(r,i.child,null,o),i=vp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function RT(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),km(i.return,r,o)}function Tp(i,r,o,c,m,y){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:y}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=o,E.tailMode=m,E.treeForkCount=y)}function CT(i,r,o){var c=r.pendingProps,m=c.revealOrder,y=c.tail;c=c.children;var E=xt.current,A=(E&2)!==0;if(A?(E=E&1|2,r.flags|=128):E&=1,le(xt,E),sn(i,r,c,o),c=ze?uc:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&RT(i,o,r);else if(i.tag===19)RT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&Lh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),Tp(r,!1,m,o,y,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Lh(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Tp(r,!0,o,null,y,c);break;case"together":Tp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Rs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),pr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Do(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Es(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Es(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Ep(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Ih(i)))}function mN(i,r,o){switch(r.tag){case 3:Ft(r,r.stateNode.containerInfo),or(r,kt,i.memoizedState.cache),wa();break;case 27:case 5:ra(r);break;case 4:Ft(r,r.stateNode.containerInfo);break;case 10:or(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Km(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(hr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?xT(i,r,o):(hr(r),i=Rs(i,r,o),i!==null?i.sibling:null);hr(r);break;case 19:var m=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Do(i,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return CT(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),le(xt,xt.current),c)break;return null;case 22:return r.lanes=0,TT(i,r,o,r.pendingProps);case 24:or(r,kt,i.memoizedState.cache)}return Rs(i,r,o)}function NT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Vt=!0;else{if(!Ep(i,o)&&(r.flags&128)===0)return Vt=!1,mN(i,r,o);Vt=(i.flags&131072)!==0}else Vt=!1,ze&&(r.flags&1048576)!==0&&o0(r,uc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Na(r.elementType),r.type=i,typeof i=="function")xm(i)?(c=Ma(i,c),r.tag=1,r=AT(null,r,i,c,o)):(r.tag=0,r=mp(null,r,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===se){r.tag=11,r=yT(null,r,i,c,o);break e}else if(m===D){r.tag=14,r=vT(null,r,i,c,o);break e}}throw r=nt(i)||i,Error(s(306,r,""))}}return r;case 0:return mp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=Ma(c,r.pendingProps),AT(i,r,c,m,o);case 3:e:{if(Ft(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var y=r.memoizedState;m=y.element,Bm(i,r),vc(r,c,null,o);var E=r.memoizedState;if(c=E.cache,or(r,kt,c),c!==y.cache&&Pm(r,[kt],o,!0),yc(),c=E.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=wT(i,r,c,o);break e}else if(c!==m){m=Zn(Error(s(424)),r),hc(m),r=wT(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,at=si(i.firstChild),tn=r,ze=!0,rr=null,ni=!0,o=T0(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(wa(),c===m){r=Rs(i,r,o);break e}sn(i,r,c,o)}r=r.child}return r;case 26:return Qh(i,r),i===null?(o=zE(r.type,null,r.pendingProps,null))?r.memoizedState=o:ze||(o=r.type,i=r.pendingProps,c=df(Ie.current).createElement(o),c[Dt]=r,c[Yt]=i,rn(c,o,i),jt(c),r.stateNode=c):r.memoizedState=zE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ra(r),i===null&&ze&&(c=r.stateNode=OE(r.type,r.pendingProps,Ie.current),tn=r,ni=!0,m=at,Tr(r.type)?(eg=m,at=si(c.firstChild)):at=m),sn(i,r,r.pendingProps.children,o),Qh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&ze&&((m=c=at)&&(c=HN(c,r.type,r.pendingProps,ni),c!==null?(r.stateNode=c,tn=r,at=si(c.firstChild),ni=!1,m=!0):m=!1),m||ar(r)),ra(r),m=r.type,y=r.pendingProps,E=i!==null?i.memoizedProps:null,c=y.children,Qp(m,y)?c=null:E!==null&&Qp(m,E)&&(r.flags|=32),r.memoizedState!==null&&(m=Ym(i,r,rN,null,null,o),Lc._currentValue=m),Qh(i,r),sn(i,r,c,o),r.child;case 6:return i===null&&ze&&((i=o=at)&&(o=GN(o,r.pendingProps,ni),o!==null?(r.stateNode=o,tn=r,at=null,i=!0):i=!1),i||ar(r)),null;case 13:return xT(i,r,o);case 4:return Ft(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Da(r,null,c,o):sn(i,r,c,o),r.child;case 11:return yT(i,r,r.type,r.pendingProps,o);case 7:return sn(i,r,r.pendingProps,o),r.child;case 8:return sn(i,r,r.pendingProps.children,o),r.child;case 12:return sn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,or(r,r.type,c.value),sn(i,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,Ra(r),m=nn(m),c=c(m),r.flags|=1,sn(i,r,c,o),r.child;case 14:return vT(i,r,r.type,r.pendingProps,o);case 15:return _T(i,r,r.type,r.pendingProps,o);case 19:return CT(i,r,o);case 31:return dN(i,r,o);case 22:return TT(i,r,o,r.pendingProps);case 24:return Ra(r),c=nn(kt),i===null?(m=Lm(),m===null&&(m=it,y=Vm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),r.memoizedState={parent:c,cache:m},zm(r),or(r,kt,m)):((i.lanes&o)!==0&&(Bm(i,r),vc(r,null,null,o),yc()),m=i.memoizedState,y=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),or(r,kt,c)):(c=y.cache,or(r,kt,c),c!==m.cache&&Pm(r,[kt],o,!0))),sn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Cs(i){i.flags|=4}function bp(i,r,o,c,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(nE())i.flags|=8192;else throw Ia=kh,Um}else i.flags&=-16777217}function IT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!GE(r))if(nE())i.flags|=8192;else throw Ia=kh,Um}function Wh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ih():536870912,i.lanes|=r,qo|=r)}function Ac(i,r){if(!ze)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ot(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function pN(i,r,o){var c=r.pendingProps;switch(Im(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),As(kt),ct(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Io(r)?Cs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jm())),ot(r),null;case 26:var m=r.type,y=r.memoizedState;return i===null?(Cs(r),y!==null?(ot(r),IT(r,y)):(ot(r),bp(r,m,null,c,o))):y?y!==i.memoizedState?(Cs(r),ot(r),IT(r,y)):(ot(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Cs(r),ot(r),bp(r,m,i,c,o)),null;case 27:if(oo(r),o=Ie.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Cs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ot(r),null}i=fe.current,Io(r)?c0(r):(i=OE(m,c,o),r.stateNode=i,Cs(r))}return ot(r),null;case 5:if(oo(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Cs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(y=fe.current,Io(r))c0(r);else{var E=df(Ie.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?E.createElement(m,{is:c.is}):E.createElement(m)}}y[Dt]=r,y[Yt]=c;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=y;e:switch(rn(y,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Cs(r)}}return ot(r),bp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Cs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ie.current,Io(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,m=tn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Dt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||xE(i.nodeValue,o)),i||ar(r,!0)}else i=df(i).createTextNode(c),i[Dt]=r,r.stateNode=i}return ot(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Io(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Dt]=r}else wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),i=!1}else o=jm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Ln(r),r):(Ln(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ot(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Io(r),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Dt]=r}else wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),m=!1}else m=jm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Ln(r),r):(Ln(r),null)}return Ln(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Wh(r,r.updateQueue),ot(r),null);case 4:return ct(),i===null&&Hp(r.stateNode.containerInfo),ot(r),null;case 10:return As(r.type),ot(r),null;case 19:if(ne(xt),c=r.memoizedState,c===null)return ot(r),null;if(m=(r.flags&128)!==0,y=c.rendering,y===null)if(m)Ac(c,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=Lh(i),y!==null){for(r.flags|=128,Ac(c,!1),i=y.updateQueue,r.updateQueue=i,Wh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)s0(o,i),o=o.sibling;return le(xt,xt.current&1|2),ze&&bs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&vn()>nf&&(r.flags|=128,m=!0,Ac(c,!1),r.lanes=4194304)}else{if(!m)if(i=Lh(y),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,Wh(r,i),Ac(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!ze)return ot(r),null}else 2*vn()-c.renderingStartTime>nf&&o!==536870912&&(r.flags|=128,m=!0,Ac(c,!1),r.lanes=4194304);c.isBackwards?(y.sibling=r.child,r.child=y):(i=c.last,i!==null?i.sibling=y:r.child=y,c.last=y)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=vn(),i.sibling=null,o=xt.current,le(xt,m?o&1|2:o&1),ze&&bs(r,c.treeForkCount),i):(ot(r),null);case 22:case 23:return Ln(r),Gm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),o=r.updateQueue,o!==null&&Wh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&ne(Ca),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),As(kt),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function gN(i,r){switch(Im(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return As(kt),ct(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return oo(r),null;case 31:if(r.memoizedState!==null){if(Ln(r),r.alternate===null)throw Error(s(340));wa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Ln(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));wa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ne(xt),null;case 4:return ct(),null;case 10:return As(r.type),null;case 22:case 23:return Ln(r),Gm(),i!==null&&ne(Ca),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return As(kt),null;case 25:return null;default:return null}}function DT(i,r){switch(Im(r),r.tag){case 3:As(kt),ct();break;case 26:case 27:case 5:oo(r);break;case 4:ct();break;case 31:r.memoizedState!==null&&Ln(r);break;case 13:Ln(r);break;case 19:ne(xt);break;case 10:As(r.type);break;case 22:case 23:Ln(r),Gm(),i!==null&&ne(Ca);break;case 24:As(kt)}}function wc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var y=o.create,E=o.inst;c=y(),E.destroy=c}o=o.next}while(o!==m)}}catch(A){We(r,r.return,A)}}function dr(i,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&i)===i){var E=c.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,m=r;var P=o,$=A;try{$()}catch(W){We(m,P,W)}}}c=c.next}while(c!==y)}}catch(W){We(r,r.return,W)}}function jT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{b0(r,o)}catch(c){We(i,i.return,c)}}}function MT(i,r,o){o.props=Ma(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){We(i,r,c)}}function xc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){We(i,r,m)}}function es(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){We(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){We(i,r,m)}else o.current=null}function kT(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){We(i,i.return,m)}}function Sp(i,r,o){try{var c=i.stateNode;LN(c,i.type,o,r),c[Yt]=r}catch(m){We(i,i.return,m)}}function PT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Tr(i.type)||i.tag===4}function Ap(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||PT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Tr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function wp(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=gi));else if(c!==4&&(c===27&&Tr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(wp(i,r,o),i=i.sibling;i!==null;)wp(i,r,o),i=i.sibling}function Jh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Tr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Jh(i,r,o),i=i.sibling;i!==null;)Jh(i,r,o),i=i.sibling}function VT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);rn(r,c,o),r[Dt]=i,r[Yt]=o}catch(y){We(i,i.return,y)}}var Ns=!1,Ot=!1,xp=!1,OT=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function yN(i,r){if(i=i.containerInfo,$p=Tf,i=Q_(i),_m(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var E=0,A=-1,P=-1,$=0,W=0,te=i,Y=null;t:for(;;){for(var X;te!==o||m!==0&&te.nodeType!==3||(A=E+m),te!==y||c!==0&&te.nodeType!==3||(P=E+c),te.nodeType===3&&(E+=te.nodeValue.length),(X=te.firstChild)!==null;)Y=te,te=X;for(;;){if(te===i)break t;if(Y===o&&++$===m&&(A=E),Y===y&&++W===c&&(P=E),(X=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=X}o=A===-1||P===-1?null:{start:A,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(Yp={focusedElem:i,selectionRange:o},Tf=!1,Xt=r;Xt!==null;)if(r=Xt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Xt=i;else for(;Xt!==null;){switch(r=Xt,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=r,m=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var me=Ma(o.type,m);i=c.getSnapshotBeforeUpdate(me,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(Te){We(o,o.return,Te)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Wp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Xt=i;break}Xt=r.return}}function LT(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ds(i,o),c&4&&wc(5,o);break;case 1:if(Ds(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(E){We(o,o.return,E)}else{var m=Ma(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){We(o,o.return,E)}}c&64&&jT(o),c&512&&xc(o,o.return);break;case 3:if(Ds(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{b0(i,r)}catch(E){We(o,o.return,E)}}break;case 27:r===null&&c&4&&VT(o);case 26:case 5:Ds(i,o),r===null&&c&4&&kT(o),c&512&&xc(o,o.return);break;case 12:Ds(i,o);break;case 31:Ds(i,o),c&4&&BT(i,o);break;case 13:Ds(i,o),c&4&&FT(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=xN.bind(null,o),KN(i,o))));break;case 22:if(c=o.memoizedState!==null||Ns,!c){r=r!==null&&r.memoizedState!==null||Ot,m=Ns;var y=Ot;Ns=c,(Ot=r)&&!y?js(i,o,(o.subtreeFlags&8772)!==0):Ds(i,o),Ns=m,Ot=y}break;case 30:break;default:Ds(i,o)}}function UT(i){var r=i.alternate;r!==null&&(i.alternate=null,UT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&fo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,xn=!1;function Is(i,r,o){for(o=o.child;o!==null;)zT(i,r,o),o=o.sibling}function zT(i,r,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(fi,o)}catch{}switch(o.tag){case 26:Ot||es(o,r),Is(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ot||es(o,r);var c=ht,m=xn;Tr(o.type)&&(ht=o.stateNode,xn=!1),Is(i,r,o),Pc(o.stateNode),ht=c,xn=m;break;case 5:Ot||es(o,r);case 6:if(c=ht,m=xn,ht=null,Is(i,r,o),ht=c,xn=m,ht!==null)if(xn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(y){We(o,r,y)}else try{ht.removeChild(o.stateNode)}catch(y){We(o,r,y)}break;case 18:ht!==null&&(xn?(i=ht,jE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Wo(i)):jE(ht,o.stateNode));break;case 4:c=ht,m=xn,ht=o.stateNode.containerInfo,xn=!0,Is(i,r,o),ht=c,xn=m;break;case 0:case 11:case 14:case 15:dr(2,o,r),Ot||dr(4,o,r),Is(i,r,o);break;case 1:Ot||(es(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&MT(o,r,c)),Is(i,r,o);break;case 21:Is(i,r,o);break;case 22:Ot=(c=Ot)||o.memoizedState!==null,Is(i,r,o),Ot=c;break;default:Is(i,r,o)}}function BT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Wo(i)}catch(o){We(r,r.return,o)}}}function FT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Wo(i)}catch(o){We(r,r.return,o)}}function vN(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new OT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new OT),r;default:throw Error(s(435,i.tag))}}function Zh(i,r){var o=vN(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=RN.bind(null,i,c);c.then(m,m)}})}function Rn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],y=i,E=r,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(Tr(A.type)){ht=A.stateNode,xn=!1;break e}break;case 5:ht=A.stateNode,xn=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,xn=!0;break e}A=A.return}if(ht===null)throw Error(s(160));zT(y,E,m),ht=null,xn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)qT(r,i),r=r.sibling}var bi=null;function qT(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Rn(r,i),Cn(i),c&4&&(dr(3,i,i.return),wc(3,i),dr(5,i,i.return));break;case 1:Rn(r,i),Cn(i),c&512&&(Ot||o===null||es(o,o.return)),c&64&&Ns&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=bi;if(Rn(r,i),Cn(i),c&512&&(Ot||o===null||es(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[zi]||y[Dt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),rn(y,c,o),y[Dt]=i,jt(y),c=y;break e;case"link":var E=qE("link","href",m).get(c+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(y=E[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break t}}y=m.createElement(c),rn(y,c,o),m.head.appendChild(y);break;case"meta":if(E=qE("meta","content",m).get(c+(o.content||""))){for(A=0;A<E.length;A++)if(y=E[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break t}}y=m.createElement(c),rn(y,c,o),m.head.appendChild(y);break;default:throw Error(s(468,c))}y[Dt]=i,jt(y),c=y}i.stateNode=c}else HE(m,i.type,i.stateNode);else i.stateNode=FE(m,c,i.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?HE(m,i.type,i.stateNode):FE(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Sp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Rn(r,i),Cn(i),c&512&&(Ot||o===null||es(o,o.return)),o!==null&&c&4&&Sp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Rn(r,i),Cn(i),c&512&&(Ot||o===null||es(o,o.return)),i.flags&32){m=i.stateNode;try{wn(m,"")}catch(me){We(i,i.return,me)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Sp(i,m,o!==null?o.memoizedProps:m)),c&1024&&(xp=!0);break;case 6:if(Rn(r,i),Cn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(me){We(i,i.return,me)}}break;case 3:if(gf=null,m=bi,bi=mf(r.containerInfo),Rn(r,i),bi=m,Cn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Wo(r.containerInfo)}catch(me){We(i,i.return,me)}xp&&(xp=!1,HT(i));break;case 4:c=bi,bi=mf(i.stateNode.containerInfo),Rn(r,i),Cn(i),bi=c;break;case 12:Rn(r,i),Cn(i);break;case 31:Rn(r,i),Cn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Zh(i,c)));break;case 13:Rn(r,i),Cn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(tf=vn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Zh(i,c)));break;case 22:m=i.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,$=Ns,W=Ot;if(Ns=$||m,Ot=W||P,Rn(r,i),Ot=W,Ns=$,Cn(i),c&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||P||Ns||Ot||ka(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){P=o=r;try{if(y=P.stateNode,m)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=P.stateNode;var te=P.memoizedProps.style,Y=te!=null&&te.hasOwnProperty("display")?te.display:null;A.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(me){We(P,P.return,me)}}}else if(r.tag===6){if(o===null){P=r;try{P.stateNode.nodeValue=m?"":P.memoizedProps}catch(me){We(P,P.return,me)}}}else if(r.tag===18){if(o===null){P=r;try{var X=P.stateNode;m?ME(X,!0):ME(P.stateNode,!1)}catch(me){We(P,P.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Zh(i,o))));break;case 19:Rn(r,i),Cn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Zh(i,c)));break;case 30:break;case 21:break;default:Rn(r,i),Cn(i)}}function Cn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(PT(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,y=Ap(i);Jh(i,y,m);break;case 5:var E=o.stateNode;o.flags&32&&(wn(E,""),o.flags&=-33);var A=Ap(i);Jh(i,A,E);break;case 3:case 4:var P=o.stateNode.containerInfo,$=Ap(i);wp(i,$,P);break;default:throw Error(s(161))}}catch(W){We(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function HT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;HT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ds(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)LT(i,r.alternate,r),r=r.sibling}function ka(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:dr(4,r,r.return),ka(r);break;case 1:es(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&MT(r,r.return,o),ka(r);break;case 27:Pc(r.stateNode);case 26:case 5:es(r,r.return),ka(r);break;case 22:r.memoizedState===null&&ka(r);break;case 30:ka(r);break;default:ka(r)}i=i.sibling}}function js(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=i,y=r,E=y.flags;switch(y.tag){case 0:case 11:case 15:js(m,y,o),wc(4,y);break;case 1:if(js(m,y,o),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch($){We(c,c.return,$)}if(c=y,m=c.updateQueue,m!==null){var A=c.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)E0(P[m],A)}catch($){We(c,c.return,$)}}o&&E&64&&jT(y),xc(y,y.return);break;case 27:VT(y);case 26:case 5:js(m,y,o),o&&c===null&&E&4&&kT(y),xc(y,y.return);break;case 12:js(m,y,o);break;case 31:js(m,y,o),o&&E&4&&BT(m,y);break;case 13:js(m,y,o),o&&E&4&&FT(m,y);break;case 22:y.memoizedState===null&&js(m,y,o),xc(y,y.return);break;case 30:break;default:js(m,y,o)}r=r.sibling}}function Rp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&fc(o))}function Cp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&fc(i))}function Si(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)GT(i,r,o,c),r=r.sibling}function GT(i,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Si(i,r,o,c),m&2048&&wc(9,r);break;case 1:Si(i,r,o,c);break;case 3:Si(i,r,o,c),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&fc(i)));break;case 12:if(m&2048){Si(i,r,o,c),i=r.stateNode;try{var y=r.memoizedProps,E=y.id,A=y.onPostCommit;typeof A=="function"&&A(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){We(r,r.return,P)}}else Si(i,r,o,c);break;case 31:Si(i,r,o,c);break;case 13:Si(i,r,o,c);break;case 23:break;case 22:y=r.stateNode,E=r.alternate,r.memoizedState!==null?y._visibility&2?Si(i,r,o,c):Rc(i,r):y._visibility&2?Si(i,r,o,c):(y._visibility|=2,zo(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Rp(E,r);break;case 24:Si(i,r,o,c),m&2048&&Cp(r.alternate,r);break;default:Si(i,r,o,c)}}function zo(i,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,E=r,A=o,P=c,$=E.flags;switch(E.tag){case 0:case 11:case 15:zo(y,E,A,P,m),wc(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?zo(y,E,A,P,m):Rc(y,E):(W._visibility|=2,zo(y,E,A,P,m)),m&&$&2048&&Rp(E.alternate,E);break;case 24:zo(y,E,A,P,m),m&&$&2048&&Cp(E.alternate,E);break;default:zo(y,E,A,P,m)}r=r.sibling}}function Rc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,m=c.flags;switch(c.tag){case 22:Rc(o,c),m&2048&&Rp(c.alternate,c);break;case 24:Rc(o,c),m&2048&&Cp(c.alternate,c);break;default:Rc(o,c)}r=r.sibling}}var Cc=8192;function Bo(i,r,o){if(i.subtreeFlags&Cc)for(i=i.child;i!==null;)KT(i,r,o),i=i.sibling}function KT(i,r,o){switch(i.tag){case 26:Bo(i,r,o),i.flags&Cc&&i.memoizedState!==null&&sI(o,bi,i.memoizedState,i.memoizedProps);break;case 5:Bo(i,r,o);break;case 3:case 4:var c=bi;bi=mf(i.stateNode.containerInfo),Bo(i,r,o),bi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Cc,Cc=16777216,Bo(i,r,o),Cc=c):Bo(i,r,o));break;default:Bo(i,r,o)}}function $T(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Nc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Xt=c,QT(c,i)}$T(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)YT(i),i=i.sibling}function YT(i){switch(i.tag){case 0:case 11:case 15:Nc(i),i.flags&2048&&dr(9,i,i.return);break;case 3:Nc(i);break;case 12:Nc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,ef(i)):Nc(i);break;default:Nc(i)}}function ef(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Xt=c,QT(c,i)}$T(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:dr(8,r,r.return),ef(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,ef(r));break;default:ef(r)}i=i.sibling}}function QT(i,r){for(;Xt!==null;){var o=Xt;switch(o.tag){case 0:case 11:case 15:dr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:fc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Xt=c;else e:for(o=i;Xt!==null;){c=Xt;var m=c.sibling,y=c.return;if(UT(c),c===o){Xt=null;break e}if(m!==null){m.return=y,Xt=m;break e}Xt=y}}}var _N={getCacheForType:function(i){var r=nn(kt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return nn(kt).controller.signal}},TN=typeof WeakMap=="function"?WeakMap:Map,$e=0,it=null,je=null,Pe=0,Xe=0,Un=null,mr=!1,Fo=!1,Np=!1,Ms=0,vt=0,pr=0,Pa=0,Ip=0,zn=0,qo=0,Ic=null,Nn=null,Dp=!1,tf=0,XT=0,nf=1/0,sf=null,gr=null,Ht=0,yr=null,Ho=null,ks=0,jp=0,Mp=null,WT=null,Dc=0,kp=null;function Bn(){return($e&2)!==0&&Pe!==0?Pe&-Pe:J.T!==null?zp():sh()}function JT(){if(zn===0)if((Pe&536870912)===0||ze){var i=la;la<<=1,(la&3932160)===0&&(la=262144),zn=i}else zn=536870912;return i=On.current,i!==null&&(i.flags|=32),zn}function In(i,r,o){(i===it&&(Xe===2||Xe===9)||i.cancelPendingCommit!==null)&&(Go(i,0),vr(i,Pe,zn,!1)),ca(i,o),(($e&2)===0||i!==it)&&(i===it&&(($e&2)===0&&(Pa|=o),vt===4&&vr(i,Pe,zn,!1)),ts(i))}function ZT(i,r,o){if(($e&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||di(i,r),m=c?SN(i,r):Vp(i,r,!0),y=c;do{if(m===0){Fo&&!c&&vr(i,r,0,!1);break}else{if(o=i.current.alternate,y&&!EN(o)){m=Vp(i,r,!1),y=!1;continue}if(m===2){if(y=r,i.errorRecoveryDisabledLanes&y)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var A=i;m=Ic;var P=A.current.memoizedState.isDehydrated;if(P&&(Go(A,E).flags|=256),E=Vp(A,E,!1),E!==2){if(Np&&!P){A.errorRecoveryDisabledLanes|=y,Pa|=y,m=4;break e}y=Nn,Nn=m,y!==null&&(Nn===null?Nn=y:Nn.push.apply(Nn,y))}m=E}if(y=!1,m!==2)continue}}if(m===1){Go(i,0),vr(i,r,0,!0);break}e:{switch(c=i,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:vr(c,r,zn,!mr);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=tf+300-vn(),10<m)){if(vr(c,r,zn,!mr),Oi(c,0,!0)!==0)break e;ks=r,c.timeoutHandle=IE(eE.bind(null,c,o,Nn,sf,Dp,r,zn,Pa,qo,mr,y,"Throttled",-0,0),m);break e}eE(c,o,Nn,sf,Dp,r,zn,Pa,qo,mr,y,null,-0,0)}}break}while(!0);ts(i)}function eE(i,r,o,c,m,y,E,A,P,$,W,te,Y,X){if(i.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},KT(r,y,te);var me=(y&62914560)===y?tf-vn():(y&4194048)===y?XT-vn():0;if(me=rI(te,me),me!==null){ks=y,i.cancelPendingCommit=me(lE.bind(null,i,r,y,o,c,m,E,A,P,W,te,null,Y,X)),vr(i,y,E,!$);return}}lE(i,r,y,o,c,m,E,A,P)}function EN(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],y=m.getSnapshot;m=m.value;try{if(!Pn(y(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function vr(i,r,o,c){r&=~Ip,r&=~Pa,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var m=r;0<m;){var y=31-At(m),E=1<<y;c[y]=-1,m&=~E}o!==0&&ua(i,o,r)}function rf(){return($e&6)===0?(jc(0),!1):!0}function Pp(){if(je!==null){if(Xe===0)var i=je.return;else i=je,Ss=xa=null,Wm(i),Po=null,mc=0,i=je;for(;i!==null;)DT(i.alternate,i),i=i.return;je=null}}function Go(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,BN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ks=0,Pp(),it=i,je=o=Es(i.current,null),Pe=r,Xe=0,Un=null,mr=!1,Fo=di(i,r),Np=!1,qo=zn=Ip=Pa=pr=vt=0,Nn=Ic=null,Dp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var m=31-At(c),y=1<<m;r|=i[m],c&=~y}return Ms=r,wh(),o}function tE(i,r){Ce=null,J.H=bc,r===ko||r===Mh?(r=y0(),Xe=3):r===Um?(r=y0(),Xe=4):Xe=r===dp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Un=r,je===null&&(vt=1,$h(i,Zn(r,i.current)))}function nE(){var i=On.current;return i===null?!0:(Pe&4194048)===Pe?ii===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?i===ii:!1}function iE(){var i=J.H;return J.H=bc,i===null?bc:i}function sE(){var i=J.A;return J.A=_N,i}function af(){vt=4,mr||(Pe&4194048)!==Pe&&On.current!==null||(Fo=!0),(pr&134217727)===0&&(Pa&134217727)===0||it===null||vr(it,Pe,zn,!1)}function Vp(i,r,o){var c=$e;$e|=2;var m=iE(),y=sE();(it!==i||Pe!==r)&&(sf=null,Go(i,r)),r=!1;var E=vt;e:do try{if(Xe!==0&&je!==null){var A=je,P=Un;switch(Xe){case 8:Pp(),E=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(r=!0);var $=Xe;if(Xe=0,Un=null,Ko(i,A,P,$),o&&Fo){E=0;break e}break;default:$=Xe,Xe=0,Un=null,Ko(i,A,P,$)}}bN(),E=vt;break}catch(W){tE(i,W)}while(!0);return r&&i.shellSuspendCounter++,Ss=xa=null,$e=c,J.H=m,J.A=y,je===null&&(it=null,Pe=0,wh()),E}function bN(){for(;je!==null;)rE(je)}function SN(i,r){var o=$e;$e|=2;var c=iE(),m=sE();it!==i||Pe!==r?(sf=null,nf=vn()+500,Go(i,r)):Fo=di(i,r);e:do try{if(Xe!==0&&je!==null){r=je;var y=Un;t:switch(Xe){case 1:Xe=0,Un=null,Ko(i,r,y,1);break;case 2:case 9:if(p0(y)){Xe=0,Un=null,aE(r);break}r=function(){Xe!==2&&Xe!==9||it!==i||(Xe=7),ts(i)},y.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:p0(y)?(Xe=0,Un=null,aE(r)):(Xe=0,Un=null,Ko(i,r,y,7));break;case 5:var E=null;switch(je.tag){case 26:E=je.memoizedState;case 5:case 27:var A=je;if(E?GE(E):A.stateNode.complete){Xe=0,Un=null;var P=A.sibling;if(P!==null)je=P;else{var $=A.return;$!==null?(je=$,of($)):je=null}break t}}Xe=0,Un=null,Ko(i,r,y,5);break;case 6:Xe=0,Un=null,Ko(i,r,y,6);break;case 8:Pp(),vt=6;break e;default:throw Error(s(462))}}AN();break}catch(W){tE(i,W)}while(!0);return Ss=xa=null,J.H=c,J.A=m,$e=o,je!==null?0:(it=null,Pe=0,wh(),vt)}function AN(){for(;je!==null&&!fm();)rE(je)}function rE(i){var r=NT(i.alternate,i,Ms);i.memoizedProps=i.pendingProps,r===null?of(i):je=r}function aE(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=ST(o,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=ST(o,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:Wm(r);default:DT(o,r),r=je=s0(r,Ms),r=NT(o,r,Ms)}i.memoizedProps=i.pendingProps,r===null?of(i):je=r}function Ko(i,r,o,c){Ss=xa=null,Wm(r),Po=null,mc=0;var m=r.return;try{if(fN(i,m,r,o,Pe)){vt=1,$h(i,Zn(o,i.current)),je=null;return}}catch(y){if(m!==null)throw je=m,y;vt=1,$h(i,Zn(o,i.current)),je=null;return}r.flags&32768?(ze||c===1?i=!0:Fo||(Pe&536870912)!==0?i=!1:(mr=i=!0,(c===2||c===9||c===3||c===6)&&(c=On.current,c!==null&&c.tag===13&&(c.flags|=16384))),oE(r,i)):of(r)}function of(i){var r=i;do{if((r.flags&32768)!==0){oE(r,mr);return}i=r.return;var o=pN(r.alternate,r,Ms);if(o!==null){je=o;return}if(r=r.sibling,r!==null){je=r;return}je=r=i}while(r!==null);vt===0&&(vt=5)}function oE(i,r){do{var o=gN(i.alternate,i);if(o!==null){o.flags&=32767,je=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){je=i;return}je=i=o}while(i!==null);vt=6,je=null}function lE(i,r,o,c,m,y,E,A,P){i.cancelPendingCommit=null;do lf();while(Ht!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=Am,pm(i,o,y,E,A,P),i===it&&(je=it=null,Pe=0),Ho=r,yr=i,ks=o,jp=y,Mp=m,WT=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,CN(Ys,function(){return dE(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,m=ae.p,ae.p=2,E=$e,$e|=4;try{yN(i,r,o)}finally{$e=E,ae.p=m,J.T=c}}Ht=1,cE(),uE(),hE()}}function cE(){if(Ht===1){Ht=0;var i=yr,r=Ho,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var c=ae.p;ae.p=2;var m=$e;$e|=4;try{qT(r,i);var y=Yp,E=Q_(i.containerInfo),A=y.focusedElem,P=y.selectionRange;if(E!==A&&A&&A.ownerDocument&&Y_(A.ownerDocument.documentElement,A)){if(P!==null&&_m(A)){var $=P.start,W=P.end;if(W===void 0&&(W=$),"selectionStart"in A)A.selectionStart=$,A.selectionEnd=Math.min(W,A.value.length);else{var te=A.ownerDocument||document,Y=te&&te.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),me=A.textContent.length,Te=Math.min(P.start,me),tt=P.end===void 0?Te:Math.min(P.end,me);!X.extend&&Te>tt&&(E=tt,tt=Te,Te=E);var B=$_(A,Te),L=$_(A,tt);if(B&&L&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==L.node||X.focusOffset!==L.offset)){var G=te.createRange();G.setStart(B.node,B.offset),X.removeAllRanges(),Te>tt?(X.addRange(G),X.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),X.addRange(G))}}}}for(te=[],X=A;X=X.parentNode;)X.nodeType===1&&te.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<te.length;A++){var Z=te[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Tf=!!$p,Yp=$p=null}finally{$e=m,ae.p=c,J.T=o}}i.current=r,Ht=2}}function uE(){if(Ht===2){Ht=0;var i=yr,r=Ho,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var c=ae.p;ae.p=2;var m=$e;$e|=4;try{LT(i,r.alternate,r)}finally{$e=m,ae.p=c,J.T=o}}Ht=3}}function hE(){if(Ht===4||Ht===3){Ht=0,Wu();var i=yr,r=Ho,o=ks,c=WT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,Ho=yr=null,fE(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(gr=null),ys(o),r=r.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(fi,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=J.T,m=ae.p,ae.p=2,J.T=null;try{for(var y=i.onRecoverableError,E=0;E<c.length;E++){var A=c[E];y(A.value,{componentStack:A.stack})}}finally{J.T=r,ae.p=m}}(ks&3)!==0&&lf(),ts(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===kp?Dc++:(Dc=0,kp=i):Dc=0,jc(0)}}function fE(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,fc(r)))}function lf(){return cE(),uE(),hE(),dE()}function dE(){if(Ht!==5)return!1;var i=yr,r=jp;jp=0;var o=ys(ks),c=J.T,m=ae.p;try{ae.p=32>o?32:o,J.T=null,o=Mp,Mp=null;var y=yr,E=ks;if(Ht=0,Ho=yr=null,ks=0,($e&6)!==0)throw Error(s(331));var A=$e;if($e|=4,YT(y.current),GT(y,y.current,E,o),$e=A,jc(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(fi,y)}catch{}return!0}finally{ae.p=m,J.T=c,fE(i,r)}}function mE(i,r,o){r=Zn(o,r),r=fp(i.stateNode,r,2),i=ur(i,r,2),i!==null&&(ca(i,2),ts(i))}function We(i,r,o){if(i.tag===3)mE(i,i,o);else for(;r!==null;){if(r.tag===3){mE(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(gr===null||!gr.has(c))){i=Zn(o,i),o=pT(2),c=ur(r,o,2),c!==null&&(gT(o,c,r,i),ca(c,2),ts(c));break}}r=r.return}}function Op(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new TN;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(Np=!0,m.add(o),i=wN.bind(null,i,r,o),r.then(i,i))}function wN(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(Pe&o)===o&&(vt===4||vt===3&&(Pe&62914560)===Pe&&300>vn()-tf?($e&2)===0&&Go(i,0):Ip|=o,qo===Pe&&(qo=0)),ts(i)}function pE(i,r){r===0&&(r=ih()),i=Sa(i,r),i!==null&&(ca(i,r),ts(i))}function xN(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),pE(i,o)}function RN(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),pE(i,o)}function CN(i,r){return qt(i,r)}var cf=null,$o=null,Lp=!1,uf=!1,Up=!1,_r=0;function ts(i){i!==$o&&i.next===null&&($o===null?cf=$o=i:$o=$o.next=i),uf=!0,Lp||(Lp=!0,IN())}function jc(i,r){if(!Up&&uf){Up=!0;do for(var o=!1,c=cf;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var E=c.suspendedLanes,A=c.pingedLanes;y=(1<<31-At(42|i)+1)-1,y&=m&~(E&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,_E(c,y))}else y=Pe,y=Oi(c,c===it?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||di(c,y)||(o=!0,_E(c,y));c=c.next}while(o);Up=!1}}function NN(){gE()}function gE(){uf=Lp=!1;var i=0;_r!==0&&zN()&&(i=_r);for(var r=vn(),o=null,c=cf;c!==null;){var m=c.next,y=yE(c,r);y===0?(c.next=null,o===null?cf=m:o.next=m,m===null&&($o=o)):(o=c,(i!==0||(y&3)!==0)&&(uf=!0)),c=m}Ht!==0&&Ht!==5||jc(i),_r!==0&&(_r=0)}function yE(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var E=31-At(y),A=1<<E,P=m[E];P===-1?((A&o)===0||(A&c)!==0)&&(m[E]=mm(A,r)):P<=r&&(i.expiredLanes|=A),y&=~A}if(r=it,o=Pe,o=Oi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(Xe===2||Xe===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&$s(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||di(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&$s(c),ys(o)){case 2:case 8:o=Fl;break;case 32:o=Ys;break;case 268435456:o=Ju;break;default:o=Ys}return c=vE.bind(null,i),o=qt(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&$s(c),i.callbackPriority=2,i.callbackNode=null,2}function vE(i,r){if(Ht!==0&&Ht!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(lf()&&i.callbackNode!==o)return null;var c=Pe;return c=Oi(i,i===it?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(ZT(i,c,r),yE(i,vn()),i.callbackNode!=null&&i.callbackNode===o?vE.bind(null,i):null)}function _E(i,r){if(lf())return null;ZT(i,r,!0)}function IN(){FN(function(){($e&6)!==0?qt(Bl,NN):gE()})}function zp(){if(_r===0){var i=jo;i===0&&(i=Pi,Pi<<=1,(Pi&261888)===0&&(Pi=256)),_r=i}return _r}function TE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:yo(""+i)}function EE(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function DN(i,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var y=TE((m[Yt]||null).action),E=c.submitter;E&&(r=(r=E[Yt]||null)?TE(r.formAction):E.getAttribute("formAction"),r!==null&&(y=r,E=null));var A=new Yi("action","action",null,c,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(_r!==0){var P=E?EE(m,E):new FormData(m);ap(o,{pending:!0,data:P,method:m.method,action:y},null,P)}}else typeof y=="function"&&(A.preventDefault(),P=E?EE(m,E):new FormData(m),ap(o,{pending:!0,data:P,method:m.method,action:y},y,P))},currentTarget:m}]})}}for(var Bp=0;Bp<Sm.length;Bp++){var Fp=Sm[Bp],jN=Fp.toLowerCase(),MN=Fp[0].toUpperCase()+Fp.slice(1);Ei(jN,"on"+MN)}Ei(J_,"onAnimationEnd"),Ei(Z_,"onAnimationIteration"),Ei(e0,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(Q2,"onTransitionRun"),Ei(X2,"onTransitionStart"),Ei(W2,"onTransitionCancel"),Ei(t0,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mc));function bE(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var y=void 0;if(r)for(var E=c.length-1;0<=E;E--){var A=c[E],P=A.instance,$=A.currentTarget;if(A=A.listener,P!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=$;try{y(m)}catch(W){Ah(W)}m.currentTarget=null,y=P}else for(E=0;E<c.length;E++){if(A=c[E],P=A.instance,$=A.currentTarget,A=A.listener,P!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=$;try{y(m)}catch(W){Ah(W)}m.currentTarget=null,y=P}}}}function Me(i,r){var o=r[ho];o===void 0&&(o=r[ho]=new Set);var c=i+"__bubble";o.has(c)||(SE(r,i,2,!1),o.add(c))}function qp(i,r,o){var c=0;r&&(c|=4),SE(o,i,c,r)}var hf="_reactListening"+Math.random().toString(36).slice(2);function Hp(i){if(!i[hf]){i[hf]=!0,Gl.forEach(function(o){o!=="selectionchange"&&(kN.has(o)||qp(o,!1,i),qp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[hf]||(r[hf]=!0,qp("selectionchange",!1,r))}}function SE(i,r,o,c){switch(JE(r)){case 2:var m=lI;break;case 8:m=cI;break;default:m=rg}o=m.bind(null,r,o,i),m=void 0,!pa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function Gp(i,r,o,c,m){var y=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var A=c.stateNode.containerInfo;if(A===m)break;if(E===4)for(E=c.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;A!==null;){if(E=Bi(A),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){c=y=E;continue e}A=A.parentNode}}c=c.return}er(function(){var $=y,W=Qn(o),te=[];e:{var Y=n0.get(i);if(Y!==void 0){var X=Yi,me=i;switch(i){case"keypress":if(ya(o)===0)break e;case"keydown":case"keyup":X=Eh;break;case"focusin":me="focus",X=_a;break;case"focusout":me="blur",X=_a;break;case"beforeblur":case"afterblur":X=_a;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=T;break;case J_:case Z_:case e0:X=mh;break;case t0:X=x;break;case"scroll":case"scrollend":X=ic;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ts;break;case"toggle":case"beforetoggle":X=Re}var Te=(r&4)!==0,tt=!Te&&(i==="scroll"||i==="scrollend"),B=Te?Y!==null?Y+"Capture":null:Y;Te=[];for(var L=$,G;L!==null;){var Z=L;if(G=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||G===null||B===null||(Z=yi(L,B),Z!=null&&Te.push(kc(L,Z,G))),tt)break;L=L.return}0<Te.length&&(Y=new X(Y,me,null,o,W),te.push({event:Y,listeners:Te}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Y&&o!==ec&&(me=o.relatedTarget||o.fromElement)&&(Bi(me)||me[Ui]))break e;if((X||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(me=o.relatedTarget||o.toElement,X=$,me=me?Bi(me):null,me!==null&&(tt=l(me),Te=me.tag,me!==tt||Te!==5&&Te!==27&&Te!==6)&&(me=null)):(X=null,me=$),X!==me)){if(Te=sc,Z="onMouseLeave",B="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(Te=Ts,Z="onPointerLeave",B="onPointerEnter",L="pointer"),tt=X==null?Y:Mn(X),G=me==null?Y:Mn(me),Y=new Te(Z,L+"leave",X,o,W),Y.target=tt,Y.relatedTarget=G,Z=null,Bi(W)===$&&(Te=new Te(B,L+"enter",me,o,W),Te.target=G,Te.relatedTarget=tt,Z=Te),tt=Z,X&&me)t:{for(Te=PN,B=X,L=me,G=0,Z=B;Z;Z=Te(Z))G++;Z=0;for(var ve=L;ve;ve=Te(ve))Z++;for(;0<G-Z;)B=Te(B),G--;for(;0<Z-G;)L=Te(L),Z--;for(;G--;){if(B===L||L!==null&&B===L.alternate){Te=B;break t}B=Te(B),L=Te(L)}Te=null}else Te=null;X!==null&&AE(te,Y,X,Te,!1),me!==null&&tt!==null&&AE(te,tt,me,Te,!0)}}e:{if(Y=$?Mn($):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var He=B_;else if(U_(Y))if(F_)He=K2;else{He=H2;var ge=q2}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&go($.elementType)&&(He=B_):He=G2;if(He&&(He=He(i,$))){z_(te,He,o,W);break e}ge&&ge(i,Y,$),i==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&Wl(Y,"number",Y.value)}switch(ge=$?Mn($):window,i){case"focusin":(U_(ge)||ge.contentEditable==="true")&&(Ao=ge,Tm=$,cc=null);break;case"focusout":cc=Tm=Ao=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,X_(te,o,W);break;case"selectionchange":if(Y2)break;case"keydown":case"keyup":X_(te,o,W)}var De;if(Ke)e:{switch(i){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else So?Ta(i,o)&&(Ve="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ve="onCompositionStart");Ve&&(Wi&&o.locale!=="ko"&&(So||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&So&&(De=nc()):($i=W,tc="value"in $i?$i.value:$i.textContent,So=!0)),ge=ff($,Ve),0<ge.length&&(Ve=new Xi(Ve,i,null,o,W),te.push({event:Ve,listeners:ge}),De?Ve.data=De:(De=bo(o),De!==null&&(Ve.data=De)))),(De=Wn?U2(i,o):z2(i,o))&&(Ve=ff($,"onBeforeInput"),0<Ve.length&&(ge=new Xi("onBeforeInput","beforeinput",null,o,W),te.push({event:ge,listeners:Ve}),ge.data=De)),DN(te,i,$,o,W)}bE(te,r)})}function kc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function ff(i,r){for(var o=r+"Capture",c=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=yi(i,o),m!=null&&c.unshift(kc(i,m,y)),m=yi(i,r),m!=null&&c.push(kc(i,m,y))),i.tag===3)return c;i=i.return}return[]}function PN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function AE(i,r,o,c,m){for(var y=r._reactName,E=[];o!==null&&o!==c;){var A=o,P=A.alternate,$=A.stateNode;if(A=A.tag,P!==null&&P===c)break;A!==5&&A!==26&&A!==27||$===null||(P=$,m?($=yi(o,y),$!=null&&E.unshift(kc(o,$,P))):m||($=yi(o,y),$!=null&&E.push(kc(o,$,P)))),o=o.return}E.length!==0&&i.push({event:r,listeners:E})}var VN=/\r\n?/g,ON=/\u0000|\uFFFD/g;function wE(i){return(typeof i=="string"?i:""+i).replace(VN,`
`).replace(ON,"")}function xE(i,r){return r=wE(r),wE(i)===r}function et(i,r,o,c,m,y){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||wn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&wn(i,""+c);break;case"className":kn(i,"class",c);break;case"tabIndex":kn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(i,o,c);break;case"style":Zl(i,c,y);break;case"data":if(r!=="object"){kn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=yo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&et(i,r,"name",m.name,m,null),et(i,r,"formEncType",m.formEncType,m,null),et(i,r,"formMethod",m.formMethod,m,null),et(i,r,"formTarget",m.formTarget,m,null)):(et(i,r,"encType",m.encType,m,null),et(i,r,"method",m.method,m,null),et(i,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=yo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=gi);break;case"onScroll":c!=null&&Me("scroll",i);break;case"onScrollEnd":c!=null&&Me("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=yo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Me("beforetoggle",i),Me("toggle",i),mo(i,"popover",c);break;case"xlinkActuate":Mt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Mt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Mt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Mt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Mt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Mt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":mo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=hh.get(o)||o,mo(i,o,c))}}function Kp(i,r,o,c,m,y){switch(o){case"style":Zl(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?wn(i,c):(typeof c=="number"||typeof c=="bigint")&&wn(i,""+c);break;case"onScroll":c!=null&&Me("scroll",i);break;case"onScrollEnd":c!=null&&Me("scrollend",i);break;case"onClick":c!=null&&(i.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),y=i[Yt]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(r,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):mo(i,o,c)}}}function rn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",i),Me("load",i);var c=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var E=o[y];if(E!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,y,E,o,null)}}m&&et(i,r,"srcSet",o.srcSet,o,null),c&&et(i,r,"src",o.src,o,null);return;case"input":Me("invalid",i);var A=y=E=m=null,P=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var W=o[c];if(W!=null)switch(c){case"name":m=W;break;case"type":E=W;break;case"checked":P=W;break;case"defaultChecked":$=W;break;case"value":y=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:et(i,r,c,W,o,null)}}lh(i,y,A,P,$,E,m,!1);return;case"select":Me("invalid",i),c=E=y=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":y=A;break;case"defaultValue":E=A;break;case"multiple":c=A;default:et(i,r,m,A,o,null)}r=y,o=E,i.multiple=!!c,r!=null?Xs(i,!!c,r,!1):o!=null&&Xs(i,!!c,o,!0);return;case"textarea":Me("invalid",i),y=m=c=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":c=A;break;case"defaultValue":m=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:et(i,r,E,A,o,null)}Ws(i,c,m,y);return;case"option":for(P in o)o.hasOwnProperty(P)&&(c=o[P],c!=null)&&(P==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":et(i,r,P,c,o,null));return;case"dialog":Me("beforetoggle",i),Me("toggle",i),Me("cancel",i),Me("close",i);break;case"iframe":case"object":Me("load",i);break;case"video":case"audio":for(c=0;c<Mc.length;c++)Me(Mc[c],i);break;case"image":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"embed":case"source":case"link":Me("error",i),Me("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,$,c,o,null)}return;default:if(go(r)){for(W in o)o.hasOwnProperty(W)&&(c=o[W],c!==void 0&&Kp(i,r,W,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&et(i,r,A,c,o,null))}function LN(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,E=null,A=null,P=null,$=null,W=null;for(X in o){var te=o[X];if(o.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":P=te;default:c.hasOwnProperty(X)||et(i,r,X,null,c,te)}}for(var Y in c){var X=c[Y];if(te=o[Y],c.hasOwnProperty(Y)&&(X!=null||te!=null))switch(Y){case"type":y=X;break;case"name":m=X;break;case"checked":$=X;break;case"defaultChecked":W=X;break;case"value":E=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==te&&et(i,r,Y,X,c,te)}}po(i,E,A,P,$,W,y,m);return;case"select":X=E=A=Y=null;for(y in o)if(P=o[y],o.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":X=P;default:c.hasOwnProperty(y)||et(i,r,y,null,c,P)}for(m in c)if(y=c[m],P=o[m],c.hasOwnProperty(m)&&(y!=null||P!=null))switch(m){case"value":Y=y;break;case"defaultValue":A=y;break;case"multiple":E=y;default:y!==P&&et(i,r,m,y,c,P)}r=A,o=E,c=X,Y!=null?Xs(i,!!o,Y,!1):!!c!=!!o&&(r!=null?Xs(i,!!o,r,!0):Xs(i,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:et(i,r,A,null,c,m)}for(E in c)if(m=c[E],y=o[E],c.hasOwnProperty(E)&&(m!=null||y!=null))switch(E){case"value":Y=m;break;case"defaultValue":X=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&et(i,r,E,m,c,y)}ch(i,Y,X);return;case"option":for(var me in o)Y=o[me],o.hasOwnProperty(me)&&Y!=null&&!c.hasOwnProperty(me)&&(me==="selected"?i.selected=!1:et(i,r,me,null,c,Y));for(P in c)Y=c[P],X=o[P],c.hasOwnProperty(P)&&Y!==X&&(Y!=null||X!=null)&&(P==="selected"?i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":et(i,r,P,Y,c,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)Y=o[Te],o.hasOwnProperty(Te)&&Y!=null&&!c.hasOwnProperty(Te)&&et(i,r,Te,null,c,Y);for($ in c)if(Y=c[$],X=o[$],c.hasOwnProperty($)&&Y!==X&&(Y!=null||X!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:et(i,r,$,Y,c,X)}return;default:if(go(r)){for(var tt in o)Y=o[tt],o.hasOwnProperty(tt)&&Y!==void 0&&!c.hasOwnProperty(tt)&&Kp(i,r,tt,void 0,c,Y);for(W in c)Y=c[W],X=o[W],!c.hasOwnProperty(W)||Y===X||Y===void 0&&X===void 0||Kp(i,r,W,Y,c,X);return}}for(var B in o)Y=o[B],o.hasOwnProperty(B)&&Y!=null&&!c.hasOwnProperty(B)&&et(i,r,B,null,c,Y);for(te in c)Y=c[te],X=o[te],!c.hasOwnProperty(te)||Y===X||Y==null&&X==null||et(i,r,te,Y,c,X)}function RE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],y=m.transferSize,E=m.initiatorType,A=m.duration;if(y&&A&&RE(E)){for(E=0,A=m.responseEnd,c+=1;c<o.length;c++){var P=o[c],$=P.startTime;if($>A)break;var W=P.transferSize,te=P.initiatorType;W&&RE(te)&&(P=P.responseEnd,E+=W*(P<A?1:(A-$)/(P-$)))}if(--c,r+=8*(y+E)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var $p=null,Yp=null;function df(i){return i.nodeType===9?i:i.ownerDocument}function CE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function NE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Qp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xp=null;function zN(){var i=window.event;return i&&i.type==="popstate"?i===Xp?!1:(Xp=i,!0):(Xp=null,!1)}var IE=typeof setTimeout=="function"?setTimeout:void 0,BN=typeof clearTimeout=="function"?clearTimeout:void 0,DE=typeof Promise=="function"?Promise:void 0,FN=typeof queueMicrotask=="function"?queueMicrotask:typeof DE<"u"?function(i){return DE.resolve(null).then(i).catch(qN)}:IE;function qN(i){setTimeout(function(){throw i})}function Tr(i){return i==="head"}function jE(i,r){var o=r,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),Wo(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Pc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Pc(o);for(var y=o.firstChild;y;){var E=y.nextSibling,A=y.nodeName;y[zi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=E}}else o==="body"&&Pc(i.ownerDocument.body);o=m}while(o);Wo(r)}function ME(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Wp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wp(o),fo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function HN(i,r,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[zi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=si(i.nextSibling),i===null)break}return null}function GN(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=si(i.nextSibling),i===null))return null;return i}function kE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=si(i.nextSibling),i===null))return null;return i}function Jp(i){return i.data==="$?"||i.data==="$~"}function Zp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function KN(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function si(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var eg=null;function PE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return si(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function VE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function OE(i,r,o){switch(r=df(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Pc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);fo(i)}var ri=new Map,LE=new Set;function mf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ps=ae.d;ae.d={f:$N,r:YN,D:QN,C:XN,L:WN,m:JN,X:eI,S:ZN,M:tI};function $N(){var i=Ps.f(),r=rf();return i||r}function YN(i){var r=Yn(i);r!==null&&r.tag===5&&r.type==="form"?tT(r):Ps.r(i)}var Yo=typeof document>"u"?null:document;function UE(i,r,o){var c=Yo;if(c&&typeof r=="string"&&r){var m=An(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),LE.has(m)||(LE.add(m),i={rel:i,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),rn(r,"link",i),jt(r),c.head.appendChild(r)))}}function QN(i){Ps.D(i),UE("dns-prefetch",i,null)}function XN(i,r){Ps.C(i,r),UE("preconnect",i,r)}function WN(i,r,o){Ps.L(i,r,o);var c=Yo;if(c&&i&&r){var m='link[rel="preload"][as="'+An(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+An(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+An(o.imageSizes)+'"]')):m+='[href="'+An(i)+'"]';var y=m;switch(r){case"style":y=Qo(i);break;case"script":y=Xo(i)}ri.has(y)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ri.set(y,i),c.querySelector(m)!==null||r==="style"&&c.querySelector(Vc(y))||r==="script"&&c.querySelector(Oc(y))||(r=c.createElement("link"),rn(r,"link",i),jt(r),c.head.appendChild(r)))}}function JN(i,r){Ps.m(i,r);var o=Yo;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+An(c)+'"][href="'+An(i)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Xo(i)}if(!ri.has(y)&&(i=_({rel:"modulepreload",href:i},r),ri.set(y,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Oc(y)))return}c=o.createElement("link"),rn(c,"link",i),jt(c),o.head.appendChild(c)}}}function ZN(i,r,o){Ps.S(i,r,o);var c=Yo;if(c&&i){var m=Fi(c).hoistableStyles,y=Qo(i);r=r||"default";var E=m.get(y);if(!E){var A={loading:0,preload:null};if(E=c.querySelector(Vc(y)))A.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ri.get(y))&&tg(i,o);var P=E=c.createElement("link");jt(P),rn(P,"link",i),P._p=new Promise(function($,W){P.onload=$,P.onerror=W}),P.addEventListener("load",function(){A.loading|=1}),P.addEventListener("error",function(){A.loading|=2}),A.loading|=4,pf(E,r,c)}E={type:"stylesheet",instance:E,count:1,state:A},m.set(y,E)}}}function eI(i,r){Ps.X(i,r);var o=Yo;if(o&&i){var c=Fi(o).hoistableScripts,m=Xo(i),y=c.get(m);y||(y=o.querySelector(Oc(m)),y||(i=_({src:i,async:!0},r),(r=ri.get(m))&&ng(i,r),y=o.createElement("script"),jt(y),rn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function tI(i,r){Ps.M(i,r);var o=Yo;if(o&&i){var c=Fi(o).hoistableScripts,m=Xo(i),y=c.get(m);y||(y=o.querySelector(Oc(m)),y||(i=_({src:i,async:!0,type:"module"},r),(r=ri.get(m))&&ng(i,r),y=o.createElement("script"),jt(y),rn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function zE(i,r,o,c){var m=(m=Ie.current)?mf(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Qo(o.href),o=Fi(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Qo(o.href);var y=Fi(m).hoistableStyles,E=y.get(i);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,E),(y=m.querySelector(Vc(i)))&&!y._p&&(E.instance=y,E.state.loading=5),ri.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ri.set(i,o),y||nI(m,i,o,E.state))),r&&c===null)throw Error(s(528,""));return E}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Xo(o),o=Fi(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Qo(i){return'href="'+An(i)+'"'}function Vc(i){return'link[rel="stylesheet"]['+i+"]"}function BE(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function nI(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),rn(r,"link",o),jt(r),i.head.appendChild(r))}function Xo(i){return'[src="'+An(i)+'"]'}function Oc(i){return"script[async]"+i}function FE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+An(o.href)+'"]');if(c)return r.instance=c,jt(c),c;var m=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),jt(c),rn(c,"style",m),pf(c,o.precedence,i),r.instance=c;case"stylesheet":m=Qo(o.href);var y=i.querySelector(Vc(m));if(y)return r.state.loading|=4,r.instance=y,jt(y),y;c=BE(o),(m=ri.get(m))&&tg(c,m),y=(i.ownerDocument||i).createElement("link"),jt(y);var E=y;return E._p=new Promise(function(A,P){E.onload=A,E.onerror=P}),rn(y,"link",c),r.state.loading|=4,pf(y,o.precedence,i),r.instance=y;case"script":return y=Xo(o.src),(m=i.querySelector(Oc(y)))?(r.instance=m,jt(m),m):(c=o,(m=ri.get(y))&&(c=_({},o),ng(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),jt(m),rn(m,"link",c),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,pf(c,o.precedence,i));return r.instance}function pf(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,E=0;E<c.length;E++){var A=c[E];if(A.dataset.precedence===r)y=A;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function tg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ng(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var gf=null;function qE(i,r,o){if(gf===null){var c=new Map,m=gf=new Map;m.set(o,c)}else m=gf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var y=o[m];if(!(y[zi]||y[Dt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(r)||"";E=i+E;var A=c.get(E);A?A.push(y):c.set(E,[y])}}return c}function HE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function iI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function GE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function sI(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Qo(c.href),y=r.querySelector(Vc(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=yf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=y,jt(y);return}y=r.ownerDocument||r,c=BE(c),(m=ri.get(m))&&tg(c,m),y=y.createElement("link"),jt(y);var E=y;E._p=new Promise(function(A,P){E.onload=A,E.onerror=P}),rn(y,"link",c),o.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=yf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var ig=0;function rI(i,r){return i.stylesheets&&i.count===0&&_f(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&_f(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&ig===0&&(ig=62500*UN());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&_f(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>ig?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function yf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_f(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var vf=null;function _f(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,vf=new Map,r.forEach(aI,i),vf=null,yf.call(i))}function aI(i,r){if(!(r.state.loading&4)){var o=vf.get(i);if(o)var c=o.get(null);else{o=new Map,vf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var E=m[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}m=r.instance,E=m.getAttribute("data-precedence"),y=o.get(E)||c,y===c&&o.set(null,m),o.set(E,m),this.count++,c=yf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var Lc={$$typeof:K,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function oI(i,r,o,c,m,y,E,A,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function KE(i,r,o,c,m,y,E,A,P,$,W,te){return i=new oI(i,r,o,E,P,$,W,te,A),r=1,y===!0&&(r|=24),y=Vn(3,null,null,r),i.current=y,y.stateNode=i,r=Vm(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:r},zm(y),i}function $E(i){return i?(i=Ro,i):Ro}function YE(i,r,o,c,m,y){m=$E(m),c.context===null?c.context=m:c.pendingContext=m,c=cr(r),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=ur(i,c,r),o!==null&&(In(o,i,r),gc(o,i,r))}function QE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function sg(i,r){QE(i,r),(i=i.alternate)&&QE(i,r)}function XE(i){if(i.tag===13||i.tag===31){var r=Sa(i,67108864);r!==null&&In(r,i,67108864),sg(i,67108864)}}function WE(i){if(i.tag===13||i.tag===31){var r=Bn();r=ha(r);var o=Sa(i,r);o!==null&&In(o,i,r),sg(i,r)}}var Tf=!0;function lI(i,r,o,c){var m=J.T;J.T=null;var y=ae.p;try{ae.p=2,rg(i,r,o,c)}finally{ae.p=y,J.T=m}}function cI(i,r,o,c){var m=J.T;J.T=null;var y=ae.p;try{ae.p=8,rg(i,r,o,c)}finally{ae.p=y,J.T=m}}function rg(i,r,o,c){if(Tf){var m=ag(c);if(m===null)Gp(i,r,c,Ef,o),ZE(i,c);else if(hI(m,i,r,o,c))c.stopPropagation();else if(ZE(i,c),r&4&&-1<uI.indexOf(i)){for(;m!==null;){var y=Yn(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Vi(y.pendingLanes);if(E!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var P=1<<31-At(E);A.entanglements[1]|=P,E&=~P}ts(y),($e&6)===0&&(nf=vn()+500,jc(0))}}break;case 31:case 13:A=Sa(y,2),A!==null&&In(A,y,2),rf(),sg(y,2)}if(y=ag(c),y===null&&Gp(i,r,c,Ef,o),y===m)break;m=y}m!==null&&c.stopPropagation()}else Gp(i,r,c,null,o)}}function ag(i){return i=Qn(i),og(i)}var Ef=null;function og(i){if(Ef=null,i=Bi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Ef=i,null}function JE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oa()){case Bl:return 2;case Fl:return 8;case Ys:case dm:return 32;case Ju:return 268435456;default:return 32}default:return 32}}var lg=!1,Er=null,br=null,Sr=null,Uc=new Map,zc=new Map,Ar=[],uI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZE(i,r){switch(i){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Uc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(r.pointerId)}}function Bc(i,r,o,c,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},r!==null&&(r=Yn(r),r!==null&&XE(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function hI(i,r,o,c,m){switch(r){case"focusin":return Er=Bc(Er,i,r,o,c,m),!0;case"dragenter":return br=Bc(br,i,r,o,c,m),!0;case"mouseover":return Sr=Bc(Sr,i,r,o,c,m),!0;case"pointerover":var y=m.pointerId;return Uc.set(y,Bc(Uc.get(y)||null,i,r,o,c,m)),!0;case"gotpointercapture":return y=m.pointerId,zc.set(y,Bc(zc.get(y)||null,i,r,o,c,m)),!0}return!1}function e1(i){var r=Bi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,mi(i.priority,function(){WE(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,mi(i.priority,function(){WE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=ag(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);ec=c,o.target.dispatchEvent(c),ec=null}else return r=Yn(o),r!==null&&XE(r),i.blockedOn=o,!1;r.shift()}return!0}function t1(i,r,o){bf(i)&&o.delete(r)}function fI(){lg=!1,Er!==null&&bf(Er)&&(Er=null),br!==null&&bf(br)&&(br=null),Sr!==null&&bf(Sr)&&(Sr=null),Uc.forEach(t1),zc.forEach(t1)}function Sf(i,r){i.blockedOn===r&&(i.blockedOn=null,lg||(lg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fI)))}var Af=null;function n1(i){Af!==i&&(Af=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Af===i&&(Af=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],m=i[r+2];if(typeof c!="function"){if(og(c||o)===null)continue;break}var y=Yn(o);y!==null&&(i.splice(r,3),r-=3,ap(y,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Wo(i){function r(P){return Sf(P,i)}Er!==null&&Sf(Er,i),br!==null&&Sf(br,i),Sr!==null&&Sf(Sr,i),Uc.forEach(r),zc.forEach(r);for(var o=0;o<Ar.length;o++){var c=Ar[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ar.length&&(o=Ar[0],o.blockedOn===null);)e1(o),o.blockedOn===null&&Ar.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],y=o[c+1],E=m[Yt]||null;if(typeof y=="function")E||n1(o);else if(E){var A=null;if(y&&y.hasAttribute("formAction")){if(m=y,E=y[Yt]||null)A=E.formAction;else if(og(m)!==null)continue}else A=E.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),n1(o)}}}function i1(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function cg(i){this._internalRoot=i}wf.prototype.render=cg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Bn();YE(o,c,i,r,null,null)},wf.prototype.unmount=cg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;YE(i.current,2,null,i,null,null),rf(),r[Ui]=null}};function wf(i){this._internalRoot=i}wf.prototype.unstable_scheduleHydration=function(i){if(i){var r=sh();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Ar.length&&r!==0&&r<Ar[o].priority;o++);Ar.splice(o,0,i),o===0&&e1(i)}};var s1=e.version;if(s1!=="19.2.4")throw Error(s(527,s1,"19.2.4"));ae.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var dI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{fi=xf.inject(dI),Zt=xf}catch{}}return qc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",m=hT,y=fT,E=dT;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=KE(i,1,!1,null,null,o,c,null,m,y,E,i1),i[Ui]=r.current,Hp(i),new cg(r)},qc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,m="",y=hT,E=fT,A=dT,P=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(P=o.formState)),r=KE(i,1,!0,r,o??null,c,m,P,y,E,A,i1),r.context=$E(null),o=r.current,c=Bn(),c=ha(c),m=cr(c),m.callback=null,ur(o,m,c),o=c,r.current.lanes=o,ca(r,o),ts(r),i[Ui]=r.current,Hp(i),new wf(r)},qc.version="19.2.4",qc}var m1;function SI(){if(m1)return fg.exports;m1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fg.exports=bI(),fg.exports}var AI=SI();const wI=bA(AI);var p1="popstate";function xI(t={}){function e(s,a){let{pathname:l,search:u,hash:f}=s.location;return Xg("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:fu(a)}return CI(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ii(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RI(){return Math.random().toString(36).substring(2,10)}function g1(t,e){return{usr:t.state,key:t.key,idx:e}}function Xg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?bl(e):e,state:n,key:e&&e.key||s||RI()}}function fu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function CI(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",p=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function _(){f="POP";let k=v(),z=k==null?null:k-g;g=k,p&&p({action:f,location:M.location,delta:z})}function b(k,z){f="PUSH";let q=Xg(M.location,k,z);g=v()+1;let K=g1(q,g),se=M.createHref(q);try{u.pushState(K,"",se)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(se)}l&&p&&p({action:f,location:M.location,delta:1})}function w(k,z){f="REPLACE";let q=Xg(M.location,k,z);g=v();let K=g1(q,g),se=M.createHref(q);u.replaceState(K,"",se),l&&p&&p({action:f,location:M.location,delta:0})}function C(k){return NI(k)}let M={get action(){return f},get location(){return t(a,u)},listen(k){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(p1,_),p=k,()=>{a.removeEventListener(p1,_),p=null}},createHref(k){return e(a,k)},createURL:C,encodeLocation(k){let z=C(k);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:b,replace:w,go(k){return u.go(k)}};return M}function NI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:fu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function SA(t,e,n="/"){return II(t,e,n,!1)}function II(t,e,n,s){let a=typeof e=="string"?bl(e):e,l=zs(a.pathname||"/",n);if(l==null)return null;let u=AA(t);DI(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let g=FI(l);f=zI(u[p],g,s)}return f}function AA(t,e=[],n=[],s="",a=!1){let l=(u,f,p=a,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;ft(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let _=Ls([s,v.relativePath]),b=n.concat(v);u.children&&u.children.length>0&&(ft(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),AA(u.children,e,b,_,p)),!(u.path==null&&!u.index)&&e.push({path:_,score:LI(_,u.index),routesMeta:b})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let p of wA(u.path))l(u,f,!0,p)}),e}function wA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=wA(s.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...u),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function DI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var jI=/^:[\w-]+$/,MI=3,kI=2,PI=1,VI=10,OI=-2,y1=t=>t==="*";function LI(t,e){let n=t.split("/"),s=n.length;return n.some(y1)&&(s+=OI),e&&(s+=kI),n.filter(a=>!y1(a)).reduce((a,l)=>a+(jI.test(l)?MI:l===""?PI:VI),s)}function UI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function zI(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let p=s[f],g=f===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=ad({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),b=p.route;if(!_&&g&&n&&!s[s.length-1].route.index&&(_=ad({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Ls([l,_.pathname]),pathnameBase:KI(Ls([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=Ls([l,_.pathnameBase]))}return u}function ad(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=BI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:_},b)=>{if(v==="*"){let C=f[b]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const w=f[b];return _&&!w?g[v]=void 0:g[v]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function BI(t,e=!1,n=!0){Ii(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function FI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ii(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function zs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var qI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function HI(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?bl(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=v1(n.substring(1),"/"):l=v1(n,e)):l=e,{pathname:l,search:$I(s),hash:YI(a)}}function v1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function gg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zy(t){let e=GI(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ev(t,e,n,s=!1){let a;typeof t=="string"?a=bl(t):(a={...t},ft(!a.pathname||!a.pathname.includes("?"),gg("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),gg("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),gg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let _=e.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}f=_>=0?e[_]:"/"}let p=HI(a,f),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Ls=t=>t.join("/").replace(/\/\/+/g,"/"),KI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$I=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,QI=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function XI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function WI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var xA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function RA(t,e){let n=t;if(typeof n!="string"||!qI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(xA)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=zs(u.pathname,e);u.origin===l.origin&&f!=null?n=f+u.search+u.hash:a=!0}catch{Ii(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CA=["POST","PUT","PATCH","DELETE"];new Set(CA);var JI=["GET",...CA];new Set(JI);var Sl=I.createContext(null);Sl.displayName="DataRouter";var Md=I.createContext(null);Md.displayName="DataRouterState";var ZI=I.createContext(!1),NA=I.createContext({isTransitioning:!1});NA.displayName="ViewTransition";var eD=I.createContext(new Map);eD.displayName="Fetchers";var tD=I.createContext(null);tD.displayName="Await";var Kn=I.createContext(null);Kn.displayName="Navigation";var Nu=I.createContext(null);Nu.displayName="Location";var ps=I.createContext({outlet:null,matches:[],isDataRoute:!1});ps.displayName="Route";var tv=I.createContext(null);tv.displayName="RouteError";var IA="REACT_ROUTER_ERROR",nD="REDIRECT",iD="ROUTE_ERROR_RESPONSE";function sD(t){if(t.startsWith(`${IA}:${nD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function rD(t){if(t.startsWith(`${IA}:${iD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new QI(e.status,e.statusText,e.data)}catch{}}function aD(t,{relative:e}={}){ft(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=I.useContext(Kn),{hash:a,pathname:l,search:u}=Iu(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Ls([n,l])),s.createHref({pathname:f,search:u,hash:a})}function Al(){return I.useContext(Nu)!=null}function Ks(){return ft(Al(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Nu).location}var DA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jA(t){I.useContext(Kn).static||I.useLayoutEffect(t)}function wl(){let{isDataRoute:t}=I.useContext(ps);return t?_D():oD()}function oD(){ft(Al(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(Sl),{basename:e,navigator:n}=I.useContext(Kn),{matches:s}=I.useContext(ps),{pathname:a}=Ks(),l=JSON.stringify(Zy(s)),u=I.useRef(!1);return jA(()=>{u.current=!0}),I.useCallback((p,g={})=>{if(Ii(u.current,DA),!u.current)return;if(typeof p=="number"){n.go(p);return}let v=ev(p,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ls([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}I.createContext(null);function Iu(t,{relative:e}={}){let{matches:n}=I.useContext(ps),{pathname:s}=Ks(),a=JSON.stringify(Zy(n));return I.useMemo(()=>ev(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function lD(t,e){return MA(t,e)}function MA(t,e,n,s,a){ft(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(Kn),{matches:u}=I.useContext(ps),f=u[u.length-1],p=f?f.params:{},g=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let q=_&&_.path||"";PA(g,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let b=Ks(),w;if(e){let q=typeof e=="string"?bl(e):e;ft(v==="/"||q.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${q.pathname}" was given in the \`location\` prop.`),w=q}else w=b;let C=w.pathname||"/",M=C;if(v!=="/"){let q=v.replace(/^\//,"").split("/");M="/"+C.replace(/^\//,"").split("/").slice(q.length).join("/")}let k=SA(t,{pathname:M});Ii(_||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ii(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=dD(k&&k.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:Ls([v,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:Ls([v,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),u,n,s,a);return e&&z?I.createElement(Nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},z):z}function cD(){let t=vD(),e=XI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,u)}var uD=I.createElement(cD,null),kA=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=rD(t.digest);n&&(t=n)}let e=t!==void 0?I.createElement(ps.Provider,{value:this.props.routeContext},I.createElement(tv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?I.createElement(hD,{error:t},e):e}};kA.contextType=ZI;var yg=new WeakMap;function hD({children:t,error:e}){let{basename:n}=I.useContext(Kn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=sD(e.digest);if(s){let a=yg.get(e);if(a)throw a;let l=RA(s.location,n);if(xA&&!yg.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw yg.set(e,u),u}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function fD({routeContext:t,match:e,children:n}){let s=I.useContext(Sl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(ps.Provider,{value:t},n)}function dD(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let v=l.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);ft(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,p=-1;if(n)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=v),_.route.id){let{loaderData:b,errors:w}=n,C=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||C){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=n&&s?(v,_)=>{s(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:WI(n.matches),errorInfo:_})}:void 0;return l.reduceRight((v,_,b)=>{let w,C=!1,M=null,k=null;n&&(w=u&&_.route.id?u[_.route.id]:void 0,M=_.route.errorElement||uD,f&&(p<0&&b===0?(PA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,k=null):p===b&&(C=!0,k=_.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,b+1)),q=()=>{let K;return w?K=M:C?K=k:_.route.Component?K=I.createElement(_.route.Component,null):_.route.element?K=_.route.element:K=v,I.createElement(fD,{match:_,routeContext:{outlet:v,matches:z,isDataRoute:n!=null},children:K})};return n&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?I.createElement(kA,{location:n.location,revalidation:n.revalidation,component:M,error:w,children:q(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:g}):q()},null)}function nv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mD(t){let e=I.useContext(Sl);return ft(e,nv(t)),e}function pD(t){let e=I.useContext(Md);return ft(e,nv(t)),e}function gD(t){let e=I.useContext(ps);return ft(e,nv(t)),e}function iv(t){let e=gD(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function yD(){return iv("useRouteId")}function vD(){let t=I.useContext(tv),e=pD("useRouteError"),n=iv("useRouteError");return t!==void 0?t:e.errors?.[n]}function _D(){let{router:t}=mD("useNavigate"),e=iv("useNavigate"),n=I.useRef(!1);return jA(()=>{n.current=!0}),I.useCallback(async(a,l={})=>{Ii(n.current,DA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var _1={};function PA(t,e,n){!e&&!_1[t]&&(_1[t]=!0,Ii(!1,n))}I.memo(TD);function TD({routes:t,future:e,state:n,onError:s}){return MA(t,void 0,n,s,e)}function VA({to:t,replace:e,state:n,relative:s}){ft(Al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(Kn);Ii(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(ps),{pathname:u}=Ks(),f=wl(),p=ev(t,Zy(l),u,s==="path"),g=JSON.stringify(p);return I.useEffect(()=>{f(JSON.parse(g),{replace:e,state:n,relative:s})},[f,g,s,e,n]),null}function Kt(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ED({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){ft(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof n=="string"&&(n=bl(n));let{pathname:g="/",search:v="",hash:_="",state:b=null,key:w="default"}=n,C=I.useMemo(()=>{let M=zs(g,f);return M==null?null:{location:{pathname:M,search:v,hash:_,state:b,key:w},navigationType:s}},[f,g,v,_,b,w,s]);return Ii(C!=null,`<Router basename="${f}"> is not able to match the URL "${g}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:I.createElement(Kn.Provider,{value:p},I.createElement(Nu.Provider,{children:e,value:C}))}function Wg({children:t,location:e}){return lD(Jg(t),e)}function Jg(t,e=[]){let n=[];return I.Children.forEach(t,(s,a)=>{if(!I.isValidElement(s))return;let l=[...e,a];if(s.type===I.Fragment){n.push.apply(n,Jg(s.props.children,l));return}ft(s.type===Kt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Jg(s.props.children,l)),n.push(u)}),n}var Bf="get",Ff="application/x-www-form-urlencoded";function kd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function bD(t){return kd(t)&&t.tagName.toLowerCase()==="button"}function SD(t){return kd(t)&&t.tagName.toLowerCase()==="form"}function AD(t){return kd(t)&&t.tagName.toLowerCase()==="input"}function wD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xD(t,e){return t.button===0&&(!e||e==="_self")&&!wD(t)}var Rf=null;function RD(){if(Rf===null)try{new FormData(document.createElement("form"),0),Rf=!1}catch{Rf=!0}return Rf}var CD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vg(t){return t!=null&&!CD.has(t)?(Ii(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ff}"`),null):t}function ND(t,e){let n,s,a,l,u;if(SD(t)){let f=t.getAttribute("action");s=f?zs(f,e):null,n=t.getAttribute("method")||Bf,a=vg(t.getAttribute("enctype"))||Ff,l=new FormData(t)}else if(bD(t)||AD(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(s=p?zs(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Bf,a=vg(t.getAttribute("formenctype"))||vg(f.getAttribute("enctype"))||Ff,l=new FormData(f,t),!RD()){let{name:g,type:v,value:_}=t;if(v==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,_)}}else{if(kd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bf,s=null,a=Ff,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ID(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&zs(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function DD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function MD(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await DD(l,n);return u.links?u.links():[]}return[]}));return OD(s.flat(1).filter(jD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function T1(t,e,n,s,a,l){let u=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,f=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>u(p,g)||f(p,g)):l==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function kD(t,e,{includeHydrateFallback:n}={}){return PD(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function PD(t){return[...new Set(t)]}function VD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function OD(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(VD(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function OA(){let t=I.useContext(Sl);return sv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function LD(){let t=I.useContext(Md);return sv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var rv=I.createContext(void 0);rv.displayName="FrameworkContext";function LA(){let t=I.useContext(rv);return sv(t,"You must render this element inside a <HydratedRouter> element"),t}function UD(t,e){let n=I.useContext(rv),[s,a]=I.useState(!1),[l,u]=I.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=e,b=I.useRef(null);I.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=z=>{z.forEach(q=>{u(q.isIntersecting)})},k=new IntersectionObserver(M,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[t]),I.useEffect(()=>{if(s){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[s]);let w=()=>{a(!0)},C=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Hc(f,w),onBlur:Hc(p,C),onMouseEnter:Hc(g,w),onMouseLeave:Hc(v,C),onTouchStart:Hc(_,w)}]:[!1,b,{}]}function Hc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function zD({page:t,...e}){let{router:n}=OA(),s=I.useMemo(()=>SA(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?I.createElement(FD,{page:t,matches:s,...e}):null}function BD(t){let{manifest:e,routeModules:n}=LA(),[s,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return MD(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function FD({page:t,matches:e,...n}){let s=Ks(),{future:a,manifest:l,routeModules:u}=LA(),{basename:f}=OA(),{loaderData:p,matches:g}=LD(),v=I.useMemo(()=>T1(t,e,g,l,s,"data"),[t,e,g,l,s]),_=I.useMemo(()=>T1(t,e,g,l,s,"assets"),[t,e,g,l,s]),b=I.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let M=new Set,k=!1;if(e.forEach(q=>{let K=l.routes[q.route.id];!K||!K.hasLoader||(!v.some(se=>se.route.id===q.route.id)&&q.route.id in p&&u[q.route.id]?.shouldRevalidate||K.hasClientLoader?k=!0:M.add(q.route.id))}),M.size===0)return[];let z=ID(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return k&&M.size>0&&z.searchParams.set("_routes",e.filter(q=>M.has(q.route.id)).map(q=>q.route.id).join(",")),[z.pathname+z.search]},[f,a.unstable_trailingSlashAwareDataRequests,p,s,l,v,e,t,u]),w=I.useMemo(()=>kD(_,l),[_,l]),C=BD(_);return I.createElement(I.Fragment,null,b.map(M=>I.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),w.map(M=>I.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),C.map(({key:M,link:k})=>I.createElement("link",{key:M,nonce:n.nonce,...k,crossOrigin:k.crossOrigin??n.crossOrigin})))}function qD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var HD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HD&&(window.__reactRouterVersion="7.13.0")}catch{}function GD({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=I.useRef();a.current==null&&(a.current=xI({window:s,v5Compat:!0}));let l=a.current,[u,f]=I.useState({action:l.action,location:l.location}),p=I.useCallback(g=>{n===!1?f(g):I.startTransition(()=>f(g))},[n]);return I.useLayoutEffect(()=>l.listen(p),[l,p]),I.createElement(ED,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var UA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ss=I.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:p,to:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:b,...w},C){let{basename:M,unstable_useTransitions:k}=I.useContext(Kn),z=typeof g=="string"&&UA.test(g),q=RA(g,M);g=q.to;let K=aD(g,{relative:a}),[se,re,ce]=UD(s,w),D=YD(g,{replace:u,state:f,target:p,preventScrollReset:v,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:b,unstable_useTransitions:k});function R(O){e&&e(O),O.defaultPrevented||D(O)}let N=I.createElement("a",{...w,...ce,href:q.absoluteURL||K,onClick:q.isExternal||l?e:R,ref:qD(C,re),target:p,"data-discover":!z&&n==="render"?"true":void 0});return se&&!z?I.createElement(I.Fragment,null,N,I.createElement(zD,{page:K})):N});ss.displayName="Link";var dn=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:p,...g},v){let _=Iu(u,{relative:g.relative}),b=Ks(),w=I.useContext(Md),{navigator:C,basename:M}=I.useContext(Kn),k=w!=null&&ZD(_)&&f===!0,z=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,q=b.pathname,K=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(q=q.toLowerCase(),K=K?K.toLowerCase():null,z=z.toLowerCase()),K&&M&&(K=zs(K,M)||K);const se=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let re=q===z||!a&&q.startsWith(z)&&q.charAt(se)==="/",ce=K!=null&&(K===z||!a&&K.startsWith(z)&&K.charAt(z.length)==="/"),D={isActive:re,isPending:ce,isTransitioning:k},R=re?e:void 0,N;typeof s=="function"?N=s(D):N=[s,re?"active":null,ce?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(D):l;return I.createElement(ss,{...g,"aria-current":R,className:N,ref:v,style:O,to:u,viewTransition:f},typeof p=="function"?p(D):p)});dn.displayName="NavLink";var KD=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Bf,action:f,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:b,...w},C)=>{let{unstable_useTransitions:M}=I.useContext(Kn),k=WD(),z=JD(f,{relative:g}),q=u.toLowerCase()==="get"?"get":"post",K=typeof f=="string"&&UA.test(f),se=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let ce=re.nativeEvent.submitter,D=ce?.getAttribute("formmethod")||u,R=()=>k(ce||re.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:b});M&&n!==!1?I.startTransition(()=>R()):R()};return I.createElement("form",{ref:C,method:q,action:z,onSubmit:s?p:se,...w,"data-discover":!K&&t==="render"?"true":void 0})});KD.displayName="Form";function $D(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zA(t){let e=I.useContext(Sl);return ft(e,$D(t)),e}function YD(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let g=wl(),v=Ks(),_=Iu(t,{relative:l});return I.useCallback(b=>{if(xD(b,e)){b.preventDefault();let w=n!==void 0?n:fu(v)===fu(_),C=()=>g(t,{replace:w,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});p?I.startTransition(()=>C()):C()}},[v,g,_,n,s,e,t,a,l,u,f,p])}var QD=0,XD=()=>`__${String(++QD)}__`;function WD(){let{router:t}=zA("useSubmit"),{basename:e}=I.useContext(Kn),n=yD(),s=t.fetch,a=t.navigate;return I.useCallback(async(l,u={})=>{let{action:f,method:p,encType:g,formData:v,body:_}=ND(l,e);if(u.navigate===!1){let b=u.fetcherKey||XD();await s(b,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:_,formMethod:u.method||p,formEncType:u.encType||g,flushSync:u.flushSync})}else await a(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:_,formMethod:u.method||p,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function JD(t,{relative:e}={}){let{basename:n}=I.useContext(Kn),s=I.useContext(ps);ft(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Iu(t||".",{relative:e})},u=Ks();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ls([n,l.pathname])),fu(l)}function ZD(t,{relative:e}={}){let n=I.useContext(NA);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=zA("useViewTransitionState"),a=Iu(t,{relative:e});if(!n.isTransitioning)return!1;let l=zs(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=zs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ad(a.pathname,u)!=null||ad(a.pathname,l)!=null}const BA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const ej=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const tj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const E1=t=>{const e=tj(t);return e.charAt(0).toUpperCase()+e.slice(1)};var nj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ij=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const sj=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...f},p)=>I.createElement("svg",{ref:p,...nj,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:BA("lucide",a),...!l&&!ij(f)&&{"aria-hidden":"true"},...f},[...u.map(([g,v])=>I.createElement(g,v)),...Array.isArray(l)?l:[l]]));const ye=(t,e)=>{const n=I.forwardRef(({className:s,...a},l)=>I.createElement(sj,{ref:l,iconNode:e,className:BA(`lucide-${ej(E1(t))}`,`lucide-${t}`,s),...a}));return n.displayName=E1(t),n};const rj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],aj=ye("arrow-right",rj);const oj=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],lj=ye("award",oj);const cj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Du=ye("calendar",cj);const uj=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],FA=ye("car",uj);const hj=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fj=ye("chevron-left",hj);const dj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qA=ye("chevron-right",dj);const mj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],HA=ye("circle-alert",mj);const pj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eo=ye("circle-check-big",pj);const gj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],yj=ye("circle-check",gj);const vj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ju=ye("circle-x",vj);const _j=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],GA=ye("clock",_j);const Tj=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],KA=ye("dollar-sign",Tj);const Ej=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bj=ye("download",Ej);const Sj=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Aj=ye("facebook",Sj);const wj=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xj=ye("file-text",wj);const Rj=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Cj=ye("flame",Rj);const Nj=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ij=ye("funnel",Nj);const Dj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],$A=ye("globe",Dj);const jj=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Mj=ye("headphones",jj);const kj=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],YA=ye("hotel",kj);const Pj=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Vj=ye("instagram",Pj);const Oj=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Lj=ye("key",Oj);const Uj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],zj=ye("layout-dashboard",Uj);const Bj=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Zg=ye("lock",Bj);const Fj=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],qj=ye("log-in",Fj);const Hj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QA=ye("log-out",Hj);const Gj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Pd=ye("mail",Gj);const Kj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xl=ye("map-pin",Kj);const $j=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Yj=ye("menu",$j);const Qj=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],XA=ye("message-square",Qj);const Xj=[["path",{d:"M5 12h14",key:"1ays0h"}]],WA=ye("minus",Xj);const Wj=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],JA=ye("package",Wj);const Jj=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Vd=ye("phone",Jj);const Zj=[["path",{d:"M2 22h20",key:"272qi7"}],["path",{d:"M3.77 10.77 2 9l2-4.5 1.1.55c.55.28.9.84.9 1.45s.35 1.17.9 1.45L8 8.5l3-6 1.05.53a2 2 0 0 1 1.09 1.52l.72 5.4a2 2 0 0 0 1.09 1.52l4.4 2.2c.42.22.78.55 1.01.96l.6 1.03c.49.88-.06 1.98-1.06 2.1l-1.18.15c-.47.06-.95-.02-1.37-.24L4.29 11.15a2 2 0 0 1-.52-.38Z",key:"1ma21e"}]],eM=ye("plane-landing",Zj);const tM=[["path",{d:"M2 22h20",key:"272qi7"}],["path",{d:"M6.36 17.4 4 17l-2-4 1.1-.55a2 2 0 0 1 1.8 0l.17.1a2 2 0 0 0 1.8 0L8 12 5 6l.9-.45a2 2 0 0 1 2.09.2l4.02 3a2 2 0 0 0 2.1.2l4.19-2.06a2.41 2.41 0 0 1 1.73-.17L21 7a1.4 1.4 0 0 1 .87 1.99l-.38.76c-.23.46-.6.84-1.07 1.08L7.58 17.2a2 2 0 0 1-1.22.18Z",key:"fkigj9"}]],nM=ye("plane-takeoff",tM);const iM=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],av=ye("plane",iM);const sM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],to=ye("plus",sM);const rM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],aM=ye("save",rM);const oM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xr=ye("search",oM);const lM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],cM=ye("send",lM);const uM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hM=ye("settings",uM);const fM=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],dM=ye("share-2",fM);const mM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],b1=ye("shield-alert",mM);const pM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gM=ye("shield-check",pM);const yM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],S1=ye("shield",yM);const vM=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],_M=ye("sliders-horizontal",vM);const TM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Mu=ye("square-pen",TM);const EM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Rl=ye("trash-2",EM);const bM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ZA=ye("trending-up",bM);const SM=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],AM=ye("truck",SM);const wM=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],xM=ye("twitter",wM);const RM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ew=ye("upload",RM);const CM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],NM=ye("user-plus",CM);const IM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ov=ye("user",IM);const DM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Od=ye("users",DM);const jM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wr=ye("x",jM),MM=()=>{};var A1={};const tw=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},kM=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},nw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,p=a+2<t.length,g=p?t[a+2]:0,v=l>>2,_=(l&3)<<4|f>>4;let b=(f&15)<<2|g>>6,w=g&63;p||(w=64,u||(b=64)),s.push(n[v],n[_],n[b],n[w])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||g==null||_==null)throw new PM;const b=l<<2|f>>4;if(s.push(b),g!==64){const w=f<<4&240|g>>2;if(s.push(w),_!==64){const C=g<<6&192|_;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VM=function(t){const e=tw(t);return nw.encodeByteArray(e,!0)},od=function(t){return VM(t).replace(/\./g,"")},iw=function(t){try{return nw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function OM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LM=()=>OM().__FIREBASE_DEFAULTS__,UM=()=>{if(typeof process>"u"||typeof A1>"u")return;const t=A1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iw(t[1]);return e&&JSON.parse(e)},Ld=()=>{try{return MM()||LM()||UM()||zM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sw=t=>Ld()?.emulatorHosts?.[t],rw=t=>{const e=sw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},aw=()=>Ld()?.config,ow=t=>Ld()?.[`_${t}`];class BM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Jr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lv(t){return(await fetch(t,{credentials:"include"})).ok}function lw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[od(JSON.stringify(n)),od(JSON.stringify(u)),""].join(".")}const tu={};function FM(){const t={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?t.emulator.push(e):t.prod.push(e);return t}function qM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let w1=!1;function cv(t,e){if(typeof window>"u"||typeof document>"u"||!Jr(window.location.host)||tu[t]===e||tu[t]||w1)return;tu[t]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=FM().prod.length>0;function u(){const b=document.getElementById(s);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{w1=!0,u()},b}function v(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=qM(s),w=n("text"),C=document.getElementById(w)||document.createElement("span"),M=n("learnmore"),k=document.getElementById(M)||document.createElement("a"),z=n("preprendIcon"),q=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const K=b.element;f(K),v(k,M);const se=g();p(q,z),K.append(q,C,k,se),document.body.appendChild(K)}l?(C.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function GM(){const t=Ld()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $M(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QM(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function XM(){return!GM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WM(){try{return typeof indexedDB=="object"}catch{return!1}}function JM(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const ZM="FirebaseError";class gs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ZM,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?ek(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new gs(a,f,s)}}function ek(t,e){return t.replace(tk,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const tk=/\{\$([^}]+)}/g;function nk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ga(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(x1(l)&&x1(u)){if(!Ga(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function x1(t){return t!==null&&typeof t=="object"}function Pu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Yc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Qc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ik(t,e){const n=new sk(t,e);return n.subscribe.bind(n)}class sk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");rk(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=_g),a.error===void 0&&(a.error=_g),a.complete===void 0&&(a.complete=_g);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _g(){}function mt(t){return t&&t._delegate?t._delegate:t}class zr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Oa="[DEFAULT]";class ak{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new BM;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lk(e))try{this.getOrInitializeService({instanceIdentifier:Oa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oa){return this.instances.has(e)}getOptions(e=Oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ok(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Oa){return this.component?this.component.multipleInstances?e:Oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ok(t){return t===Oa?void 0:t}function lk(t){return t.instantiationMode==="EAGER"}class ck{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ak(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const uk={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},hk=Oe.INFO,fk={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},dk=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=fk[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uv{constructor(e){this.name=e,this._logLevel=hk,this._logHandler=dk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const mk=(t,e)=>e.some(n=>t instanceof n);let R1,C1;function pk(){return R1||(R1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gk(){return C1||(C1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cw=new WeakMap,ey=new WeakMap,uw=new WeakMap,Tg=new WeakMap,hv=new WeakMap;function yk(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Pr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&cw.set(n,t)}).catch(()=>{}),hv.set(e,t),e}function vk(t){if(ey.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});ey.set(t,e)}let ty={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ey.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _k(t){ty=t(ty)}function Tk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Eg(this),e,...n);return uw.set(s,e.sort?e.sort():[e]),Pr(s)}:gk().includes(t)?function(...e){return t.apply(Eg(this),e),Pr(cw.get(this))}:function(...e){return Pr(t.apply(Eg(this),e))}}function Ek(t){return typeof t=="function"?Tk(t):(t instanceof IDBTransaction&&vk(t),mk(t,pk())?new Proxy(t,ty):t)}function Pr(t){if(t instanceof IDBRequest)return yk(t);if(Tg.has(t))return Tg.get(t);const e=Ek(t);return e!==t&&(Tg.set(t,e),hv.set(e,t)),e}const Eg=t=>hv.get(t);function bk(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=Pr(u);return s&&u.addEventListener("upgradeneeded",p=>{s(Pr(u.result),p.oldVersion,p.newVersion,Pr(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const Sk=["get","getKey","getAll","getAllKeys","count"],Ak=["put","add","delete","clear"],bg=new Map;function N1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bg.get(e))return bg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Ak.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Sk.includes(n)))return;const l=async function(u,...f){const p=this.transaction(u,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),a&&p.done]))[0]};return bg.set(e,l),l}_k(t=>({...t,get:(e,n,s)=>N1(e,n)||t.get(e,n,s),has:(e,n)=>!!N1(e,n)||t.has(e,n)}));class wk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function xk(t){return t.getComponent()?.type==="VERSION"}const ny="@firebase/app",I1="0.14.8";const Bs=new uv("@firebase/app"),Rk="@firebase/app-compat",Ck="@firebase/analytics-compat",Nk="@firebase/analytics",Ik="@firebase/app-check-compat",Dk="@firebase/app-check",jk="@firebase/auth",Mk="@firebase/auth-compat",kk="@firebase/database",Pk="@firebase/data-connect",Vk="@firebase/database-compat",Ok="@firebase/functions",Lk="@firebase/functions-compat",Uk="@firebase/installations",zk="@firebase/installations-compat",Bk="@firebase/messaging",Fk="@firebase/messaging-compat",qk="@firebase/performance",Hk="@firebase/performance-compat",Gk="@firebase/remote-config",Kk="@firebase/remote-config-compat",$k="@firebase/storage",Yk="@firebase/storage-compat",Qk="@firebase/firestore",Xk="@firebase/ai",Wk="@firebase/firestore-compat",Jk="firebase",Zk="12.9.0";const iy="[DEFAULT]",eP={[ny]:"fire-core",[Rk]:"fire-core-compat",[Nk]:"fire-analytics",[Ck]:"fire-analytics-compat",[Dk]:"fire-app-check",[Ik]:"fire-app-check-compat",[jk]:"fire-auth",[Mk]:"fire-auth-compat",[kk]:"fire-rtdb",[Pk]:"fire-data-connect",[Vk]:"fire-rtdb-compat",[Ok]:"fire-fn",[Lk]:"fire-fn-compat",[Uk]:"fire-iid",[zk]:"fire-iid-compat",[Bk]:"fire-fcm",[Fk]:"fire-fcm-compat",[qk]:"fire-perf",[Hk]:"fire-perf-compat",[Gk]:"fire-rc",[Kk]:"fire-rc-compat",[$k]:"fire-gcs",[Yk]:"fire-gcs-compat",[Qk]:"fire-fst",[Wk]:"fire-fst-compat",[Xk]:"fire-vertex","fire-js":"fire-js",[Jk]:"fire-js-all"};const ld=new Map,tP=new Map,sy=new Map;function D1(t,e){try{t.container.addComponent(e)}catch(n){Bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ka(t){const e=t.name;if(sy.has(e))return Bs.debug(`There were multiple attempts to register component ${e}.`),!1;sy.set(e,t);for(const n of ld.values())D1(n,t);for(const n of tP.values())D1(n,t);return!0}function Ud(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qn(t){return t==null?!1:t.settings!==void 0}const nP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new ku("app","Firebase",nP);class iP{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}const no=Zk;function hw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:iy,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Vr.create("bad-app-name",{appName:String(a)});if(n||(n=aw()),!n)throw Vr.create("no-options");const l=ld.get(a);if(l){if(Ga(n,l.options)&&Ga(s,l.config))return l;throw Vr.create("duplicate-app",{appName:a})}const u=new ck(a);for(const p of sy.values())u.addComponent(p);const f=new iP(n,s,u);return ld.set(a,f),f}function fv(t=iy){const e=ld.get(t);if(!e&&t===iy&&aw())return hw();if(!e)throw Vr.create("no-app",{appName:t});return e}function as(t,e,n){let s=eP[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bs.warn(u.join(" "));return}Ka(new zr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const sP="firebase-heartbeat-database",rP=1,du="firebase-heartbeat-store";let Sg=null;function fw(){return Sg||(Sg=bk(sP,rP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(du)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vr.create("idb-open",{originalErrorMessage:t.message})})),Sg}async function aP(t){try{const n=(await fw()).transaction(du),s=await n.objectStore(du).get(dw(t));return await n.done,s}catch(e){if(e instanceof gs)Bs.warn(e.message);else{const n=Vr.create("idb-get",{originalErrorMessage:e?.message});Bs.warn(n.message)}}}async function j1(t,e){try{const s=(await fw()).transaction(du,"readwrite");await s.objectStore(du).put(e,dw(t)),await s.done}catch(n){if(n instanceof gs)Bs.warn(n.message);else{const s=Vr.create("idb-set",{originalErrorMessage:n?.message});Bs.warn(s.message)}}}function dw(t){return`${t.name}!${t.options.appId}`}const oP=1024,lP=30;class cP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hP(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=M1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>lP){const a=fP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=M1(),{heartbeatsToSend:n,unsentEntries:s}=uP(this._heartbeatsCache.heartbeats),a=od(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Bs.warn(e),""}}}function M1(){return new Date().toISOString().substring(0,10)}function uP(t,e=oP){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),k1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),k1(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class hP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WM()?JM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return j1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return j1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function k1(t){return od(JSON.stringify({version:2,heartbeats:t})).length}function fP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function dP(t){Ka(new zr("platform-logger",e=>new wk(e),"PRIVATE")),Ka(new zr("heartbeat",e=>new cP(e),"PRIVATE")),as(ny,I1,t),as(ny,I1,"esm2020"),as("fire-js","")}dP("");var mP="firebase",pP="12.9.0";as(mP,pP,"app");function mw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gP=mw,pw=new ku("auth","Firebase",mw());const cd=new uv("@firebase/auth");function yP(t,...e){cd.logLevel<=Oe.WARN&&cd.warn(`Auth (${no}): ${t}`,...e)}function qf(t,...e){cd.logLevel<=Oe.ERROR&&cd.error(`Auth (${no}): ${t}`,...e)}function Di(t,...e){throw dv(t,...e)}function os(t,...e){return dv(t,...e)}function gw(t,e,n){const s={...gP(),[e]:n};return new ku("auth","Firebase",s).create(e,{appName:t.name})}function Us(t){return gw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dv(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return pw.create(t,...e)}function Ee(t,e,...n){if(!t)throw dv(e,...n)}function Vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qf(e),new Error(e)}function Fs(t,e){t||Vs(e)}function ry(){return typeof self<"u"&&self.location?.href||""}function vP(){return P1()==="http:"||P1()==="https:"}function P1(){return typeof self<"u"&&self.location?.protocol||null}function _P(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vP()||$M()||"connection"in navigator)?navigator.onLine:!0}function TP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=HM()||YM()}get(){return _P()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mv(t,e){Fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class yw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const EP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SP=new Vu(3e4,6e4);function Zr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ea(t,e,n,s,a={}){return vw(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=Pu({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:p,...l};return KM()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Jr(t.emulatorConfig.host)&&(g.credentials="include"),yw.fetch()(await _w(t,t.config.apiHost,n,f),g)})}async function vw(t,e,n){t._canInitEmulator=!1;const s={...EP,...e};try{const a=new wP(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Cf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cf(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Cf(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw Cf(t,"user-disabled",u);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw gw(t,v,g);Di(t,v)}}catch(a){if(a instanceof gs)throw a;Di(t,"network-request-failed",{message:String(a)})}}async function Ou(t,e,n,s,a={}){const l=await ea(t,e,n,s,a);return"mfaPendingCredential"in l&&Di(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function _w(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?mv(t.config,a):`${t.config.apiScheme}://${a}`;return bP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function AP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(os(this.auth,"network-request-failed")),SP.get())})}}function Cf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=os(t,e,s);return a.customData._tokenResponse=n,a}function V1(t){return t!==void 0&&t.enterprise!==void 0}class xP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RP(t,e){return ea(t,"GET","/v2/recaptchaConfig",Zr(t,e))}async function CP(t,e){return ea(t,"POST","/v1/accounts:delete",e)}async function ud(t,e){return ea(t,"POST","/v1/accounts:lookup",e)}function nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NP(t,e=!1){const n=mt(t),s=await n.getIdToken(e),a=pv(s);Ee(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:nu(Ag(a.auth_time)),issuedAtTime:nu(Ag(a.iat)),expirationTime:nu(Ag(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ag(t){return Number(t)*1e3}function pv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return qf("JWT malformed, contained fewer than 3 sections"),null;try{const a=iw(n);return a?JSON.parse(a):(qf("Failed to decode base64 JWT payload"),null)}catch(a){return qf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function O1(t){const e=pv(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof gs&&IP(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function IP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class DP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ay{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hd(t){const e=t.auth,n=await t.getIdToken(),s=await mu(t,ud(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?Tw(a.providerUserInfo):[],u=MP(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!u?.length,g=f?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new ay(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function jP(t){const e=mt(t);await hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MP(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function Tw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function kP(t,e){const n=await vw(t,{},async()=>{const s=Pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await _w(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:s};return t.emulatorConfig&&Jr(t.emulatorConfig.host)&&(p.credentials="include"),yw.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PP(t,e){return ea(t,"POST","/v2/accounts:revokeToken",Zr(t,e))}class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=O1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await kP(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new cl;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Ee(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Vs("not implemented")}}function xr(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new DP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ay(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await mu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NP(this,e)}reload(){return jP(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await hd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(Us(this.auth));const e=await this.getIdToken();return await mu(this,CP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:C,stsTokenManager:M}=n;Ee(_&&M,e,"internal-error");const k=cl.fromJSON(this.name,M);Ee(typeof _=="string",e,"internal-error"),xr(s,e.name),xr(a,e.name),Ee(typeof b=="boolean",e,"internal-error"),Ee(typeof w=="boolean",e,"internal-error"),xr(l,e.name),xr(u,e.name),xr(f,e.name),xr(p,e.name),xr(g,e.name),xr(v,e.name);const z=new xi({uid:_,auth:e,email:a,emailVerified:b,displayName:s,isAnonymous:w,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:k,createdAt:g,lastLoginAt:v});return C&&Array.isArray(C)&&(z.providerData=C.map(q=>({...q}))),p&&(z._redirectEventId=p),z}static async _fromIdTokenResponse(e,n,s=!1){const a=new cl;a.updateFromServerResponse(n);const l=new xi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await hd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Tw(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new cl;f.updateFromIdToken(s);const p=new xi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ay(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const L1=new Map;function Os(t){Fs(t instanceof Function,"Expected a class definition");let e=L1.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,L1.set(t,e),e)}class Ew{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ew.type="NONE";const U1=Ew;function Hf(t,e,n){return`firebase:${t}:${e}:${n}`}class ul{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Hf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Hf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ud(this.auth,{idToken:e}).catch(()=>{});return n?xi._fromGetAccountInfoResponse(this.auth,n,e):null}return xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ul(Os(U1),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Os(U1);const u=Hf(s,e.config.apiKey,e.name);let f=null;for(const g of n)try{const v=await g._get(u);if(v){let _;if(typeof v=="string"){const b=await ud(e,{idToken:v}).catch(()=>{});if(!b)break;_=await xi._fromGetAccountInfoResponse(e,b,v)}else _=xi._fromJSON(e,v);g!==l&&(f=_),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new ul(l,e,s):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new ul(l,e,s))}}function z1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ww(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rw(e))return"Blackberry";if(Cw(e))return"Webos";if(Sw(e))return"Safari";if((e.includes("chrome/")||Aw(e))&&!e.includes("edge/"))return"Chrome";if(xw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function bw(t=yn()){return/firefox\//i.test(t)}function Sw(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Aw(t=yn()){return/crios\//i.test(t)}function ww(t=yn()){return/iemobile/i.test(t)}function xw(t=yn()){return/android/i.test(t)}function Rw(t=yn()){return/blackberry/i.test(t)}function Cw(t=yn()){return/webos/i.test(t)}function gv(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VP(t=yn()){return gv(t)&&!!window.navigator?.standalone}function OP(){return QM()&&document.documentMode===10}function Nw(t=yn()){return gv(t)||xw(t)||Cw(t)||Rw(t)||/windows phone/i.test(t)||ww(t)}function Iw(t,e=[]){let n;switch(t){case"Browser":n=z1(yn());break;case"Worker":n=`${z1(yn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${no}/${s}`}class LP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function UP(t,e={}){return ea(t,"GET","/v2/passwordPolicy",Zr(t,e))}const zP=6;class BP{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class FP{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B1(this),this.idTokenSubscription=new B1(this),this.beforeStateQueue=new LP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Os(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ul.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ud(this,{idToken:e}),s=await xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(Us(this));const n=e?mt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UP(this),n=new BP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ku("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await PP(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Os(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await ul.create(this,[Os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,a);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function io(t){return mt(t)}class B1{constructor(e){this.auth=e,this.observer=null,this.addObserver=ik(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qP(t){zd=t}function Dw(t){return zd.loadJS(t)}function HP(){return zd.recaptchaEnterpriseScript}function GP(){return zd.gapiScript}function KP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class $P{constructor(){this.enterprise=new YP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class YP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const QP="recaptcha-enterprise",jw="NO_RECAPTCHA";class XP{constructor(e){this.type=QP,this.auth=io(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{RP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new xP(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(p=>{f(p)})})}function a(l,u,f){const p=window.grecaptcha;V1(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(jw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $P().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(f=>{if(!n&&V1(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=HP();p.length!==0&&(p+=f),Dw(p).then(()=>{a(f,l,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function F1(t,e,n,s=!1,a=!1){const l=new XP(t);let u;if(a)u=jw;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function oy(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await F1(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await F1(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function WP(t,e){const n=Ud(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ga(l,e??{}))return a;Di(a,"already-initialized")}return n.initialize({options:e})}function JP(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Os);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function ZP(t,e,n){const s=io(t);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=Mw(e),{host:u,port:f}=eV(e),p=f===null?"":`:${f}`,g={url:`${l}//${u}${p}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Ga(g,s.config.emulator)&&Ga(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Jr(u)?(lv(`${l}//${u}${p}`),cv("Auth",!0)):tV()}function Mw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eV(t){const e=Mw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:q1(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:q1(u)}}}function q1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class yv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vs("not implemented")}_getIdTokenResponse(e){return Vs("not implemented")}_linkToIdToken(e,n){return Vs("not implemented")}_getReauthenticationResolver(e){return Vs("not implemented")}}async function nV(t,e){return ea(t,"POST","/v1/accounts:signUp",e)}async function iV(t,e){return Ou(t,"POST","/v1/accounts:signInWithPassword",Zr(t,e))}async function sV(t,e){return Ou(t,"POST","/v1/accounts:signInWithEmailLink",Zr(t,e))}async function rV(t,e){return Ou(t,"POST","/v1/accounts:signInWithEmailLink",Zr(t,e))}class pu extends yv{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new pu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new pu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oy(e,n,"signInWithPassword",iV);case"emailLink":return sV(e,{email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oy(e,s,"signUpPassword",nV);case"emailLink":return rV(e,{idToken:n,email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function hl(t,e){return Ou(t,"POST","/v1/accounts:signInWithIdp",Zr(t,e))}const aV="http://localhost";class $a extends yv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new $a(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return hl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,hl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hl(e,n)}buildRequest(){const e={requestUri:aV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pu(n)}return e}}function oV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lV(t){const e=Yc(Qc(t)).link,n=e?Yc(Qc(e)).deep_link_id:null,s=Yc(Qc(t)).deep_link_id;return(s?Yc(Qc(s)).link:null)||s||n||e||t}class vv{constructor(e){const n=Yc(Qc(e)),s=n.apiKey??null,a=n.oobCode??null,l=oV(n.mode??null);Ee(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=lV(e);try{return new vv(n)}catch{return null}}}class Cl{constructor(){this.providerId=Cl.PROVIDER_ID}static credential(e,n){return pu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=vv.parseLink(n);return Ee(s,"argument-error"),pu._fromEmailAndCode(e,s.code,s.tenantId)}}Cl.PROVIDER_ID="password";Cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class kw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Lu extends kw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Cr extends Lu{constructor(){super("facebook.com")}static credential(e){return $a._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";class Nr extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $a._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Nr.credential(n,s)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";class Ir extends Lu{constructor(){super("github.com")}static credential(e){return $a._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.GITHUB_SIGN_IN_METHOD="github.com";Ir.PROVIDER_ID="github.com";class Dr extends Lu{constructor(){super("twitter.com")}static credential(e,n){return $a._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Dr.credential(n,s)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";async function cV(t,e){return Ou(t,"POST","/v1/accounts:signUp",Zr(t,e))}class Ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await xi._fromIdTokenResponse(e,s,a),u=H1(s);return new Ya({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=H1(s);return new Ya({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function H1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class fd extends gs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,fd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new fd(e,n,s,a)}}function Pw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?fd._fromErrorAndOperation(t,l,e,s):l})}async function uV(t,e,n=!1){const s=await mu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ya._forOperation(t,"link",s)}async function hV(t,e,n=!1){const{auth:s}=t;if(qn(s.app))return Promise.reject(Us(s));const a="reauthenticate";try{const l=await mu(t,Pw(s,a,e,t),n);Ee(l.idToken,s,"internal-error");const u=pv(l.idToken);Ee(u,s,"internal-error");const{sub:f}=u;return Ee(t.uid===f,s,"user-mismatch"),Ya._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Di(s,"user-mismatch"),l}}async function Vw(t,e,n=!1){if(qn(t.app))return Promise.reject(Us(t));const s="signIn",a=await Pw(t,s,e),l=await Ya._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function fV(t,e){return Vw(io(t),e)}async function Ow(t){const e=io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dV(t,e,n){if(qn(t.app))return Promise.reject(Us(t));const s=io(t),u=await oy(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cV).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Ow(t),p}),f=await Ya._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(f.user),f}function mV(t,e,n){return qn(t.app)?Promise.reject(Us(t)):fV(mt(t),Cl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Ow(t),s})}function pV(t,e,n,s){return mt(t).onIdTokenChanged(e,n,s)}function gV(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function yV(t,e,n,s){return mt(t).onAuthStateChanged(e,n,s)}function vV(t){return mt(t).signOut()}const dd="__sak";class Lw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dd,"1"),this.storage.removeItem(dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _V=1e3,TV=10;class Uw extends Lw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);OP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,TV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},_V)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Uw.type="LOCAL";const EV=Uw;class zw extends Lw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zw.type="SESSION";const Bw=zw;function bV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Bd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async g=>g(n.origin,l)),p=await bV(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bd.receivers=[];function _v(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class SV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const g=_v("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ls(){return window}function AV(t){ls().location.href=t}function Fw(){return typeof ls().WorkerGlobalScope<"u"&&typeof ls().importScripts=="function"}async function wV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xV(){return navigator?.serviceWorker?.controller||null}function RV(){return Fw()?self:null}const qw="firebaseLocalStorageDb",CV=1,md="firebaseLocalStorage",Hw="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fd(t,e){return t.transaction([md],e?"readwrite":"readonly").objectStore(md)}function NV(){const t=indexedDB.deleteDatabase(qw);return new Uu(t).toPromise()}function ly(){const t=indexedDB.open(qw,CV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(md,{keyPath:Hw})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(md)?e(s):(s.close(),await NV(),e(await ly()))})})}async function G1(t,e,n){const s=Fd(t,!0).put({[Hw]:e,value:n});return new Uu(s).toPromise()}async function IV(t,e){const n=Fd(t,!1).get(e),s=await new Uu(n).toPromise();return s===void 0?null:s.value}function K1(t,e){const n=Fd(t,!0).delete(e);return new Uu(n).toPromise()}const DV=800,jV=3;class Gw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ly(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>jV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bd._getInstance(RV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wV(),!this.activeServiceWorker)return;this.sender=new SV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ly();return await G1(e,dd,"1"),await K1(e,dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>G1(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>IV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>K1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Fd(a,!1).getAll();return new Uu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gw.type="LOCAL";const MV=Gw;new Vu(3e4,6e4);function kV(t,e){return e?Os(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Tv extends yv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PV(t){return Vw(t.auth,new Tv(t),t.bypassAuthState)}function VV(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),hV(n,new Tv(t),t.bypassAuthState)}async function OV(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),uV(n,new Tv(t),t.bypassAuthState)}class Kw{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PV;case"linkViaPopup":case"linkViaRedirect":return OV;case"reauthViaPopup":case"reauthViaRedirect":return VV;default:Di(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LV=new Vu(2e3,1e4);class il extends Kw{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const e=_v();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LV.get())};e()}}il.currentPopupAction=null;const UV="pendingRedirect",Gf=new Map;class zV extends Kw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Gf.get(this.auth._key());if(!e){try{const s=await BV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Gf.set(this.auth._key(),e)}return this.bypassAuthState||Gf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BV(t,e){const n=HV(e),s=qV(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function FV(t,e){Gf.set(t._key(),e)}function qV(t){return Os(t._redirectPersistence)}function HV(t){return Hf(UV,t.config.apiKey,t.name)}async function GV(t,e,n=!1){if(qn(t.app))return Promise.reject(Us(t));const s=io(t),a=kV(s,e),u=await new zV(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const KV=600*1e3;class $V{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!$w(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(os(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KV&&this.cachedEventUids.clear(),this.cachedEventUids.has($1(e))}saveEventToCache(e){this.cachedEventUids.add($1(e)),this.lastProcessedEventTime=Date.now()}}function $1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $w({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function YV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $w(t);default:return!1}}async function QV(t,e={}){return ea(t,"GET","/v1/projects",e)}const XV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WV=/^https?/;async function JV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QV(t);for(const n of e)try{if(ZV(n))return}catch{}Di(t,"unauthorized-domain")}function ZV(t){const e=ry(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!WV.test(n))return!1;if(XV.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const eO=new Vu(3e4,6e4);function Y1(){const t=ls().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tO(t){return new Promise((e,n)=>{function s(){Y1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y1(),n(os(t,"network-request-failed"))},timeout:eO.get()})}if(ls().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ls().gapi?.load)s();else{const a=KP("iframefcb");return ls()[a]=()=>{gapi.load?s():n(os(t,"network-request-failed"))},Dw(`${GP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Kf=null,e})}let Kf=null;function nO(t){return Kf=Kf||tO(t),Kf}const iO=new Vu(5e3,15e3),sO="__/auth/iframe",rO="emulator/auth/iframe",aO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lO(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mv(e,rO):`https://${t.config.authDomain}/${sO}`,s={apiKey:e.apiKey,appName:t.name,v:no},a=oO.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Pu(s).slice(1)}`}async function cO(t){const e=await nO(t),n=ls().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:lO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aO,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=os(t,"network-request-failed"),f=ls().setTimeout(()=>{l(u)},iO.get());function p(){ls().clearTimeout(f),a(s)}s.ping(p).then(p,()=>{l(u)})}))}const uO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hO=500,fO=600,dO="_blank",mO="http://localhost";class Q1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pO(t,e,n,s=hO,a=fO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p={...uO,width:s.toString(),height:a.toString(),top:l,left:u},g=yn().toLowerCase();n&&(f=Aw(g)?dO:n),bw(g)&&(e=e||mO,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[w,C])=>`${b}${w}=${C},`,"");if(VP(g)&&f!=="_self")return gO(e||"",f),new Q1(null);const _=window.open(e||"",f,v);Ee(_,t,"popup-blocked");try{_.focus()}catch{}return new Q1(_)}function gO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const yO="__/auth/handler",vO="emulator/auth/handler",_O=encodeURIComponent("fac");async function X1(t,e,n,s,a,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:no,eventId:a};if(e instanceof kw){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",nk(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof Lu){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await t._getAppCheckToken(),g=p?`#${_O}=${encodeURIComponent(p)}`:"";return`${TO(t)}?${Pu(f).slice(1)}${g}`}function TO({config:t}){return t.emulator?mv(t,vO):`https://${t.authDomain}/${yO}`}const wg="webStorageSupport";class EO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bw,this._completeRedirectFn=GV,this._overrideRedirectResult=FV}async _openPopup(e,n,s,a){Fs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await X1(e,n,s,ry(),a);return pO(e,l,_v())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await X1(e,n,s,ry(),a);return AV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Fs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await cO(e),s=new $V(e);return n.register("authEvent",a=>(Ee(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wg,{type:wg},a=>{const l=a?.[0]?.[wg];l!==void 0&&n(!!l),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nw()||Sw()||gv()}}const bO=EO;var W1="@firebase/auth",J1="1.12.0";class SO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function AO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wO(t){Ka(new zr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Iw(t)},g=new FP(s,a,l,p);return JP(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ka(new zr("auth-internal",e=>{const n=io(e.getProvider("auth").getImmediate());return(s=>new SO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(W1,J1,AO(t)),as(W1,J1,"esm2020")}const xO=300,RO=ow("authIdTokenMaxAge")||xO;let Z1=null;const CO=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>RO)return;const a=n?.token;Z1!==a&&(Z1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function NO(t=fv()){const e=Ud(t,"auth");if(e.isInitialized())return e.getImmediate();const n=WP(t,{popupRedirectResolver:bO,persistence:[MV,EV,Bw]}),s=ow("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=CO(l.toString());gV(n,u,()=>u(n.currentUser)),pV(n,f=>u(f))}}const a=sw("auth");return a&&ZP(n,`http://${a}`),n}function IO(){return document.getElementsByTagName("head")?.[0]??document}qP({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=os("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",IO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wO("Browser");var eb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Or,Yw;(function(){var t;function e(D,R){function N(){}N.prototype=R.prototype,D.F=R.prototype,D.prototype=new N,D.prototype.constructor=D,D.D=function(O,V,F){for(var j=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)j[nt-2]=arguments[nt];return R.prototype[V].apply(O,j)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,R,N){N||(N=0);const O=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)O[V]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(V=0;V<16;++V)O[V]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=D.g[0],N=D.g[1],V=D.g[2];let F=D.g[3],j;j=R+(F^N&(V^F))+O[0]+3614090360&4294967295,R=N+(j<<7&4294967295|j>>>25),j=F+(V^R&(N^V))+O[1]+3905402710&4294967295,F=R+(j<<12&4294967295|j>>>20),j=V+(N^F&(R^N))+O[2]+606105819&4294967295,V=F+(j<<17&4294967295|j>>>15),j=N+(R^V&(F^R))+O[3]+3250441966&4294967295,N=V+(j<<22&4294967295|j>>>10),j=R+(F^N&(V^F))+O[4]+4118548399&4294967295,R=N+(j<<7&4294967295|j>>>25),j=F+(V^R&(N^V))+O[5]+1200080426&4294967295,F=R+(j<<12&4294967295|j>>>20),j=V+(N^F&(R^N))+O[6]+2821735955&4294967295,V=F+(j<<17&4294967295|j>>>15),j=N+(R^V&(F^R))+O[7]+4249261313&4294967295,N=V+(j<<22&4294967295|j>>>10),j=R+(F^N&(V^F))+O[8]+1770035416&4294967295,R=N+(j<<7&4294967295|j>>>25),j=F+(V^R&(N^V))+O[9]+2336552879&4294967295,F=R+(j<<12&4294967295|j>>>20),j=V+(N^F&(R^N))+O[10]+4294925233&4294967295,V=F+(j<<17&4294967295|j>>>15),j=N+(R^V&(F^R))+O[11]+2304563134&4294967295,N=V+(j<<22&4294967295|j>>>10),j=R+(F^N&(V^F))+O[12]+1804603682&4294967295,R=N+(j<<7&4294967295|j>>>25),j=F+(V^R&(N^V))+O[13]+4254626195&4294967295,F=R+(j<<12&4294967295|j>>>20),j=V+(N^F&(R^N))+O[14]+2792965006&4294967295,V=F+(j<<17&4294967295|j>>>15),j=N+(R^V&(F^R))+O[15]+1236535329&4294967295,N=V+(j<<22&4294967295|j>>>10),j=R+(V^F&(N^V))+O[1]+4129170786&4294967295,R=N+(j<<5&4294967295|j>>>27),j=F+(N^V&(R^N))+O[6]+3225465664&4294967295,F=R+(j<<9&4294967295|j>>>23),j=V+(R^N&(F^R))+O[11]+643717713&4294967295,V=F+(j<<14&4294967295|j>>>18),j=N+(F^R&(V^F))+O[0]+3921069994&4294967295,N=V+(j<<20&4294967295|j>>>12),j=R+(V^F&(N^V))+O[5]+3593408605&4294967295,R=N+(j<<5&4294967295|j>>>27),j=F+(N^V&(R^N))+O[10]+38016083&4294967295,F=R+(j<<9&4294967295|j>>>23),j=V+(R^N&(F^R))+O[15]+3634488961&4294967295,V=F+(j<<14&4294967295|j>>>18),j=N+(F^R&(V^F))+O[4]+3889429448&4294967295,N=V+(j<<20&4294967295|j>>>12),j=R+(V^F&(N^V))+O[9]+568446438&4294967295,R=N+(j<<5&4294967295|j>>>27),j=F+(N^V&(R^N))+O[14]+3275163606&4294967295,F=R+(j<<9&4294967295|j>>>23),j=V+(R^N&(F^R))+O[3]+4107603335&4294967295,V=F+(j<<14&4294967295|j>>>18),j=N+(F^R&(V^F))+O[8]+1163531501&4294967295,N=V+(j<<20&4294967295|j>>>12),j=R+(V^F&(N^V))+O[13]+2850285829&4294967295,R=N+(j<<5&4294967295|j>>>27),j=F+(N^V&(R^N))+O[2]+4243563512&4294967295,F=R+(j<<9&4294967295|j>>>23),j=V+(R^N&(F^R))+O[7]+1735328473&4294967295,V=F+(j<<14&4294967295|j>>>18),j=N+(F^R&(V^F))+O[12]+2368359562&4294967295,N=V+(j<<20&4294967295|j>>>12),j=R+(N^V^F)+O[5]+4294588738&4294967295,R=N+(j<<4&4294967295|j>>>28),j=F+(R^N^V)+O[8]+2272392833&4294967295,F=R+(j<<11&4294967295|j>>>21),j=V+(F^R^N)+O[11]+1839030562&4294967295,V=F+(j<<16&4294967295|j>>>16),j=N+(V^F^R)+O[14]+4259657740&4294967295,N=V+(j<<23&4294967295|j>>>9),j=R+(N^V^F)+O[1]+2763975236&4294967295,R=N+(j<<4&4294967295|j>>>28),j=F+(R^N^V)+O[4]+1272893353&4294967295,F=R+(j<<11&4294967295|j>>>21),j=V+(F^R^N)+O[7]+4139469664&4294967295,V=F+(j<<16&4294967295|j>>>16),j=N+(V^F^R)+O[10]+3200236656&4294967295,N=V+(j<<23&4294967295|j>>>9),j=R+(N^V^F)+O[13]+681279174&4294967295,R=N+(j<<4&4294967295|j>>>28),j=F+(R^N^V)+O[0]+3936430074&4294967295,F=R+(j<<11&4294967295|j>>>21),j=V+(F^R^N)+O[3]+3572445317&4294967295,V=F+(j<<16&4294967295|j>>>16),j=N+(V^F^R)+O[6]+76029189&4294967295,N=V+(j<<23&4294967295|j>>>9),j=R+(N^V^F)+O[9]+3654602809&4294967295,R=N+(j<<4&4294967295|j>>>28),j=F+(R^N^V)+O[12]+3873151461&4294967295,F=R+(j<<11&4294967295|j>>>21),j=V+(F^R^N)+O[15]+530742520&4294967295,V=F+(j<<16&4294967295|j>>>16),j=N+(V^F^R)+O[2]+3299628645&4294967295,N=V+(j<<23&4294967295|j>>>9),j=R+(V^(N|~F))+O[0]+4096336452&4294967295,R=N+(j<<6&4294967295|j>>>26),j=F+(N^(R|~V))+O[7]+1126891415&4294967295,F=R+(j<<10&4294967295|j>>>22),j=V+(R^(F|~N))+O[14]+2878612391&4294967295,V=F+(j<<15&4294967295|j>>>17),j=N+(F^(V|~R))+O[5]+4237533241&4294967295,N=V+(j<<21&4294967295|j>>>11),j=R+(V^(N|~F))+O[12]+1700485571&4294967295,R=N+(j<<6&4294967295|j>>>26),j=F+(N^(R|~V))+O[3]+2399980690&4294967295,F=R+(j<<10&4294967295|j>>>22),j=V+(R^(F|~N))+O[10]+4293915773&4294967295,V=F+(j<<15&4294967295|j>>>17),j=N+(F^(V|~R))+O[1]+2240044497&4294967295,N=V+(j<<21&4294967295|j>>>11),j=R+(V^(N|~F))+O[8]+1873313359&4294967295,R=N+(j<<6&4294967295|j>>>26),j=F+(N^(R|~V))+O[15]+4264355552&4294967295,F=R+(j<<10&4294967295|j>>>22),j=V+(R^(F|~N))+O[6]+2734768916&4294967295,V=F+(j<<15&4294967295|j>>>17),j=N+(F^(V|~R))+O[13]+1309151649&4294967295,N=V+(j<<21&4294967295|j>>>11),j=R+(V^(N|~F))+O[4]+4149444226&4294967295,R=N+(j<<6&4294967295|j>>>26),j=F+(N^(R|~V))+O[11]+3174756917&4294967295,F=R+(j<<10&4294967295|j>>>22),j=V+(R^(F|~N))+O[2]+718787259&4294967295,V=F+(j<<15&4294967295|j>>>17),j=N+(F^(V|~R))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(V+(j<<21&4294967295|j>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+F&4294967295}s.prototype.v=function(D,R){R===void 0&&(R=D.length);const N=R-this.blockSize,O=this.C;let V=this.h,F=0;for(;F<R;){if(V==0)for(;F<=N;)a(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<R;)if(O[V++]=D.charCodeAt(F++),V==this.blockSize){a(this,O),V=0;break}}else for(;F<R;)if(O[V++]=D[F++],V==this.blockSize){a(this,O),V=0;break}}this.h=V,this.o+=R},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var N=D.length-8;N<D.length;++N)D[N]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,N=0;N<4;++N)for(let O=0;O<32;O+=8)D[R++]=this.g[N]>>>O&255;return D};function l(D,R){var N=f;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=R(D)}function u(D,R){this.h=R;const N=[];let O=!0;for(let V=D.length-1;V>=0;V--){const F=D[V]|0;O&&F==R||(N[V]=F,O=!1)}this.g=N}var f={};function p(D){return-128<=D&&D<128?l(D,function(R){return new u([R|0],R<0?-1:0)}):new u([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return _;if(D<0)return k(g(-D));const R=[];let N=1;for(let O=0;D>=N;O++)R[O]=D/N|0,N*=4294967296;return new u(R,0)}function v(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return k(v(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(R,8));let O=_;for(let F=0;F<D.length;F+=8){var V=Math.min(8,D.length-F);const j=parseInt(D.substring(F,F+V),R);V<8?(V=g(Math.pow(R,V)),O=O.j(V).add(g(j))):(O=O.j(N),O=O.add(g(j)))}return O}var _=p(0),b=p(1),w=p(16777216);t=u.prototype,t.m=function(){if(M(this))return-k(this).m();let D=0,R=1;for(let N=0;N<this.g.length;N++){const O=this.i(N);D+=(O>=0?O:4294967296+O)*R,R*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(M(this))return"-"+k(this).toString(D);const R=g(Math.pow(D,6));var N=this;let O="";for(;;){const V=se(N,R).g;N=z(N,V.j(R));let F=((N.g.length>0?N.g[0]:N.h)>>>0).toString(D);if(N=V,C(N))return F+O;for(;F.length<6;)F="0"+F;O=F+O}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=z(this,D),M(D)?-1:C(D)?0:1};function k(D){const R=D.g.length,N=[];for(let O=0;O<R;O++)N[O]=~D.g[O];return new u(N,~D.h).add(b)}t.abs=function(){return M(this)?k(this):this},t.add=function(D){const R=Math.max(this.g.length,D.g.length),N=[];let O=0;for(let V=0;V<=R;V++){let F=O+(this.i(V)&65535)+(D.i(V)&65535),j=(F>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);O=j>>>16,F&=65535,j&=65535,N[V]=j<<16|F}return new u(N,N[N.length-1]&-2147483648?-1:0)};function z(D,R){return D.add(k(R))}t.j=function(D){if(C(this)||C(D))return _;if(M(this))return M(D)?k(this).j(k(D)):k(k(this).j(D));if(M(D))return k(this.j(k(D)));if(this.l(w)<0&&D.l(w)<0)return g(this.m()*D.m());const R=this.g.length+D.g.length,N=[];for(var O=0;O<2*R;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<D.g.length;V++){const F=this.i(O)>>>16,j=this.i(O)&65535,nt=D.i(V)>>>16,gt=D.i(V)&65535;N[2*O+2*V]+=j*gt,q(N,2*O+2*V),N[2*O+2*V+1]+=F*gt,q(N,2*O+2*V+1),N[2*O+2*V+1]+=j*nt,q(N,2*O+2*V+1),N[2*O+2*V+2]+=F*nt,q(N,2*O+2*V+2)}for(D=0;D<R;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=R;D<2*R;D++)N[D]=0;return new u(N,0)};function q(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function K(D,R){this.g=D,this.h=R}function se(D,R){if(C(R))throw Error("division by zero");if(C(D))return new K(_,_);if(M(D))return R=se(k(D),R),new K(k(R.g),k(R.h));if(M(R))return R=se(D,k(R)),new K(k(R.g),R.h);if(D.g.length>30){if(M(D)||M(R))throw Error("slowDivide_ only works with positive integers.");for(var N=b,O=R;O.l(D)<=0;)N=re(N),O=re(O);var V=ce(N,1),F=ce(O,1);for(O=ce(O,2),N=ce(N,2);!C(O);){var j=F.add(O);j.l(D)<=0&&(V=V.add(N),F=j),O=ce(O,1),N=ce(N,1)}return R=z(D,V.j(R)),new K(V,R)}for(V=_;D.l(R)>=0;){for(N=Math.max(1,Math.floor(D.m()/R.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),F=g(N),j=F.j(R);M(j)||j.l(D)>0;)N-=O,F=g(N),j=F.j(R);C(F)&&(F=b),V=V.add(F),D=z(D,j)}return new K(V,D)}t.B=function(D){return se(this,D).h},t.and=function(D){const R=Math.max(this.g.length,D.g.length),N=[];for(let O=0;O<R;O++)N[O]=this.i(O)&D.i(O);return new u(N,this.h&D.h)},t.or=function(D){const R=Math.max(this.g.length,D.g.length),N=[];for(let O=0;O<R;O++)N[O]=this.i(O)|D.i(O);return new u(N,this.h|D.h)},t.xor=function(D){const R=Math.max(this.g.length,D.g.length),N=[];for(let O=0;O<R;O++)N[O]=this.i(O)^D.i(O);return new u(N,this.h^D.h)};function re(D){const R=D.g.length+1,N=[];for(let O=0;O<R;O++)N[O]=D.i(O)<<1|D.i(O-1)>>>31;return new u(N,D.h)}function ce(D,R){const N=R>>5;R%=32;const O=D.g.length-N,V=[];for(let F=0;F<O;F++)V[F]=R>0?D.i(F+N)>>>R|D.i(F+N+1)<<32-R:D.i(F+N);return new u(V,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Yw=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,Or=u}).apply(typeof eb<"u"?eb:typeof self<"u"?self:typeof window<"u"?window:{});var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qw,Xc,Xw,$f,cy,Ww,Jw,Zw;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nf=="object"&&Nf];for(var T=0;T<h.length;++T){var S=h[T];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=n(this);function a(h,T){if(T)e:{var S=s;h=h.split(".");for(var x=0;x<h.length-1;x++){var H=h[x];if(!(H in S))break e;S=S[H]}h=h[h.length-1],x=S[h],T=T(x),T!=x&&T!=null&&e(S,h,{configurable:!0,writable:!0,value:T})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(T){var S=[],x;for(x in T)Object.prototype.hasOwnProperty.call(T,x)&&S.push([x,T[x]]);return S}});var l=l||{},u=this||self;function f(h){var T=typeof h;return T=="object"&&h!=null||T=="function"}function p(h,T,S){return h.call.apply(h.bind,arguments)}function g(h,T,S){return g=p,g.apply(null,arguments)}function v(h,T){var S=Array.prototype.slice.call(arguments,1);return function(){var x=S.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function _(h,T){function S(){}S.prototype=T.prototype,h.Z=T.prototype,h.prototype=new S,h.prototype.constructor=h,h.Ob=function(x,H,Q){for(var oe=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)oe[Re-2]=arguments[Re];return T.prototype[H].apply(x,oe)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const T=h.length;if(T>0){const S=Array(T);for(let x=0;x<T;x++)S[x]=h[x];return S}return[]}function C(h,T){for(let x=1;x<arguments.length;x++){const H=arguments[x];var S=typeof H;if(S=S!="object"?S:H?Array.isArray(H)?"array":S:"null",S=="array"||S=="object"&&typeof H.length=="number"){S=h.length||0;const Q=H.length||0;h.length=S+Q;for(let oe=0;oe<Q;oe++)h[S+oe]=H[oe]}else h.push(H)}}class M{constructor(T,S){this.i=T,this.j=S,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function k(h){u.setTimeout(()=>{throw h},0)}function z(){var h=D;let T=null;return h.g&&(T=h.g,h.g=h.g.next,h.g||(h.h=null),T.next=null),T}class q{constructor(){this.h=this.g=null}add(T,S){const x=K.get();x.set(T,S),this.h?this.h.next=x:this.g=x,this.h=x}}var K=new M(()=>new se,h=>h.reset());class se{constructor(){this.next=this.g=this.h=null}set(T,S){this.h=T,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ce=!1,D=new q,R=()=>{const h=Promise.resolve(void 0);re=()=>{h.then(N)}};function N(){for(var h;h=z();){try{h.h.call(h.g)}catch(S){k(S)}var T=K;T.j(h),T.h<100&&(T.h++,h.next=T.g,T.g=h)}ce=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,T){this.type=h,this.g=this.target=T,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,T=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};u.addEventListener("test",S,T),u.removeEventListener("test",S,T)}catch{}return h})();function j(h){return/^[\s\xa0]*$/.test(h)}function nt(h,T){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,T)}_(nt,V),nt.prototype.init=function(h,T){const S=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=T,T=h.relatedTarget,T||(S=="mouseover"?T=h.fromElement:S=="mouseout"&&(T=h.toElement)),this.relatedTarget=T,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),J=0;function ae(h,T,S,x,H){this.listener=h,this.proxy=null,this.src=T,this.type=S,this.capture=!!x,this.ha=H,this.key=++J,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ne(h,T,S){for(const x in h)T.call(S,h[x],x,h)}function ke(h,T){for(const S in h)T.call(void 0,h[S],S,h)}function U(h){const T={};for(const S in h)T[S]=h[S];return T}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,T){let S,x;for(let H=1;H<arguments.length;H++){x=arguments[H];for(S in x)h[S]=x[S];for(let Q=0;Q<ne.length;Q++)S=ne[Q],Object.prototype.hasOwnProperty.call(x,S)&&(h[S]=x[S])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,T,S,x,H){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const oe=Ie(h,T,x,H);return oe>-1?(T=h[oe],S||(T.fa=!1)):(T=new ae(T,this.src,Q,!!x,H),T.fa=S,h.push(T)),T};function Se(h,T){const S=T.type;if(S in h.g){var x=h.g[S],H=Array.prototype.indexOf.call(x,T,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call(x,H,1),Q&&(de(T),h.g[S].length==0&&(delete h.g[S],h.h--))}}function Ie(h,T,S,x){for(let H=0;H<h.length;++H){const Q=h[H];if(!Q.da&&Q.listener==T&&Q.capture==!!S&&Q.ha==x)return H}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Ft={};function ct(h,T,S,x,H){if(Array.isArray(T)){for(let Q=0;Q<T.length;Q++)ct(h,T[Q],S,x,H);return null}return S=zl(S),h&&h[gt]?h.J(T,S,f(x)?!!x.capture:!1,H):ra(h,T,S,!1,x,H)}function ra(h,T,S,x,H,Q){if(!T)throw Error("Invalid event type");const oe=f(H)?!!H.capture:!!H;let Re=aa(h);if(Re||(h[Be]=Re=new fe(h)),S=Re.add(T,S,x,oe,Q),S.proxy)return S;if(x=oo(),S.proxy=x,x.src=h,x.listener=S,h.addEventListener)F||(H=oe),H===void 0&&(H=!1),h.addEventListener(T.toString(),x,H);else if(h.attachEvent)h.attachEvent(ki(T.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return S}function oo(){function h(S){return T.call(h.src,h.listener,S)}const T=Ll;return h}function lo(h,T,S,x,H){if(Array.isArray(T))for(var Q=0;Q<T.length;Q++)lo(h,T[Q],S,x,H);else x=f(x)?!!x.capture:!!x,S=zl(S),h&&h[gt]?(h=h.i,Q=String(T).toString(),Q in h.g&&(T=h.g[Q],S=Ie(T,S,x,H),S>-1&&(de(T[S]),Array.prototype.splice.call(T,S,1),T.length==0&&(delete h.g[Q],h.h--)))):h&&(h=aa(h))&&(T=h.g[T.toString()],h=-1,T&&(h=Ie(T,S,x,H)),(S=h>-1?T[h]:null)&&co(S))}function co(h){if(typeof h!="number"&&h&&!h.da){var T=h.src;if(T&&T[gt])Se(T.i,h);else{var S=h.type,x=h.proxy;T.removeEventListener?T.removeEventListener(S,x,h.capture):T.detachEvent?T.detachEvent(ki(S),x):T.addListener&&T.removeListener&&T.removeListener(x),(S=aa(T))?(Se(S,h),S.h==0&&(S.src=null,T[Be]=null)):de(h)}}}function ki(h){return h in Ft?Ft[h]:Ft[h]="on"+h}function Ll(h,T){if(h.da)h=!0;else{T=new nt(T,this);const S=h.listener,x=h.ha||h.src;h.fa&&co(h),h=S.call(x,T)}return h}function aa(h){return h=h[Be],h instanceof fe?h:null}var Ul="__closure_events_fn_"+(Math.random()*1e9>>>0);function zl(h){return typeof h=="function"?h:(h[Ul]||(h[Ul]=function(T){return h.handleEvent(T)}),h[Ul])}function Nt(){O.call(this),this.i=new fe(this),this.M=this,this.G=null}_(Nt,O),Nt.prototype[gt]=!0,Nt.prototype.removeEventListener=function(h,T,S,x){lo(this,h,T,S,x)};function qt(h,T){var S,x=h.G;if(x)for(S=[];x;x=x.G)S.push(x);if(h=h.M,x=T.type||T,typeof T=="string")T=new V(T,h);else if(T instanceof V)T.target=T.target||h;else{var H=T;T=new V(x,h),le(T,H)}H=!0;let Q,oe;if(S)for(oe=S.length-1;oe>=0;oe--)Q=T.g=S[oe],H=$s(Q,x,!0,T)&&H;if(Q=T.g=h,H=$s(Q,x,!0,T)&&H,H=$s(Q,x,!1,T)&&H,S)for(oe=0;oe<S.length;oe++)Q=T.g=S[oe],H=$s(Q,x,!1,T)&&H}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var h=this.i;for(const T in h.g){const S=h.g[T];for(let x=0;x<S.length;x++)de(S[x]);delete h.g[T],h.h--}}this.G=null},Nt.prototype.J=function(h,T,S,x){return this.i.add(String(h),T,!1,S,x)},Nt.prototype.K=function(h,T,S,x){return this.i.add(String(h),T,!0,S,x)};function $s(h,T,S,x){if(T=h.i.g[String(T)],!T)return!0;T=T.concat();let H=!0;for(let Q=0;Q<T.length;++Q){const oe=T[Q];if(oe&&!oe.da&&oe.capture==S){const Re=oe.listener,wt=oe.ha||oe.src;oe.fa&&Se(h.i,oe),H=Re.call(wt,x)!==!1&&H}}return H&&!x.defaultPrevented}function fm(h,T){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:u.setTimeout(h,T||0)}function Wu(h){h.g=fm(()=>{h.g=null,h.i&&(h.i=!1,Wu(h))},h.l);const T=h.h;h.h=null,h.m.apply(null,T)}class vn extends O{constructor(T,S){super(),this.m=T,this.l=S,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Wu(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(h){O.call(this),this.h=h,this.g={}}_(oa,O);var Bl=[];function Fl(h){Ne(h.g,function(T,S){this.g.hasOwnProperty(S)&&co(T)},h),h.g={}}oa.prototype.N=function(){oa.Z.N.call(this),Fl(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ys=u.JSON.stringify,dm=u.JSON.parse,Ju=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Zu(){}function eh(){}var fi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){V.call(this,"d")}_(Zt,V);function $n(){V.call(this,"c")}_($n,V);var At={},th=null;function uo(){return th=th||new Nt}At.Ia="serverreachability";function nh(h){V.call(this,At.Ia,h)}_(nh,V);function Pi(h){const T=uo();qt(T,new nh(T))}At.STAT_EVENT="statevent";function la(h,T){V.call(this,At.STAT_EVENT,h),this.stat=T}_(la,V);function It(h){const T=uo();qt(T,new la(T,h))}At.Ja="timingevent";function Vi(h,T){V.call(this,At.Ja,h),this.size=T}_(Vi,V);function Oi(h,T){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},T)}function di(){this.g=!0}di.prototype.ua=function(){this.g=!1};function mm(h,T,S,x,H,Q){h.info(function(){if(h.g)if(Q){var oe="",Re=Q.split("&");for(let Ke=0;Ke<Re.length;Ke++){var wt=Re[Ke].split("=");if(wt.length>1){const ut=wt[0];wt=wt[1];const Wn=ut.split("_");oe=Wn.length>=2&&Wn[1]=="type"?oe+(ut+"="+wt+"&"):oe+(ut+"=redacted&")}}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+x+") [attempt "+H+"]: "+T+`
`+S+`
`+oe})}function ih(h,T,S,x,H,Q,oe){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+H+"]: "+T+`
`+S+`
`+Q+" "+oe})}function Li(h,T,S,x){h.info(function(){return"XMLHTTP TEXT ("+T+"): "+pm(h,S)+(x?" "+x:"")})}function ca(h,T){h.info(function(){return"TIMEOUT: "+T})}di.prototype.info=function(){};function pm(h,T){if(!h.g)return T;if(!T)return null;try{const Q=JSON.parse(T);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var S=Q[h];if(!(S.length<2)){var x=S[1];if(Array.isArray(x)&&!(x.length<1)){var H=x[0];if(H!="noop"&&H!="stop"&&H!="close")for(let oe=1;oe<x.length;oe++)x[oe]=""}}}}return Ys(Q)}catch{return T}}var ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ql={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hl;function ha(){}_(ha,Zu),ha.prototype.g=function(){return new XMLHttpRequest},Hl=new ha;function ys(h){return encodeURIComponent(String(h))}function sh(h){var T=1;h=h.split(":");const S=[];for(;T>0&&h.length;)S.push(h.shift()),T--;return h.length&&S.push(h.join(":")),S}function mi(h,T,S,x){this.j=h,this.i=T,this.l=S,this.S=x||1,this.V=new oa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var Dt={},Yt={};function Ui(h,T,S){h.M=1,h.A=fa(Mt(T)),h.u=S,h.R=!0,ho(h,null)}function ho(h,T){h.F=Date.now(),zi(h),h.B=Mt(h.A);var S=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),go(S.i,"t",x),h.C=0,S=h.j.L,h.h=new pi,h.g=_h(h.j,S?T:null,!h.u),h.P>0&&(h.O=new vn(g(h.Y,h,h.g),h.P)),T=h.V,S=h.g,x=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(Bl[0]=H.toString()),H=Bl);for(let Q=0;Q<H.length;Q++){const oe=ct(S,H[Q],x||T.handleEvent,!1,T.h||T);if(!oe)break;T.g[oe.key]=oe}T=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,T)):(h.v="GET",h.g.ea(h.B,h.v,null,T)),Pi(),mm(h.i,h.v,h.B,h.l,h.S,h.u)}mi.prototype.ba=function(h){h=h.target;const T=this.O;T&&vi(h)==3?T.j():this.Y(h)},mi.prototype.Y=function(h){try{if(h==this.g)e:{const Re=vi(this.g),wt=this.g.ya(),Ke=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Re!=4||wt==7||(wt==8||Ke<=0?Pi(3):Pi(2)),Bi(this);var T=this.g.ca();this.X=T;var S=gm(this);if(this.o=T==200,ih(this.i,this.v,this.B,this.l,this.S,Re,T),this.o){if(this.U&&!this.L){t:{if(this.g){var x,H=this.g;if((x=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(x)){var Q=x;break t}}Q=null}if(h=Q)Li(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fi(this,h);else{this.o=!1,this.m=3,It(12),Mn(this),Yn(this);break e}}if(this.R){h=!0;let ut;for(;!this.K&&this.C<S.length;)if(ut=ah(this,S),ut==Yt){Re==4&&(this.m=4,It(14),h=!1),Li(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==Dt){this.m=4,It(15),Li(this.i,this.l,S,"[Invalid Chunk]"),h=!1;break}else Li(this.i,this.l,ut,null),Fi(this,ut);if(rh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||S.length!=0||this.h.h||(this.m=1,It(16),h=!1),this.o=this.o&&h,!h)Li(this.i,this.l,S,"[Invalid Chunked Response]"),Mn(this),Yn(this);else if(S.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),rc(oe),oe.P=!0,It(11))}}else Li(this.i,this.l,S,null),Fi(this,S);Re==4&&Mn(this),this.o&&!this.K&&(Re==4?ph(this.j,this):(this.o=!1,zi(this)))}else _s(this.g),T==400&&S.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Mn(this),Yn(this)}}}catch{}};function gm(h){if(!rh(h))return h.g.la();const T=en(h.g);if(T==="")return"";let S="";const x=T.length,H=vi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Mn(h),Yn(h),"";h.h.i=new u.TextDecoder}for(let Q=0;Q<x;Q++)h.h.h=!0,S+=h.h.i.decode(T[Q],{stream:!(H&&Q==x-1)});return T.length=0,h.h.g+=S,h.C=0,h.h.g}function rh(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ah(h,T){var S=h.C,x=T.indexOf(`
`,S);return x==-1?Yt:(S=Number(T.substring(S,x)),isNaN(S)?Dt:(x+=1,x+S>T.length?Yt:(T=T.slice(x,x+S),h.C=x+S,T)))}mi.prototype.cancel=function(){this.K=!0,Mn(this)};function zi(h){h.T=Date.now()+h.H,fo(h,h.H)}function fo(h,T){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Oi(g(h.aa,h),T)}function Bi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}mi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ca(this.i,this.B),this.M!=2&&(Pi(),It(17)),Mn(this),this.m=2,Yn(this)):fo(this,this.T-h)};function Yn(h){h.j.I==0||h.K||ph(h.j,h)}function Mn(h){Bi(h);var T=h.O;T&&typeof T.dispose=="function"&&T.dispose(),h.O=null,Fl(h.V),h.g&&(T=h.g,h.g=null,T.abort(),T.dispose())}function Fi(h,T){try{var S=h.j;if(S.I!=0&&(S.g==h||Hi(S.h,h))){if(!h.L&&Hi(S.h,h)&&S.I==3){try{var x=S.Ba.g.parse(T)}catch{x=null}if(Array.isArray(x)&&x.length==3){var H=x;if(H[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<h.F)Eo(S),nr(S);else break e;_a(S),It(18)}}else S.xa=H[1],0<S.xa-S.K&&H[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Oi(g(S.Va,S),6e3));qi(S.h)<=1&&S.ta&&(S.ta=void 0)}else Xi(S,11)}else if((h.L||S.g==h)&&Eo(S),!j(T))for(H=S.Ba.g.parse(T),T=0;T<H.length;T++){let Ke=H[T];const ut=Ke[0];if(!(ut<=S.K))if(S.K=ut,Ke=Ke[1],S.I==2)if(Ke[0]=="c"){S.M=Ke[1],S.ba=Ke[2];const Wn=Ke[3];Wn!=null&&(S.ka=Wn,S.j.info("VER="+S.ka));const Wi=Ke[4];Wi!=null&&(S.za=Wi,S.j.info("SVER="+S.za));const _i=Ke[5];_i!=null&&typeof _i=="number"&&_i>0&&(x=1.5*_i,S.O=x,S.j.info("backChannelRequestTimeoutMs_="+x)),x=S;const Ti=h.g;if(Ti){const Ta=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ta){var Q=x.h;Q.g||Ta.indexOf("spdy")==-1&&Ta.indexOf("quic")==-1&&Ta.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&($l(Q,Q.h),Q.h=null))}if(x.G){const bo=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(x.wa=bo,Qe(x.J,x.G,bo))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-h.F,S.j.info("Handshake RTT: "+S.T+"ms")),x=S;var oe=h;if(x.na=vh(x,x.L?x.ba:null,x.W),oe.L){Yl(x.h,oe);var Re=oe,wt=x.O;wt&&(Re.H=wt),Re.D&&(Bi(Re),zi(Re)),x.g=oe}else dh(x);S.i.length>0&&Qi(S)}else Ke[0]!="stop"&&Ke[0]!="close"||Xi(S,7);else S.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Xi(S,7):ic(S):Ke[0]!="noop"&&S.l&&S.l.qa(Ke),S.A=0)}}Pi(4)}catch{}}var jt=class{constructor(h,T){this.g=h,this.map=T}};function Gl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function qi(h){return h.h?1:h.g?h.g.size:0}function Hi(h,T){return h.h?h.h==T:h.g?h.g.has(T):!1}function $l(h,T){h.g?h.g.add(T):h.h=T}function Yl(h,T){h.h&&h.h==T?h.h=null:h.g&&h.g.has(T)&&h.g.delete(T)}Gl.prototype.cancel=function(){if(this.i=Ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ql(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let T=h.i;for(const S of h.g.values())T=T.concat(S.G);return T}return w(h.i)}var oh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mo(h,T){if(h){h=h.split("&");for(let S=0;S<h.length;S++){const x=h[S].indexOf("=");let H,Q=null;x>=0?(H=h[S].substring(0,x),Q=h[S].substring(x+1)):H=h[S],T(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function kn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;h instanceof kn?(this.l=h.l,Qt(this,h.j),this.o=h.o,this.g=h.g,Qs(this,h.u),this.h=h.h,Xl(this,hh(h.i)),this.m=h.m):h&&(T=String(h).match(oh))?(this.l=!1,Qt(this,T[1]||"",!0),this.o=Gi(T[2]||""),this.g=Gi(T[3]||"",!0),Qs(this,T[4]),this.h=Gi(T[5]||"",!0),Xl(this,T[6]||"",!0),this.m=Gi(T[7]||"")):(this.l=!1,this.i=new Ws(null,this.l))}kn.prototype.toString=function(){const h=[];var T=this.j;T&&h.push(da(T,po,!0),":");var S=this.g;return(S||T=="file")&&(h.push("//"),(T=this.o)&&h.push(da(T,po,!0),"@"),h.push(ys(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&h.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(da(S,S.charAt(0)=="/"?Wl:lh,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",da(S,ch)),h.join("")},kn.prototype.resolve=function(h){const T=Mt(this);let S=!!h.j;S?Qt(T,h.j):S=!!h.o,S?T.o=h.o:S=!!h.g,S?T.g=h.g:S=h.u!=null;var x=h.h;if(S)Qs(T,h.u);else if(S=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var H=T.h.lastIndexOf("/");H!=-1&&(x=T.h.slice(0,H+1)+x)}if(H=x,H==".."||H==".")x="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){x=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let oe=0;oe<H.length;){const Re=H[oe++];Re=="."?x&&oe==H.length&&Q.push(""):Re==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),x&&oe==H.length&&Q.push("")):(Q.push(Re),x=!0)}x=Q.join("/")}else x=H}return S?T.h=x:S=h.i.toString()!=="",S?Xl(T,hh(h.i)):S=!!h.m,S&&(T.m=h.m),T};function Mt(h){return new kn(h)}function Qt(h,T,S){h.j=S?Gi(T,!0):T,h.j&&(h.j=h.j.replace(/:$/,""))}function Qs(h,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);h.u=T}else h.u=null}function Xl(h,T,S){T instanceof Ws?(h.i=T,yo(h.i,h.l)):(S||(T=da(T,Xs)),h.i=new Ws(T,h.l))}function Qe(h,T,S){h.i.set(T,S)}function fa(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Gi(h,T){return h?T?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function da(h,T,S){return typeof h=="string"?(h=encodeURI(h).replace(T,An),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function An(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var po=/[#\/\?@]/g,lh=/[#\?:]/g,Wl=/[#\?]/g,Xs=/[#\?@]/g,ch=/#/g;function Ws(h,T){this.h=this.g=null,this.i=h||null,this.j=!!T}function wn(h){h.g||(h.g=new Map,h.h=0,h.i&&mo(h.i,function(T,S){h.add(decodeURIComponent(T.replace(/\+/g," ")),S)}))}t=Ws.prototype,t.add=function(h,T){wn(this),this.i=null,h=Js(this,h);let S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(T),this.h+=1,this};function uh(h,T){wn(h),T=Js(h,T),h.g.has(T)&&(h.i=null,h.h-=h.g.get(T).length,h.g.delete(T))}function Jl(h,T){return wn(h),T=Js(h,T),h.g.has(T)}t.forEach=function(h,T){wn(this),this.g.forEach(function(S,x){S.forEach(function(H){h.call(T,H,x,this)},this)},this)};function Zl(h,T){wn(h);let S=[];if(typeof T=="string")Jl(h,T)&&(S=S.concat(h.g.get(Js(h,T))));else for(h=Array.from(h.g.values()),T=0;T<h.length;T++)S=S.concat(h[T]);return S}t.set=function(h,T){return wn(this),this.i=null,h=Js(this,h),Jl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[T]),this.h+=1,this},t.get=function(h,T){return h?(h=Zl(this,h),h.length>0?String(h[0]):T):T};function go(h,T,S){uh(h,T),S.length>0&&(h.i=null,h.g.set(Js(h,T),w(S)),h.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],T=Array.from(this.g.keys());for(let x=0;x<T.length;x++){var S=T[x];const H=ys(S);S=Zl(this,S);for(let Q=0;Q<S.length;Q++){let oe=H;S[Q]!==""&&(oe+="="+ys(S[Q])),h.push(oe)}}return this.i=h.join("&")};function hh(h){const T=new Ws;return T.i=h.i,h.g&&(T.g=new Map(h.g),T.h=h.h),T}function Js(h,T){return T=String(T),h.j&&(T=T.toLowerCase()),T}function yo(h,T){T&&!h.j&&(wn(h),h.i=null,h.g.forEach(function(S,x){const H=x.toLowerCase();x!=H&&(uh(this,x),go(this,H,S))},h)),h.j=T}function gi(h,T){const S=new di;if(u.Image){const x=new Image;x.onload=v(Qn,S,"TestLoadImage: loaded",!0,T,x),x.onerror=v(Qn,S,"TestLoadImage: error",!1,T,x),x.onabort=v(Qn,S,"TestLoadImage: abort",!1,T,x),x.ontimeout=v(Qn,S,"TestLoadImage: timeout",!1,T,x),u.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else T(!1)}function ec(h,T){const S=new di,x=new AbortController,H=setTimeout(()=>{x.abort(),Qn(S,"TestPingServer: timeout",!1,T)},1e4);fetch(h,{signal:x.signal}).then(Q=>{clearTimeout(H),Q.ok?Qn(S,"TestPingServer: ok",!0,T):Qn(S,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(H),Qn(S,"TestPingServer: error",!1,T)})}function Qn(h,T,S,x,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),x(S)}catch{}}function Zs(){this.g=new Ju}function Ki(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Ki,Zu),Ki.prototype.g=function(){return new ma(this.i,this.h)};function ma(h,T){Nt.call(this),this.H=h,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ma,Nt),t=ma.prototype,t.open=function(h,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=T,this.readyState=1,yi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(T.body=h),(this.H||u).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function vo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var T=h.value?h.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!h.done}))&&(this.response=this.responseText+=T)}h.done?er(this):yi(this),this.readyState==3&&vo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,er(this))},t.Na=function(h){this.g&&(this.response=h,er(this))},t.ga=function(){this.g&&er(this)};function er(h){h.readyState=4,h.l=null,h.j=null,h.B=null,yi(h)}t.setRequestHeader=function(h,T){this.A.append(h,T)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],T=this.h.entries();for(var S=T.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=T.next();return h.join(`\r
`)};function yi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xn(h){let T="";return Ne(h,function(S,x){T+=x,T+=":",T+=S,T+=`\r
`}),T}function pa(h,T,S){e:{for(x in S){var x=!1;break e}x=!0}x||(S=Xn(S),typeof h=="string"?S!=null&&ys(S):Qe(h,T,S))}function Je(h){Nt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Je,Nt);var $i=/^https?$/i,tc=["POST","PUT"];t=Je.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,T,S,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);T=T?T.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hl.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(T,String(h),!0),this.B=!1}catch(Q){ga(this,Q);return}if(h=S||"",S=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var H in x)S.set(H,x[H]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Q of x.keys())S.set(Q,x.get(Q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(S.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(tc,T,void 0)>=0)||x||H||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of S)this.g.setRequestHeader(Q,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){ga(this,Q)}};function ga(h,T){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=T,h.o=5,nc(h),vs(h)}function nc(h){h.A||(h.A=!0,qt(h,"complete"),qt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,qt(this,"complete"),qt(this,"abort"),vs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vs(this,!0)),Je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ya(this):this.Xa())},t.Xa=function(){ya(this)};function ya(h){if(h.h&&typeof l<"u"){if(h.v&&vi(h)==4)setTimeout(h.Ca.bind(h),0);else if(qt(h,"readystatechange"),vi(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var S;if(!(S=T)){var x;if(x=Q===0){let oe=String(h.D).match(oh)[1]||null;!oe&&u.self&&u.self.location&&(oe=u.self.location.protocol.slice(0,-1)),x=!$i.test(oe?oe.toLowerCase():"")}S=x}if(S)qt(h,"complete"),qt(h,"success");else{h.o=6;try{var H=vi(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",nc(h)}}finally{vs(h)}}}}function vs(h,T){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const S=h.g;h.g=null,T||qt(h,"ready");try{S.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var T=this.g.responseText;return h&&T.indexOf(h)==0&&(T=T.substring(h.length)),dm(T)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function _s(h){const T={};h=(h.g&&vi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(j(h[x]))continue;var S=sh(h[x]);const H=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const Q=T[H]||[];T[H]=Q,Q.push(S)}ke(T,function(x){return x.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yi(h,T,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||T}function tr(h){this.za=0,this.i=[],this.j=new di,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yi("baseRetryDelayMs",5e3,h),this.Za=Yi("retryDelaySeedMs",1e4,h),this.Ta=Yi("forwardChannelMaxRetries",2,h),this.va=Yi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Gl(h&&h.concurrentRequestLimit),this.Ba=new Zs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=tr.prototype,t.ka=8,t.I=1,t.connect=function(h,T,S,x){It(0),this.W=h,this.H=T||{},S&&x!==void 0&&(this.H.OSID=S,this.H.OAID=x),this.F=this.X,this.J=vh(this,null,this.W),Qi(this)};function ic(h){if(_o(h),h.I==3){var T=h.V++,S=Mt(h.J);if(Qe(S,"SID",h.M),Qe(S,"RID",T),Qe(S,"TYPE","terminate"),va(h,S),T=new mi(h,h.j,T),T.M=2,T.A=fa(Mt(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(T.A.toString(),"")}catch{}!S&&u.Image&&(new Image().src=T.A,S=!0),S||(T.g=_h(T.j,null),T.g.ea(T.A)),T.F=Date.now(),zi(T)}yh(h)}function nr(h){h.g&&(rc(h),h.g.cancel(),h.g=null)}function _o(h){nr(h),h.v&&(u.clearTimeout(h.v),h.v=null),Eo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Qi(h){if(!Kl(h.h)&&!h.m){h.m=!0;var T=h.Ea;re||R(),ce||(re(),ce=!0),D.add(T,h),h.D=0}}function To(h,T){return qi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=T.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Oi(g(h.Ea,h,T),gh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new mi(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=U(Q),le(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)e:{for(var T=0,S=0;S<this.i.length;S++){t:{var x=this.i[S];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(T+=x,T>4096){T=S;break e}if(T===4096||S===this.i.length-1){T=S+1;break e}}T=1e3}else T=1e3;T=fh(this,H,T),S=Mt(this.J),Qe(S,"RID",h),Qe(S,"CVER",22),this.G&&Qe(S,"X-HTTP-Session-Id",this.G),va(this,S),Q&&(this.R?T="headers="+ys(Xn(Q))+"&"+T:this.u&&pa(S,this.u,Q)),$l(this.h,H),this.Ra&&Qe(S,"TYPE","init"),this.S?(Qe(S,"$req",T),Qe(S,"SID","null"),H.U=!0,Ui(H,S,null)):Ui(H,S,T),this.I=2}}else this.I==3&&(h?sc(this,h):this.i.length==0||Kl(this.h)||sc(this))};function sc(h,T){var S;T?S=T.l:S=h.V++;const x=Mt(h.J);Qe(x,"SID",h.M),Qe(x,"RID",S),Qe(x,"AID",h.K),va(h,x),h.u&&h.o&&pa(x,h.u,h.o),S=new mi(h,h.j,S,h.D+1),h.u===null&&(S.J=h.o),T&&(h.i=T.G.concat(h.i)),T=fh(h,S,1e3),S.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),$l(h.h,S),Ui(S,x,T)}function va(h,T){h.H&&Ne(h.H,function(S,x){Qe(T,x,S)}),h.l&&Ne({},function(S,x){Qe(T,x,S)})}function fh(h,T,S){S=Math.min(h.i.length,S);const x=h.l?g(h.l.Ka,h.l,h):null;e:{var H=h.i;let Re=-1;for(;;){const wt=["count="+S];Re==-1?S>0?(Re=H[0].g,wt.push("ofs="+Re)):Re=0:wt.push("ofs="+Re);let Ke=!0;for(let ut=0;ut<S;ut++){var Q=H[ut].g;const Wn=H[ut].map;if(Q-=Re,Q<0)Re=Math.max(0,H[ut].g-100),Ke=!1;else try{Q="req"+Q+"_"||"";try{var oe=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Wi,_i]of oe){let Ti=_i;f(_i)&&(Ti=Ys(_i)),wt.push(Q+Wi+"="+encodeURIComponent(Ti))}}catch(Wi){throw wt.push(Q+"type="+encodeURIComponent("_badmap")),Wi}}catch{x&&x(Wn)}}if(Ke){oe=wt.join("&");break e}}oe=void 0}return h=h.i.splice(0,S),T.G=h,oe}function dh(h){if(!h.g&&!h.v){h.Y=1;var T=h.Da;re||R(),ce||(re(),ce=!0),D.add(T,h),h.A=0}}function _a(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Oi(g(h.Da,h),gh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,mh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Oi(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),nr(this),mh(this))};function rc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function mh(h){h.g=new mi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var T=Mt(h.na);Qe(T,"RID","rpc"),Qe(T,"SID",h.M),Qe(T,"AID",h.K),Qe(T,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(T,"TO",h.ia),Qe(T,"TYPE","xmlhttp"),va(h,T),h.u&&h.o&&pa(T,h.u,h.o),h.O&&(h.g.H=h.O);var S=h.g;h=h.ba,S.M=1,S.A=fa(Mt(T)),S.u=null,S.R=!0,ho(S,h)}t.Va=function(){this.C!=null&&(this.C=null,nr(this),_a(this),It(19))};function Eo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function ph(h,T){var S=null;if(h.g==T){Eo(h),rc(h),h.g=null;var x=2}else if(Hi(h.h,T))S=T.G,Yl(h.h,T),x=1;else return;if(h.I!=0){if(T.o)if(x==1){S=T.u?T.u.length:0,T=Date.now()-T.F;var H=h.D;x=uo(),qt(x,new Vi(x,S)),Qi(h)}else dh(h);else if(H=T.m,H==3||H==0&&T.X>0||!(x==1&&To(h,T)||x==2&&_a(h)))switch(S&&S.length>0&&(T=h.h,T.i=T.i.concat(S)),H){case 1:Xi(h,5);break;case 4:Xi(h,10);break;case 3:Xi(h,6);break;default:Xi(h,2)}}}function gh(h,T){let S=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(S*=2),S*T}function Xi(h,T){if(h.j.info("Error code "+T),T==2){var S=g(h.bb,h),x=h.Ua;const H=!x;x=new kn(x||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Qt(x,"https"),fa(x),H?gi(x.toString(),S):ec(x.toString(),S)}else It(2);h.I=0,h.l&&h.l.pa(T),yh(h),_o(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function yh(h){if(h.I=0,h.ja=[],h.l){const T=Ql(h.h);(T.length!=0||h.i.length!=0)&&(C(h.ja,T),C(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function vh(h,T,S){var x=S instanceof kn?Mt(S):new kn(S);if(x.g!="")T&&(x.g=T+"."+x.g),Qs(x,x.u);else{var H=u.location;x=H.protocol,T=T?T+"."+H.hostname:H.hostname,H=+H.port;const Q=new kn(null);x&&Qt(Q,x),T&&(Q.g=T),H&&Qs(Q,H),S&&(Q.h=S),x=Q}return S=h.G,T=h.wa,S&&T&&Qe(x,S,T),Qe(x,"VER",h.ka),va(h,x),x}function _h(h,T,S){if(T&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=h.Aa&&!h.ma?new Je(new Ki({ab:S})):new Je(h.ma),T.Fa(h.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Th(){}t=Th.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ir(){}ir.prototype.g=function(h,T){return new _n(h,T)};function _n(h,T){Nt.call(this),this.g=new tr(T),this.l=h,this.h=T&&T.messageUrlParams||null,h=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(h?h["X-WebChannel-Content-Type"]=T.messageContentType:h={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(h?h["X-WebChannel-Client-Profile"]=T.sa:h={"X-WebChannel-Client-Profile":T.sa}),this.g.U=h,(h=T&&T.Qb)&&!j(h)&&(this.g.u=h),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!j(T)&&(this.g.G=T,h=this.h,h!==null&&T in h&&(h=this.h,T in h&&delete h[T])),this.j=new Ts(this)}_(_n,Nt),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){ic(this.g)},_n.prototype.o=function(h){var T=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.v&&(S={},S.__data__=Ys(h),h=S);T.i.push(new jt(T.Ya++,h)),T.I==3&&Qi(T)},_n.prototype.N=function(){this.g.l=null,delete this.j,ic(this.g),delete this.g,_n.Z.N.call(this)};function Eh(h){Zt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var T=h.__sm__;if(T){e:{for(const S in T){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,T=T!==null&&h in T?T[h]:void 0),this.data=T}else this.data=h}_(Eh,Zt);function bh(){$n.call(this),this.status=1}_(bh,$n);function Ts(h){this.g=h}_(Ts,Th),Ts.prototype.ra=function(){qt(this.g,"a")},Ts.prototype.qa=function(h){qt(this.g,new Eh(h))},Ts.prototype.pa=function(h){qt(this.g,new bh)},Ts.prototype.oa=function(){qt(this.g,"b")},ir.prototype.createWebChannel=ir.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,Zw=function(){return new ir},Jw=function(){return uo()},Ww=At,cy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,$f=ua,ql.COMPLETE="complete",Xw=ql,eh.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,Xc=eh,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Qw=Je}).apply(typeof Nf<"u"?Nf:typeof self<"u"?self:typeof window<"u"?window:{});class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Nl="12.9.0";function DO(t){Nl=t}const Qa=new uv("@firebase/firestore");function Jo(){return Qa.logLevel}function he(t,...e){if(Qa.logLevel<=Oe.DEBUG){const n=e.map(Ev);Qa.debug(`Firestore (${Nl}): ${t}`,...n)}}function qs(t,...e){if(Qa.logLevel<=Oe.ERROR){const n=e.map(Ev);Qa.error(`Firestore (${Nl}): ${t}`,...n)}}function Xa(t,...e){if(Qa.logLevel<=Oe.WARN){const n=e.map(Ev);Qa.warn(`Firestore (${Nl}): ${t}`,...n)}}function Ev(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function be(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ex(t,s,n)}function ex(t,e,n){let s=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw qs(s),new Error(s)}function Ye(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||ex(e,a,s)}function xe(t,e){return t}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class tx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class MO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class kO{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Lr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},f=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Lr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new tx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class PO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class VO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new PO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function LO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class bv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=LO(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Le(t,e){return t<e?-1:t>e?1:0}function uy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return xg(a)===xg(l)?Le(a,l):xg(a)?1:-1}return Le(t.length,e.length)}const UO=55296,zO=57343;function xg(t){const e=t.charCodeAt(0);return e>=UO&&e<=zO}function gl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const nb="__name__";class is{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return is.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof is?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=is.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Le(e.length,n.length)}static compareSegments(e,n){const s=is.isNumericId(e),a=is.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?is.extractNumericId(e).compare(is.extractNumericId(n)):uy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Or.fromString(e.substring(4,e.length-2))}}class st extends is{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const BO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends is{construct(e,n,s){return new cn(e,n,s)}static isValidIdentifier(e){return BO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nb}static keyField(){return new cn([nb])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ue(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new ue(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(st.fromString(e))}static fromName(e){return new _e(st.fromString(e).popFirst(5))}static empty(){return new _e(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new st(e.slice()))}}function nx(t,e,n){if(!n)throw new ue(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FO(t,e,n,s){if(e===!0&&s===!0)throw new ue(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ib(t){if(!_e.isDocumentKey(t))throw new ue(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sb(t){if(_e.isDocumentKey(t))throw new ue(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ix(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qd(t);throw new ue(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function zu(t,e){if(!ix(t))throw new ue(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ue(ee.INVALID_ARGUMENT,n);return!0}const rb=-62135596800,ab=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*ab);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rb)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ab}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zu(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Bt("string",lt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new lt(0,0))}static max(){return new Ae(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gu=-1;function qO(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new Br(a,_e.empty(),e)}function HO(t){return new Br(t.readTime,t.key,gu)}class Br{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Br(Ae.min(),_e.empty(),gu)}static max(){return new Br(Ae.max(),_e.empty(),gu)}}function GO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}const KO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $O{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Il(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==KO)throw t;he("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(p=>s(p)))})),u=!0,l===a&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((a=>a?ie.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next((v=>{u[g]=v,++f,f===l&&s(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new ie(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function YO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dl(t){return t.name==="IndexedDbTransactionError"}class Hd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hd.ce=-1;const Sv=-1;function Gd(t){return t==null}function pd(t){return t===0&&1/t==-1/0}function QO(t){return typeof t=="number"&&Number.isInteger(t)&&!pd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const sx="";function XO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ob(e)),e=WO(t.get(n),e);return ob(e)}function WO(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case sx:n+="";break;default:n+=l}}return n}function ob(t){return t+sx+""}function lb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new If(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new If(this.root,e,this.comparator,!1)}getReverseIterator(){return new If(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new If(this.root,e,this.comparator,!0)}}class If{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??on.RED,this.left=a??on.EMPTY,this.right=l??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new on(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return on.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cb(this.data.getIterator())}getIteratorFrom(e){return new cb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class cb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new $t(cn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class ax extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ax("Invalid base64 string: "+l):l}})(e);return new un(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const JO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=JO.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qr(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}const ox="server_timestamp",lx="__type__",cx="__previous_value__",ux="__local_write_time__";function Av(t){return(t?.mapValue?.fields||{})[lx]?.stringValue===ox}function Kd(t){const e=t.mapValue.fields[cx];return Av(e)?Kd(e):e}function yu(t){const e=Fr(t.mapValue.fields[ux].timestampValue);return new lt(e.seconds,e.nanos)}class ZO{constructor(e,n,s,a,l,u,f,p,g,v,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=_}}const gd="(default)";class vu{constructor(e,n){this.projectId=e,this.database=n||gd}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===gd}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}function e4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ue(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(t.options.projectId,e)}const hx="__type__",t4="__max__",Df={mapValue:{}},fx="__vector__",yd="value";function Hr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Av(t)?4:i4(t)?9007199254740991:n4(t)?10:11:be(28295,{value:t})}function ds(t,e){if(t===e)return!0;const n=Hr(t);if(n!==Hr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yu(t).isEqual(yu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Fr(a.timestampValue),f=Fr(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return qr(a.bytesValue).isEqual(qr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ct(a.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ct(a.integerValue)===Ct(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Ct(a.doubleValue),f=Ct(l.doubleValue);return u===f?pd(u)===pd(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return gl(t.arrayValue.values||[],e.arrayValue.values||[],ds);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(lb(u)!==lb(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!ds(u[p],f[p])))return!1;return!0})(t,e);default:return be(52216,{left:t})}}function _u(t,e){return(t.values||[]).find((n=>ds(n,e)))!==void 0}function yl(t,e){if(t===e)return 0;const n=Hr(t),s=Hr(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Ct(l.integerValue||l.doubleValue),p=Ct(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return ub(t.timestampValue,e.timestampValue);case 4:return ub(yu(t),yu(e));case 5:return uy(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=qr(l),p=qr(u);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let g=0;g<f.length&&g<p.length;g++){const v=Le(f[g],p[g]);if(v!==0)return v}return Le(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Le(Ct(l.latitude),Ct(u.latitude));return f!==0?f:Le(Ct(l.longitude),Ct(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return hb(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},p=u.fields||{},g=f[yd]?.arrayValue,v=p[yd]?.arrayValue,_=Le(g?.values?.length||0,v?.values?.length||0);return _!==0?_:hb(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Df.mapValue&&u===Df.mapValue)return 0;if(l===Df.mapValue)return 1;if(u===Df.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),g=u.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let _=0;_<p.length&&_<v.length;++_){const b=uy(p[_],v[_]);if(b!==0)return b;const w=yl(f[p[_]],g[v[_]]);if(w!==0)return w}return Le(p.length,v.length)})(t.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function ub(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Fr(t),s=Fr(e),a=Le(n.seconds,s.seconds);return a!==0?a:Le(n.nanos,s.nanos)}function hb(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=yl(n[a],s[a]);if(l)return l}return Le(n.length,s.length)}function vl(t){return hy(t)}function hy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Fr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return qr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=hy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${hy(n.fields[u])}`;return a+"}"})(t.mapValue):be(61005,{value:t})}function Yf(t){switch(Hr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kd(t);return e?16+Yf(e):16;case 5:return 2*t.stringValue.length;case 6:return qr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Yf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return ta(s.fields,((l,u)=>{a+=l.length+Yf(u)})),a})(t.mapValue);default:throw be(13486,{value:t})}}function fb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fy(t){return!!t&&"integerValue"in t}function wv(t){return!!t&&"arrayValue"in t}function db(t){return!!t&&"nullValue"in t}function mb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qf(t){return!!t&&"mapValue"in t}function n4(t){return(t?.mapValue?.fields||{})[hx]?.stringValue===fx}function iu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ta(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=iu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(t.arrayValue.values[n]);return e}return{...t}}function i4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===t4}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Qf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=cn.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=iu(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Qf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ds(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Qf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ta(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new jn(iu(this.value))}}function dx(t){const e=[];return ta(t.fields,((n,s)=>{const a=new cn([n]);if(Qf(s)){const l=dx(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Hn(e)}class pn{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new pn(e,0,Ae.min(),Ae.min(),Ae.min(),jn.empty(),0)}static newFoundDocument(e,n,s,a){return new pn(e,1,n,Ae.min(),s,a,0)}static newNoDocument(e,n){return new pn(e,2,n,Ae.min(),Ae.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Ae.min(),Ae.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vd{constructor(e,n){this.position=e,this.inclusive=n}}function pb(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(u.referenceValue),n.key):s=yl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function gb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ds(t.position[n],e.position[n]))return!1;return!0}class Tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function s4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class mx{}class zt extends mx{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new a4(e,n,s):n==="array-contains"?new c4(e,s):n==="in"?new u4(e,s):n==="not-in"?new h4(e,s):n==="array-contains-any"?new f4(e,s):new zt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new o4(e,s):new l4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yl(n,this.value)):n!==null&&Hr(this.value)===Hr(n)&&this.matchesComparison(yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends mx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ji(e,n)}matches(e){return px(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function px(t){return t.op==="and"}function gx(t){return r4(t)&&px(t)}function r4(t){for(const e of t.filters)if(e instanceof ji)return!1;return!0}function dy(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+vl(t.value);if(gx(t))return t.filters.map((e=>dy(e))).join(",");{const e=t.filters.map((n=>dy(n))).join(",");return`${t.op}(${e})`}}function yx(t,e){return t instanceof zt?(function(s,a){return a instanceof zt&&s.op===a.op&&s.field.isEqual(a.field)&&ds(s.value,a.value)})(t,e):t instanceof ji?(function(s,a){return a instanceof ji&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&yx(u,a.filters[f])),!0):!1})(t,e):void be(19439)}function vx(t){return t instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${vl(n.value)}`})(t):t instanceof ji?(function(n){return n.op.toString()+" {"+n.getFilters().map(vx).join(" ,")+"}"})(t):"Filter"}class a4 extends zt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class o4 extends zt{constructor(e,n){super(e,"in",n),this.keys=_x("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class l4 extends zt{constructor(e,n){super(e,"not-in",n),this.keys=_x("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _x(t,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class c4 extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wv(n)&&_u(n.arrayValue,this.value)}}class u4 extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_u(this.value.arrayValue,n)}}class h4 extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_u(this.value.arrayValue,n)}}class f4 extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>_u(this.value.arrayValue,s)))}}class d4{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function yb(t,e=null,n=[],s=[],a=null,l=null,u=null){return new d4(t,e,n,s,a,l,u)}function xv(t){const e=xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>dy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>vl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>vl(s))).join(",")),e.Te=n}return e.Te}function Rv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!s4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gb(t.startAt,e.startAt)&&gb(t.endAt,e.endAt)}function my(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class jl{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function m4(t,e,n,s,a,l,u,f){return new jl(t,e,n,s,a,l,u,f)}function $d(t){return new jl(t)}function vb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p4(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Tx(t){return t.collectionGroup!==null}function su(t){const e=xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new $t(cn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Tu(l,s))})),n.has(cn.keyField().canonicalString())||e.Ie.push(new Tu(cn.keyField(),s))}return e.Ie}function cs(t){const e=xe(t);return e.Ee||(e.Ee=g4(e,su(t))),e.Ee}function g4(t,e){if(t.limitType==="F")return yb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Tu(a.field,l)}));const n=t.endAt?new vd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new vd(t.startAt.position,t.startAt.inclusive):null;return yb(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function py(t,e){const n=t.filters.concat([e]);return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function y4(t,e){const n=t.explicitOrderBy.concat([e]);return new jl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function gy(t,e,n){return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yd(t,e){return Rv(cs(t),cs(e))&&t.limitType===e.limitType}function Ex(t){return`${xv(cs(t))}|lt:${t.limitType}`}function Zo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>vx(a))).join(", ")}]`),Gd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>vl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>vl(a))).join(",")),`Target(${s})`})(cs(t))}; limitType=${t.limitType})`}function Qd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of su(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,p){const g=pb(u,f,p);return u.inclusive?g<=0:g<0})(s.startAt,su(s),a)||s.endAt&&!(function(u,f,p){const g=pb(u,f,p);return u.inclusive?g>=0:g>0})(s.endAt,su(s),a))})(t,e)}function v4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bx(t){return(e,n)=>{let s=!1;for(const a of su(t)){const l=_4(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function _4(t,e,n){const s=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(l,u,f){const p=u.data.field(l),g=f.data.field(l);return p!==null&&g!==null?yl(p,g):be(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:t.dir})}}class so{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return rx(this.inner)}size(){return this.innerSize}}const T4=new pt(_e.comparator);function Hs(){return T4}const Sx=new pt(_e.comparator);function Wc(...t){let e=Sx;for(const n of t)e=e.insert(n.key,n);return e}function Ax(t){let e=Sx;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ua(){return ru()}function wx(){return ru()}function ru(){return new so((t=>t.toString()),((t,e)=>t.isEqual(e)))}const E4=new pt(_e.comparator),b4=new $t(_e.comparator);function Ue(...t){let e=b4;for(const n of t)e=e.add(n);return e}const S4=new $t(Le);function A4(){return S4}function Cv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pd(e)?"-0":e}}function xx(t){return{integerValue:""+t}}function w4(t,e){return QO(e)?xx(e):Cv(t,e)}class Xd{constructor(){this._=void 0}}function x4(t,e,n){return t instanceof Eu?(function(a,l){const u={fields:{[lx]:{stringValue:ox},[ux]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Av(l)&&(l=Kd(l)),l&&(u.fields[cx]=l),{mapValue:u}})(n,e):t instanceof bu?Cx(t,e):t instanceof Su?Nx(t,e):(function(a,l){const u=Rx(a,l),f=_b(u)+_b(a.Ae);return fy(u)&&fy(a.Ae)?xx(f):Cv(a.serializer,f)})(t,e)}function R4(t,e,n){return t instanceof bu?Cx(t,e):t instanceof Su?Nx(t,e):n}function Rx(t,e){return t instanceof _d?(function(s){return fy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Eu extends Xd{}class bu extends Xd{constructor(e){super(),this.elements=e}}function Cx(t,e){const n=Ix(e);for(const s of t.elements)n.some((a=>ds(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Su extends Xd{constructor(e){super(),this.elements=e}}function Nx(t,e){let n=Ix(e);for(const s of t.elements)n=n.filter((a=>!ds(a,s)));return{arrayValue:{values:n}}}class _d extends Xd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function _b(t){return Ct(t.integerValue||t.doubleValue)}function Ix(t){return wv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class C4{constructor(e,n){this.field=e,this.transform=n}}function N4(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof bu&&a instanceof bu||s instanceof Su&&a instanceof Su?gl(s.elements,a.elements,ds):s instanceof _d&&a instanceof _d?ds(s.Ae,a.Ae):s instanceof Eu&&a instanceof Eu})(t.transform,e.transform)}class I4{constructor(e,n){this.version=e,this.transformResults=n}}class ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wd{}function Dx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nv(t.key,ui.none()):new Bu(t.key,t.data,ui.none());{const n=t.data,s=jn.empty();let a=new $t(cn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new na(t.key,s,new Hn(a.toArray()),ui.none())}}function D4(t,e,n){t instanceof Bu?(function(a,l,u){const f=a.value.clone(),p=Eb(a.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof na?(function(a,l,u){if(!Xf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=Eb(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(jx(a)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function au(t,e,n,s){return t instanceof Bu?(function(l,u,f,p){if(!Xf(l.precondition,u))return f;const g=l.value.clone(),v=bb(l.fieldTransforms,p,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof na?(function(l,u,f,p){if(!Xf(l.precondition,u))return f;const g=bb(l.fieldTransforms,p,u),v=u.data;return v.setAll(jx(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,u,f){return Xf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function j4(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=Rx(s.transform,a||null);l!=null&&(n===null&&(n=jn.empty()),n.set(s.field,l))}return n||null}function Tb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&gl(s,a,((l,u)=>N4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bu extends Wd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class na extends Wd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function jx(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Eb(t,e,n){const s=new Map;Ye(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,R4(u,f,n[a]))}return s}function bb(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,x4(l,u,e))}return s}class Nv extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M4 extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class k4{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&D4(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=au(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=au(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=wx();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const p=Dx(u,f);p!==null&&s.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,((n,s)=>Tb(n,s)))&&gl(this.baseMutations,e.baseMutations,((n,s)=>Tb(n,s)))}}class Iv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return E4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new Iv(e,n,s,a)}}class P4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class V4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Lt,Fe;function O4(t){switch(t){case ee.OK:return be(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function Mx(t){if(t===void 0)return qs("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Lt.OK:return ee.OK;case Lt.CANCELLED:return ee.CANCELLED;case Lt.UNKNOWN:return ee.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ee.INTERNAL;case Lt.UNAVAILABLE:return ee.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ee.NOT_FOUND;case Lt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Lt.ABORTED:return ee.ABORTED;case Lt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Lt.DATA_LOSS:return ee.DATA_LOSS;default:return be(39323,{code:t})}}(Fe=Lt||(Lt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function L4(){return new TextEncoder}const U4=new Or([4294967295,4294967295],0);function Sb(t){const e=L4().encode(t),n=new Yw;return n.update(e),new Uint8Array(n.digest())}function Ab(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Or([n,s],0),new Or([a,l],0)]}class Dv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Jc(`Invalid padding: ${n}`);if(s<0)throw new Jc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Jc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Or.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Or.fromNumber(s)));return a.compare(U4)===1&&(a=new Or([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Sb(e),[s,a]=Ab(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Dv(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=Sb(e),[s,a]=Ab(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jd(Ae.min(),a,new pt(Le),Hs(),Ue())}}class Fu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Fu(s,n,Ue(),Ue(),Ue())}}class Wf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class kx{constructor(e,n){this.targetId=e,this.Ce=n}}class Px{constructor(e,n,s=un.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class wb{constructor(){this.ve=0,this.Fe=xb(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:be(38017,{changeType:l})}})),new Fu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=xb()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class z4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hs(),this.He=jf(),this.Je=jf(),this.Ze=new pt(Le)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(my(l))if(s===0){const u=new _e(l.path);this.et(n,u,pn.newNoDocument(u,Ae.min()))}else Ye(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=qr(s).toUint8Array()}catch(p){if(p instanceof ax)return Xa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Dv(u,a,l)}catch(p){return Xa(p instanceof Jc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&my(f.target)){const p=new _e(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,pn.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let s=Ue();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Jd(e,n,this.Ze,this.je,s);return this.je=Hs(),this.He=jf(),this.Je=jf(),this.Ze=new pt(Le),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new wb,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new $t(Le),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new $t(Le),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jf(){return new pt(_e.comparator)}function xb(){return new pt(_e.comparator)}const B4={asc:"ASCENDING",desc:"DESCENDING"},F4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q4={and:"AND",or:"OR"};class H4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yy(t,e){return t.useProto3Json||Gd(e)?e:{value:e}}function Td(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function G4(t,e){return Td(t,e.toTimestamp())}function us(t){return Ye(!!t,49232),Ae.fromTimestamp((function(n){const s=Fr(n);return new lt(s.seconds,s.nanos)})(t))}function jv(t,e){return vy(t,e).canonicalString()}function vy(t,e){const n=(function(a){return new st(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Ox(t){const e=st.fromString(t);return Ye(Fx(e),10190,{key:e.toString()}),e}function _y(t,e){return jv(t.databaseId,e.path)}function Rg(t,e){const n=Ox(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(Ux(n))}function Lx(t,e){return jv(t.databaseId,e)}function K4(t){const e=Ox(t);return e.length===4?st.emptyPath():Ux(e)}function Ty(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ux(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Rb(t,e,n){return{name:_y(t,e),fields:n.value.mapValue.fields}}function $4(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Ye(v===void 0||typeof v=="string",58123),un.fromBase64String(v||"")):(Ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),un.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(g){const v=g.code===void 0?ee.UNKNOWN:Mx(g.code);return new ue(v,g.message||"")})(u);n=new Px(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Rg(t,s.document.name),l=us(s.document.updateTime),u=s.document.createTime?us(s.document.createTime):Ae.min(),f=new jn({mapValue:{fields:s.document.fields}}),p=pn.newFoundDocument(a,l,u,f),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Wf(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Rg(t,s.document),l=s.readTime?us(s.readTime):Ae.min(),u=pn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Wf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Rg(t,s.document),l=s.removedTargetIds||[];n=new Wf([],l,a,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new V4(a,l),f=s.targetId;n=new kx(f,u)}}return n}function Y4(t,e){let n;if(e instanceof Bu)n={update:Rb(t,e.key,e.value)};else if(e instanceof Nv)n={delete:_y(t,e.key)};else if(e instanceof na)n={update:Rb(t,e.key,e.data),updateMask:iL(e.fieldMask)};else{if(!(e instanceof M4))return be(16599,{dt:e.type});n={verify:_y(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof Eu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof bu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Su)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof _d)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw be(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:G4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be(27497)})(t,e.precondition)),n}function Q4(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?us(a.updateTime):us(l);return u.isEqual(Ae.min())&&(u=us(l)),new I4(u,a.transformResults||[])})(n,e)))):[]}function X4(t,e){return{documents:[Lx(t,e.path)]}}function W4(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Lx(t,a);const l=(function(g){if(g.length!==0)return Bx(ji.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(b){return{field:el(b.field),direction:eL(b.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=yy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function J4(t){let e=K4(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ye(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(_){const b=zx(_);return b instanceof ji&&gx(b)?b.getFilters():[b]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((b=>(function(C){return new Tu(tl(C.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(b)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let b;return b=typeof _=="object"?_.value:_,Gd(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(_){const b=!!_.before,w=_.values||[];return new vd(w,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const b=!_.before,w=_.values||[];return new vd(w,b)})(n.endAt)),m4(e,a,u,l,f,"F",p,g)}function Z4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zx(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=tl(n.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=tl(n.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=tl(n.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=tl(n.unaryFilter.field);return zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zt.create(tl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ji.create(n.compositeFilter.filters.map((s=>zx(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(t):be(30097,{filter:t})}function eL(t){return B4[t]}function tL(t){return F4[t]}function nL(t){return q4[t]}function el(t){return{fieldPath:t.canonicalString()}}function tl(t){return cn.fromServerFormat(t.fieldPath)}function Bx(t){return t instanceof zt?(function(n){if(n.op==="=="){if(mb(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if(db(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mb(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if(db(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:tL(n.op),value:n.value}}})(t):t instanceof ji?(function(n){const s=n.getFilters().map((a=>Bx(a)));return s.length===1?s[0]:{compositeFilter:{op:nL(n.op),filters:s}}})(t):be(54877,{filter:t})}function iL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Fx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function qx(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Mr{constructor(e,n,s,a,l=Ae.min(),u=Ae.min(),f=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class sL{constructor(e){this.yt=e}}function rL(t){const e=J4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gy(e,e.limit,"L"):e}class aL{constructor(){this.Sn=new oL}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Br.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class oL{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new $t(st.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new $t(st.comparator)).toArray()}}const Cb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hx=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(Hx,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class _l{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _l(0)}static ar(){return new _l(-1)}}const Nb="LruGarbageCollector",lL=1048576;function Ib([t,e],[n,s]){const a=Le(t,n);return a===0?Le(e,s):a}class cL{constructor(e){this.Pr=e,this.buffer=new $t(Ib),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Ib(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uL{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(Nb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Dl(n)?he(Nb,"Ignoring IndexedDB error during garbage collection: ",n):await Il(n)}await this.Ar(3e5)}))}}class hL{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Hd.ce);const s=new cL(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Cb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cb):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,u,f,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,f=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(g=Date.now(),Jo()<=Oe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${_} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function fL(t,e){return new hL(t,e)}class dL{constructor(){this.changes=new so((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class pL{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&au(s.mutation,a,Hn.empty(),lt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const a=Ua();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Wc();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Ua();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=Hs();const u=ru(),f=(function(){return ru()})();return n.forEach(((p,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof na)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),au(v.mutation,g,v.mutation.getFieldMask(),lt.now())):u.set(g.key,Hn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>u.set(g,v))),n.forEach(((g,v)=>f.set(g,new mL(v,u.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=ru();let a=new pt(((u,f)=>u-f)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Hn.empty();v=f.applyToLocalView(g,v),s.set(p,v);const _=(a.get(f.batchId)||Ue()).add(p);a=a.insert(f.batchId,_)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,v=p.value,_=wx();v.forEach((b=>{if(!l.has(b)){const w=Dx(n.get(b),s.get(b));w!==null&&_.set(b,w),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,_))}return ie.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return p4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Tx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ie.resolve(Ua());let f=gu,p=l;return u.next((g=>ie.forEach(g,((v,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((b=>{p=p.insert(v,b)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Ue()))).next((v=>({batchId:f,changes:Ax(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let a=Wc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Wc();return this.indexManager.getCollectionParents(e,l).next((f=>ie.forEach(f,(p=>{const g=(function(_,b){return new jl(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((v=>{v.forEach(((_,b)=>{u=u.insert(_,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((p,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,pn.newInvalidDocument(v)))}));let f=Wc();return u.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&au(v.mutation,g,Hn.empty(),lt.now()),Qd(n,g)&&(f=f.insert(p,g))})),f}))}}class gL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:us(a.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:rL(a.bundledQuery),readTime:us(a.readTime)}})(n)),ie.resolve()}}class yL{constructor(){this.overlays=new pt(_e.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ua();return ie.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const a=Ua(),l=n.length+1,u=new _e(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new pt(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=Ua(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=Ua(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>f.set(g,v))),!(f.size()>=a)););return ie.resolve(f)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new P4(n,s));let l=this.Lr.get(n);l===void 0&&(l=Ue(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class vL{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Mv{constructor(){this.kr=new $t(Wt.Kr),this.qr=new $t(Wt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Wt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Wt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new _e(new st([])),s=new Wt(n,e),a=new Wt(n,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new _e(new st([])),s=new Wt(n,e),a=new Wt(n,e+1);let l=Ue();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Wt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return _e.comparator(e.key,n.key)||Le(e.Hr,n.Hr)}static Ur(e,n){return Le(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}class _L{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new $t(Wt.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new k4(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new Wt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Sv:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Wt(n,0),a=new Wt(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new $t(Le);return n.forEach((a=>{const l=new Wt(a,0),u=new Wt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{s=s.add(f.Hr)}))})),ie.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const u=new Wt(new _e(l),0);let f=new $t(Le);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(f=f.add(p.Hr)),!0)}),u),ie.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ye(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ie.forEach(n.mutations,(a=>{const l=new Wt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Wt(n,0),a=this.Jr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class TL{constructor(e){this.ti=e,this.docs=(function(){return new pt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let s=Hs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Hs();const u=n.path,f=new _e(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||GO(HO(v),s)<=0||(a.has(v.key)||Qd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,s,a){be(9500)}ni(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new EL(this)}getSize(e){return ie.resolve(this.size)}}class EL extends dL{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class bL{constructor(e){this.persistence=e,this.ri=new so((n=>xv(n)),Rv),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ii=0,this.si=new Mv,this.targetCount=0,this.oi=_l._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new _l(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ie.waitFor(l).next((()=>a))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}class Gx{constructor(e,n){this._i={},this.overlays={},this.ai=new Hd(0),this.ui=!1,this.ui=!0,this.ci=new vL,this.referenceDelegate=e(this),this.li=new bL(this),this.indexManager=new aL,this.remoteDocumentCache=(function(a){return new TL(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new sL(n),this.Pi=new gL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new _L(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const a=new SL(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ie.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class SL extends $O{constructor(e){super(),this.currentSequenceNumber=e}}class kv{constructor(e){this.persistence=e,this.Ri=new Mv,this.Ai=null}static Vi(e){return new kv(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(s=>{const a=_e.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ae.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ed{constructor(e,n){this.persistence=e,this.fi=new so((s=>XO(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=fL(this,n)}static Vi(e,n){return new Ed(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?ie.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(s++,l.removeEntry(u,Ae.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yf(e.data.value)),n}wr(e,n,s){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ie.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Pv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=Ue(),a=Ue();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Pv(e,n.fromCache,s,a)}}class AL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return XM()?8:YO(yn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new AL;return this.ys(e,n,u).next((f=>{if(l.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(Jo()<=Oe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(Jo()<=Oe.DEBUG&&he("QueryEngine","Query:",Zo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Jo()<=Oe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cs(n))):ie.resolve())}gs(e,n){if(vb(n))return ie.resolve(null);let s=cs(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=gy(n,null,"F"),s=cs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Ue(...l);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,f);return this.Ss(n,g,u,p.readTime)?this.gs(e,gy(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,s,a){return vb(n)||a.isEqual(Ae.min())?ie.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,s,a)?ie.resolve(null):(Jo()<=Oe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Zo(n)),this.Ds(e,u,n,qO(a,gu)).next((f=>f)))}))}bs(e,n){let s=new $t(bx(e));return n.forEach(((a,l)=>{Qd(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return Jo()<=Oe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Zo(n)),this.fs.getDocumentsMatchingQuery(e,n,Br.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Vv="LocalStore",xL=3e8;class RL{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new pt(Le),this.Fs=new so((l=>xv(l)),Rv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function CL(t,e,n,s){return new RL(t,e,n,s)}async function Kx(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let p=Ue();for(const g of a){u.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:u,addedBatchIds:f})))}))}))}function NL(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,p,g,v){const _=g.batch,b=_.keys();let w=ie.resolve();return b.forEach((C=>{w=w.next((()=>v.getEntry(p,C))).next((M=>{const k=g.docVersions.get(C);Ye(k!==null,48541),M.version.compareTo(k)<0&&(_.applyToRemoteDocument(M,g),M.isValidDocument()&&(M.setReadTime(g.commitVersion),v.addEntry(M)))}))})),w.next((()=>f.mutationQueue.removeMutationBatch(p,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let p=Ue();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function $x(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function IL(t,e){const n=xe(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((v,_)=>{const b=a.get(_);if(!b)return;f.push(n.li.removeMatchingKeys(l,v.removedDocuments,_).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,_))));let w=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(un.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,s)),a=a.insert(_,w),(function(M,k,z){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=xL?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(b,w,v)&&f.push(n.li.updateTargetData(l,w))}));let p=Hs(),g=Ue();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(DL(l,u,e.documentUpdates).next((v=>{p=v.Bs,g=v.Ls}))),!s.isEqual(Ae.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((_=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(v)}return ie.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.vs=a,l)))}function DL(t,e,n){let s=Ue(),a=Ue();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=Hs();return n.forEach(((f,p)=>{const g=l.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):he(Vv,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)})),{Bs:u,Ls:a}}))}function jL(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Sv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ML(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,ie.resolve(a)):n.li.allocateTargetId(s).next((u=>(a=new Mr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Ey(t,e,n){const s=xe(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Dl(u))throw u;he(Vv,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function Db(t,e,n){const s=xe(t);let a=Ae.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,v){const _=xe(p),b=_.Fs.get(v);return b!==void 0?ie.resolve(_.vs.get(b)):_.li.getTargetData(g,v)})(s,u,cs(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?a:Ae.min(),n?l:Ue()))).next((f=>(kL(s,v4(e),f),{documents:f,ks:l})))))}function kL(t,e,n){let s=t.Ms.get(e)||Ae.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class jb{constructor(){this.activeTargetIds=A4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PL{constructor(){this.vo=new jb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new jb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VL{Mo(e){}shutdown(){}}const Mb="ConnectivityMonitor";class kb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(Mb,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(Mb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mf=null;function by(){return Mf===null?Mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mf++,"0x"+Mf.toString(16)}const Cg="RestConnection",OL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class LL{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===gd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const u=by(),f=this.Qo(e,n.toUriEncodedString());he(Cg,`Sending RPC '${e}' ${u}:`,f,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:g}=new URL(f),v=Jr(g);return this.zo(e,f,p,s,v).then((_=>(he(Cg,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw Xa(Cg,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",s),_}))}jo(e,n,s,a,l,u){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=OL[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class UL{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const fn="WebChannelConnection",Gc=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class fl extends LL{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!fl.c_){const e=Jw();Gc(e,Ww.STAT_EVENT,(n=>{n.stat===cy.PROXY?he(fn,"STAT_EVENT: detected buffering proxy"):n.stat===cy.NOPROXY&&he(fn,"STAT_EVENT: detected no buffering proxy")})),fl.c_=!0}}zo(e,n,s,a,l){const u=by();return new Promise(((f,p)=>{const g=new Qw;g.setWithCredentials(!0),g.listenOnce(Xw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case $f.NO_ERROR:const _=g.getResponseJson();he(fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case $f.TIMEOUT:he(fn,`RPC '${e}' ${u} timed out`),p(new ue(ee.DEADLINE_EXCEEDED,"Request time out"));break;case $f.HTTP_ERROR:const b=g.getStatus();if(he(fn,`RPC '${e}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w?.error;if(C&&C.status&&C.message){const M=(function(z){const q=z.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(q)>=0?q:ee.UNKNOWN})(C.status);p(new ue(M,C.message))}else p(new ue(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ue(ee.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(fn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);he(fn,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=by(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const g=l.join("");he(fn,`Creating RPC '${e}' stream ${a}: ${g}`,f);const v=u.createWebChannel(g,f);this.I_(v);let _=!1,b=!1;const w=new UL({Ho:C=>{b?he(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,C):(_||(he(fn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),_=!0),he(fn,`RPC '${e}' stream ${a} sending:`,C),v.send(C))},Jo:()=>v.close()});return Gc(v,Xc.EventType.OPEN,(()=>{b||(he(fn,`RPC '${e}' stream ${a} transport opened.`),w.i_())})),Gc(v,Xc.EventType.CLOSE,(()=>{b||(b=!0,he(fn,`RPC '${e}' stream ${a} transport closed`),w.o_(),this.E_(v))})),Gc(v,Xc.EventType.ERROR,(C=>{b||(b=!0,Xa(fn,`RPC '${e}' stream ${a} transport errored. Name:`,C.name,"Message:",C.message),w.o_(new ue(ee.UNAVAILABLE,"The operation could not be completed")))})),Gc(v,Xc.EventType.MESSAGE,(C=>{if(!b){const M=C.data[0];Ye(!!M,16349);const k=M,z=k?.error||k[0]?.error;if(z){he(fn,`RPC '${e}' stream ${a} received error:`,z);const q=z.status;let K=(function(ce){const D=Lt[ce];if(D!==void 0)return Mx(D)})(q),se=z.message;q==="NOT_FOUND"&&se.includes("database")&&se.includes("does not exist")&&se.includes(this.databaseId.database)&&Xa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),K===void 0&&(K=ee.INTERNAL,se="Unknown error status: "+q+" with message "+z.message),b=!0,w.o_(new ue(K,se)),v.close()}else he(fn,`RPC '${e}' stream ${a} received:`,M),w.__(M)}})),fl.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Zw()}}function zL(t){return new fl(t)}function Ng(){return typeof document<"u"?document:null}function Zd(t){return new H4(t,!0)}fl.c_=!1;class Yx{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Pb="PersistentStream";class Qx{constructor(e,n,s,a,l,u,f,p){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Yx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(qs(n.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ue(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(Pb,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(he(Pb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BL extends Qx{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$4(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ae.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?us(u.readTime):Ae.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Ty(this.serializer),n.addTarget=(function(l,u){let f;const p=u.target;if(f=my(p)?{documents:X4(l,p)}:{query:W4(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Vx(l,u.resumeToken);const g=yy(l,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ae.min())>0){f.readTime=Td(l,u.snapshotVersion.toTimestamp());const g=yy(l,u.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const s=Z4(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Ty(this.serializer),n.removeTarget=e,this.K_(n)}}class FL extends Qx{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Q4(e.writeResults,e.commitTime),s=us(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ty(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Y4(this.serializer,s)))};this.K_(n)}}class qL{}class HL extends qL{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,vy(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(ee.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,vy(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(ee.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function GL(t,e,n,s){return new HL(t,e,n,s)}class KL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qs(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Wa="RemoteStore";class $L{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{ro(this)&&(he(Wa,"Restarting streams for network reachability change."),await(async function(p){const g=xe(p);g.Ea.add(4),await qu(g),g.Va.set("Unknown"),g.Ea.delete(4),await em(g)})(this))}))})),this.Va=new KL(s,a)}}async function em(t){if(ro(t))for(const e of t.Ra)await e(!0)}async function qu(t){for(const e of t.Ra)await e(!1)}function Xx(t,e){const n=xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zv(n)?Uv(n):Ml(n).O_()&&Lv(n,e))}function Ov(t,e){const n=xe(t),s=Ml(n);n.Ia.delete(e),s.O_()&&Wx(n,e),n.Ia.size===0&&(s.O_()?s.L_():ro(n)&&n.Va.set("Unknown"))}function Lv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ml(t).Z_(e)}function Wx(t,e){t.da.$e(e),Ml(t).X_(e)}function Uv(t){t.da=new z4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ml(t).start(),t.Va.ua()}function zv(t){return ro(t)&&!Ml(t).x_()&&t.Ia.size>0}function ro(t){return xe(t).Ea.size===0}function Jx(t){t.da=void 0}async function YL(t){t.Va.set("Online")}async function QL(t){t.Ia.forEach(((e,n)=>{Lv(t,e)}))}async function XL(t,e){Jx(t),zv(t)?(t.Va.ha(e),Uv(t)):t.Va.set("Unknown")}async function WL(t,e,n){if(t.Va.set("Online"),e instanceof Px&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(s){he(Wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await bd(t,s)}else if(e instanceof Wf?t.da.Xe(e):e instanceof kx?t.da.st(e):t.da.tt(e),!n.isEqual(Ae.min()))try{const s=await $x(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(un.EMPTY_BYTE_STRING,v.snapshotVersion)),Wx(l,p);const _=new Mr(v.target,p,g,v.sequenceNumber);Lv(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){he(Wa,"Failed to raise snapshot:",s),await bd(t,s)}}async function bd(t,e,n){if(!Dl(e))throw e;t.Ea.add(1),await qu(t),t.Va.set("Offline"),n||(n=()=>$x(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(Wa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await em(t)}))}function Zx(t,e){return e().catch((n=>bd(t,n,e)))}async function tm(t){const e=xe(t),n=Gr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sv;for(;JL(e);)try{const a=await jL(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,ZL(e,a)}catch(a){await bd(e,a)}eR(e)&&tR(e)}function JL(t){return ro(t)&&t.Ta.length<10}function ZL(t,e){t.Ta.push(e);const n=Gr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function eR(t){return ro(t)&&!Gr(t).x_()&&t.Ta.length>0}function tR(t){Gr(t).start()}async function e3(t){Gr(t).ra()}async function t3(t){const e=Gr(t);for(const n of t.Ta)e.ea(n.mutations)}async function n3(t,e,n){const s=t.Ta.shift(),a=Iv.from(s,e,n);await Zx(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await tm(t)}async function i3(t,e){e&&Gr(t).Y_&&await(async function(s,a){if((function(u){return O4(u)&&u!==ee.ABORTED})(a.code)){const l=s.Ta.shift();Gr(s).B_(),await Zx(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await tm(s)}})(t,e),eR(t)&&tR(t)}async function Vb(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),he(Wa,"RemoteStore received new credentials");const s=ro(n);n.Ea.add(3),await qu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await em(n)}async function s3(t,e){const n=xe(t);e?(n.Ea.delete(2),await em(n)):e||(n.Ea.add(2),await qu(n),n.Va.set("Unknown"))}function Ml(t){return t.ma||(t.ma=(function(n,s,a){const l=xe(n);return l.sa(),new BL(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:YL.bind(null,t),Yo:QL.bind(null,t),t_:XL.bind(null,t),J_:WL.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),zv(t)?Uv(t):t.Va.set("Unknown")):(await t.ma.stop(),Jx(t))}))),t.ma}function Gr(t){return t.fa||(t.fa=(function(n,s,a){const l=xe(n);return l.sa(),new FL(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:e3.bind(null,t),t_:i3.bind(null,t),ta:t3.bind(null,t),na:n3.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await tm(t)):(await t.fa.stop(),t.Ta.length>0&&(he(Wa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Bv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new Bv(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fv(t,e){if(qs("AsyncQueue",`${e}: ${t}`),Dl(t))return new ue(ee.UNAVAILABLE,`${e}: ${t}`);throw t}class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Wc(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new dl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Ob{constructor(){this.ga=new pt(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Tl{constructor(e,n,s,a,l,u,f,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Tl(e,n,dl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class r3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class a3{constructor(){this.queries=Lb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=xe(n),l=a.queries;a.queries=Lb(),l.forEach(((u,f)=>{for(const p of f.ba)p.onError(s)}))})(this,new ue(ee.ABORTED,"Firestore shutting down"))}}function Lb(){return new so((t=>Ex(t)),Yd)}async function nR(t,e){const n=xe(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new r3,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=Fv(u,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&qv(n)}async function iR(t,e){const n=xe(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function o3(t,e){const n=xe(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(s=!0);u.wa=a}}s&&qv(n)}function l3(t,e,n){const s=xe(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function qv(t){t.Ca.forEach((e=>{e.next()}))}var Sy,Ub;(Ub=Sy||(Sy={})).Ma="default",Ub.Cache="cache";class sR{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Tl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sy.Cache}}class rR{constructor(e){this.key=e}}class aR{constructor(e){this.key=e}}class c3{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=bx(e),this.tu=new dl(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new Ob,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const b=a.get(v),w=Qd(this.query,_)?_:null,C=!!b&&this.mutatedKeys.has(b.key),M=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;b&&w?b.data.isEqual(w.data)?C!==M&&(s.track({type:3,doc:w}),k=!0):this.su(b,w)||(s.track({type:2,doc:w}),k=!0,(p&&this.eu(w,p)>0||g&&this.eu(w,g)<0)&&(f=!0)):!b&&w?(s.track({type:0,doc:w}),k=!0):b&&!w&&(s.track({type:1,doc:b}),k=!0,(p||g)&&(f=!0)),k&&(w?(u=u.add(w),l=M?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,_)=>(function(w,C){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:k})}};return M(w)-M(C)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,g=p!==this.Xa;return this.Xa=p,u.length!==0||g?{snapshot:new Tl(this.query,e.tu,l,u,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ob,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new aR(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new rR(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Hv="SyncEngine";class u3{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class h3{constructor(e){this.key=e,this.hu=!1}}class f3{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new so((f=>Ex(f)),Yd),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(_e.comparator),this.Au=new Map,this.Vu=new Mv,this.du={},this.mu=new Map,this.fu=_l.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function d3(t,e,n=!0){const s=fR(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await oR(s,e,n,!0),a}async function m3(t,e){const n=fR(t);await oR(n,e,!0,!1)}async function oR(t,e,n,s){const a=await ML(t.localStore,cs(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await p3(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&Xx(t.remoteStore,a),f}async function p3(t,e,n,s,a){t.pu=(_,b,w)=>(async function(M,k,z,q){let K=k.view.ru(z);K.Ss&&(K=await Db(M.localStore,k.query,!1).then((({documents:D})=>k.view.ru(D,K))));const se=q&&q.targetChanges.get(k.targetId),re=q&&q.targetMismatches.get(k.targetId)!=null,ce=k.view.applyChanges(K,M.isPrimaryClient,se,re);return Bb(M,k.targetId,ce.au),ce.snapshot})(t,_,b,w);const l=await Db(t.localStore,e,!0),u=new c3(e,l.ks),f=u.ru(l.documents),p=Fu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=u.applyChanges(f,t.isPrimaryClient,p);Bb(t,n,g.au);const v=new u3(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function g3(t,e,n){const s=xe(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Yd(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ey(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Ov(s.remoteStore,a.targetId),Ay(s,a.targetId)})).catch(Il)):(Ay(s,a.targetId),await Ey(s.localStore,a.targetId,!0))}async function y3(t,e){const n=xe(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ov(n.remoteStore,s.targetId))}async function v3(t,e,n){const s=w3(t);try{const a=await(function(u,f){const p=xe(u),g=lt.now(),v=f.reduce(((w,C)=>w.add(C.key)),Ue());let _,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let C=Hs(),M=Ue();return p.xs.getEntries(w,v).next((k=>{C=k,C.forEach(((z,q)=>{q.isValidDocument()||(M=M.add(z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(w,C))).next((k=>{_=k;const z=[];for(const q of f){const K=j4(q,_.get(q.key).overlayedDocument);K!=null&&z.push(new na(q.key,K,dx(K.value.mapValue),ui.exists(!0)))}return p.mutationQueue.addMutationBatch(w,g,z,f)})).next((k=>{b=k;const z=k.applyToLocalDocumentSet(_,M);return p.documentOverlayCache.saveOverlays(w,k.batchId,z)}))})).then((()=>({batchId:b.batchId,changes:Ax(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,p){let g=u.du[u.currentUser.toKey()];g||(g=new pt(Le)),g=g.insert(f,p),u.du[u.currentUser.toKey()]=g})(s,a.batchId,n),await Hu(s,a.changes),await tm(s.remoteStore)}catch(a){const l=Fv(a,"Failed to persist write");n.reject(l)}}async function lR(t,e){const n=xe(t);try{const s=await IL(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Ye(u.hu,14607):a.removedDocuments.size>0&&(Ye(u.hu,42227),u.hu=!1))})),await Hu(n,s,e)}catch(s){await Il(s)}}function zb(t,e,n){const s=xe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const p=xe(u);p.onlineState=f;let g=!1;p.queries.forEach(((v,_)=>{for(const b of _.ba)b.va(f)&&(g=!0)})),g&&qv(p)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _3(t,e,n){const s=xe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new pt(_e.comparator);u=u.insert(l,pn.newNoDocument(l,Ae.min()));const f=Ue().add(l),p=new Jd(Ae.min(),new Map,new pt(Le),u,f);await lR(s,p),s.Ru=s.Ru.remove(l),s.Au.delete(e),Gv(s)}else await Ey(s.localStore,e,!1).then((()=>Ay(s,e,n))).catch(Il)}async function T3(t,e){const n=xe(t),s=e.batch.batchId;try{const a=await NL(n.localStore,e);uR(n,s,null),cR(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Hu(n,a)}catch(a){await Il(a)}}async function E3(t,e,n){const s=xe(t);try{const a=await(function(u,f){const p=xe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,f).next((_=>(Ye(_!==null,37113),v=_.keys(),p.mutationQueue.removeMutationBatch(g,_)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);uR(s,e,n),cR(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Hu(s,a)}catch(a){await Il(a)}}function cR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function uR(t,e,n){const s=xe(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function Ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||hR(t,s)}))}function hR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Ov(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Gv(t))}function Bb(t,e,n){for(const s of n)s instanceof rR?(t.Vu.addReference(s.key,e),b3(t,s)):s instanceof aR?(he(Hv,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||hR(t,s.key)):be(19791,{wu:s})}function b3(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(he(Hv,"New document in limbo: "+n),t.Eu.add(s),Gv(t))}function Gv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(st.fromString(e)),s=t.fu.next();t.Au.set(s,new h3(n)),t.Ru=t.Ru.insert(n,s),Xx(t.remoteStore,new Mr(cs($d(n.path)),s,"TargetPurposeLimboResolution",Hd.ce))}}async function Hu(t,e,n){const s=xe(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,p)=>{u.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){a.push(g);const v=Pv.Es(p.targetId,g);l.push(v)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(p,g){const v=xe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ie.forEach(g,(b=>ie.forEach(b.Ts,(w=>v.persistence.referenceDelegate.addReference(_,b.targetId,w))).next((()=>ie.forEach(b.Is,(w=>v.persistence.referenceDelegate.removeReference(_,b.targetId,w)))))))))}catch(_){if(!Dl(_))throw _;he(Vv,"Failed to update sequence numbers: "+_)}for(const _ of g){const b=_.targetId;if(!_.fromCache){const w=v.vs.get(b),C=w.snapshotVersion,M=w.withLastLimboFreeSnapshotVersion(C);v.vs=v.vs.insert(b,M)}}})(s.localStore,l))}async function S3(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){he(Hv,"User change. New user:",e.toKey());const s=await Kx(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new ue(ee.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Hu(n,s.Ns)}}function A3(t,e){const n=xe(t),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let a=Ue();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function fR(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_3.bind(null,e),e.Pu.J_=o3.bind(null,e.eventManager),e.Pu.yu=l3.bind(null,e.eventManager),e}function w3(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E3.bind(null,e),e}class Sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return CL(this.persistence,new wL,e.initialUser,this.serializer)}Cu(e){return new Gx(kv.Vi,this.serializer)}Du(e){return new PL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sd.provider={build:()=>new Sd};class x3 extends Sd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Ed,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new uL(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new Gx((s=>Ed.Vi(s,n)),this.serializer)}}class wy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>zb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=S3.bind(null,this.syncEngine),await s3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new a3})()}createDatastore(e){const n=Zd(e.databaseInfo.databaseId),s=zL(e.databaseInfo);return GL(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new $L(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>zb(this.syncEngine,n,0)),(function(){return kb.v()?new kb:new VL})())}createSyncEngine(e,n){return(function(a,l,u,f,p,g,v){const _=new f3(a,l,u,f,p,g);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=xe(n);he(Wa,"RemoteStore shutting down."),s.Ea.add(5),await qu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wy.provider={build:()=>new wy};class dR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Kr="FirestoreClient";class R3{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=bv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{he(Kr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(he(Kr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ig(t,e){t.asyncQueue.verifyOperationInProgress(),he(Kr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Kx(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Fb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await C3(t);he(Kr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>Vb(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>Vb(e.remoteStore,a))),t._onlineComponents=e}async function C3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Kr,"Using user provided OfflineComponentProvider");try{await Ig(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ee.FAILED_PRECONDITION||a.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Xa("Error using user provided cache. Falling back to memory cache: "+n),await Ig(t,new Sd)}}else he(Kr,"Using default OfflineComponentProvider"),await Ig(t,new x3(void 0));return t._offlineComponents}async function mR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Kr,"Using user provided OnlineComponentProvider"),await Fb(t,t._uninitializedComponentsProvider._online)):(he(Kr,"Using default OnlineComponentProvider"),await Fb(t,new wy))),t._onlineComponents}function N3(t){return mR(t).then((e=>e.syncEngine))}async function xy(t){const e=await mR(t),n=e.eventManager;return n.onListen=d3.bind(null,e.syncEngine),n.onUnlisten=g3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=m3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=y3.bind(null,e.syncEngine),n}function I3(t,e,n,s){const a=new dR(s),l=new sR(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>nR(await xy(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>iR(await xy(t),l)))}}function D3(t,e,n={}){const s=new Lr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,g){const v=new dR({next:b=>{v.Nu(),u.enqueueAndForget((()=>iR(l,_)));const w=b.docs.has(f);!w&&b.fromCache?g.reject(new ue(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&p&&p.source==="server"?g.reject(new ue(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),_=new sR($d(f.path),v,{includeMetadataChanges:!0,Ka:!0});return nR(l,_)})(await xy(t),t.asyncQueue,e,n,s))),s.promise}function j3(t,e){const n=new Lr;return t.asyncQueue.enqueueAndForget((async()=>v3(await N3(t),e,n))),n.promise}function pR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const M3="ComponentProvider",qb=new Map;function k3(t,e,n,s,a){return new ZO(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,pR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const gR="firestore.googleapis.com",Hb=!0;class Gb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gR,this.ssl=Hb}else this.host=e.host,this.ssl=e.ssl??Hb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Hx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lL)throw new ue(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pR(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new jO;switch(s.type){case"firstParty":return new VO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=qb.get(n);s&&(he(M3,"Removing Datastore"),qb.delete(n),s.terminate())})(this),Promise.resolve()}}function P3(t,e,n,s={}){t=ci(t,nm);const a=Jr(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(lv(`https://${f}`),cv("Firestore",!0)),l.host!==gR&&l.host!==f&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:a,emulatorOptions:s};if(!Ga(p,u)&&(t._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=mn.MOCK_USER;else{g=lw(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ue(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(_)}t._authCredentials=new MO(new tx(g,v))}}class ao{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class Tt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(zu(n,Tt._jsonSchema))return new Tt(e,s||null,new _e(st.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Bt("string",Tt._jsonSchemaVersion),referencePath:Bt("string")};class Ur extends ao{constructor(e,n,s){super(e,n,$d(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new _e(e))}withConverter(e){return new Ur(this.firestore,e,this._path)}}function Fn(t,e,...n){if(t=mt(t),nx("collection","path",e),t instanceof nm){const s=st.fromString(e,...n);return sb(s),new Ur(t,null,s)}{if(!(t instanceof Tt||t instanceof Ur))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(st.fromString(e,...n));return sb(s),new Ur(t.firestore,null,s)}}function Et(t,e,...n){if(t=mt(t),arguments.length===1&&(e=bv.newId()),nx("doc","path",e),t instanceof nm){const s=st.fromString(e,...n);return ib(s),new Tt(t,null,new _e(s))}{if(!(t instanceof Tt||t instanceof Ur))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(st.fromString(e,...n));return ib(s),new Tt(t.firestore,t instanceof Ur?t.converter:null,new _e(s))}}const Kb="AsyncQueue";class $b{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Yx(this,"async_queue_retry"),this._c=()=>{const s=Ng();s&&he(Kb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Ng();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ng();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Dl(e))throw e;he(Kb,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,qs("INTERNAL UNHANDLED ERROR: ",Yb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Bv.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&be(47125,{Pc:Yb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Yb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class $r extends nm{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new $b,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $b(e),this._firestoreClient=void 0,await e}}}function V3(t,e){const n=typeof t=="object"?t:fv(),s=typeof t=="string"?t:gd,a=Ud(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=rw("firestore");l&&P3(a,...l)}return a}function Kv(t){if(t._terminated)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||O3(t),t._firestoreClient}function O3(t){const e=t._freezeSettings(),n=k3(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new R3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oi(un.fromBase64String(e))}catch(n){throw new ue(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oi(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zu(e,oi._jsonSchema))return oi.fromBase64String(e.bytes)}}oi._jsonSchemaVersion="firestore/bytes/1.0",oi._jsonSchema={type:Bt("string",oi._jsonSchemaVersion),bytes:Bt("string")};class $v{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class im{constructor(e){this._methodName=e}}class hs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(e){if(zu(e,hs._jsonSchema))return new hs(e.latitude,e.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:Bt("string",hs._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class Ci{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zu(e,Ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ci(e.vectorValues);throw new ue(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:Bt("string",Ci._jsonSchemaVersion),vectorValues:Bt("object")};const L3=/^__.*__$/;class U3{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new na(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bu(e,this.data,n,this.fieldTransforms)}}class yR{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new na(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:t})}}class Yv{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Yv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ad(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(vR(this.dataSource)&&L3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class z3{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Zd(e)}createContext(e,n,s,a=!1){return new Yv({dataSource:e,methodName:n,targetDoc:s,path:cn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sm(t){const e=t._freezeSettings(),n=Zd(t._databaseId);return new z3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _R(t,e,n,s,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);Xv("Data must be an object, but it was:",u,s);const f=TR(s,u);let p,g;if(l.merge)p=new Hn(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const b=Ja(e,_,n);if(!u.contains(b))throw new ue(ee.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);SR(v,b)||v.push(b)}p=new Hn(v),g=u.fieldTransforms.filter((_=>p.covers(_.field)))}else p=null,g=u.fieldTransforms;return new U3(new jn(f),p,g)}class rm extends im{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rm}}class Qv extends im{_toFieldTransform(e){return new C4(e.path,new Eu)}isEqual(e){return e instanceof Qv}}function B3(t,e,n,s){const a=t.createContext(1,e,n);Xv("Data must be an object, but it was:",a,s);const l=[],u=jn.empty();ta(s,((p,g)=>{const v=bR(e,p,n);g=mt(g);const _=a.childContextForFieldPath(v);if(g instanceof rm)l.push(v);else{const b=Gu(g,_);b!=null&&(l.push(v),u.set(v,b))}}));const f=new Hn(l);return new yR(u,f,a.fieldTransforms)}function F3(t,e,n,s,a,l){const u=t.createContext(1,e,n),f=[Ja(e,s,n)],p=[a];if(l.length%2!=0)throw new ue(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(Ja(e,l[b])),p.push(l[b+1]);const g=[],v=jn.empty();for(let b=f.length-1;b>=0;--b)if(!SR(g,f[b])){const w=f[b];let C=p[b];C=mt(C);const M=u.childContextForFieldPath(w);if(C instanceof rm)g.push(w);else{const k=Gu(C,M);k!=null&&(g.push(w),v.set(w,k))}}const _=new Hn(g);return new yR(v,_,u.fieldTransforms)}function q3(t,e,n,s=!1){return Gu(n,t.createContext(s?4:3,e))}function Gu(t,e){if(ER(t=mt(t)))return Xv("Unsupported field value:",e,t),TR(t,e);if(t instanceof im)return(function(s,a){if(!vR(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let p=Gu(f,a.childContextForArray(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=mt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return w4(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=lt.fromDate(s);return{timestampValue:Td(a.serializer,l)}}if(s instanceof lt){const l=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Td(a.serializer,l)}}if(s instanceof hs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oi)return{bytesValue:Vx(a.serializer,s._byteString)};if(s instanceof Tt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:jv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ci)return(function(u,f){const p=u instanceof Ci?u.toArray():u;return{mapValue:{fields:{[hx]:{stringValue:fx},[yd]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw f.createError("VectorValues must only contain numeric values.");return Cv(f.serializer,v)}))}}}}}})(s,a);if(qx(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${qd(s)}`)})(t,e)}function TR(t,e){const n={};return rx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(t,((s,a)=>{const l=Gu(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function ER(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof hs||t instanceof oi||t instanceof Tt||t instanceof im||t instanceof Ci||qx(t))}function Xv(t,e,n){if(!ER(n)||!ix(n)){const s=qd(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function Ja(t,e,n){if((e=mt(e))instanceof $v)return e._internalPath;if(typeof e=="string")return bR(t,e);throw Ad("Field path arguments must be of type string or ",t,!1,void 0,n)}const H3=new RegExp("[~\\*/\\[\\]]");function bR(t,e,n){if(e.search(H3)>=0)throw Ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $v(...e.split("."))._internalPath}catch{throw Ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ad(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${s}`),u&&(p+=` in document ${a}`),p+=")"),new ue(ee.INVALID_ARGUMENT,f+t+p)}function SR(t,e){return t.some((n=>n.isEqual(e)))}class G3{convertValue(e,n="none"){switch(Hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ta(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[yd].arrayValue?.values?.map((s=>Ct(s.doubleValue)));return new Ci(n)}convertGeoPoint(e){return new hs(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const n=Fr(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);Ye(Fx(s),9688,{name:e});const a=new vu(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return a.isEqual(n)||qs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class AR extends G3{constructor(e){super(),this.firestore=e}convertBytes(e){return new oi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function ln(){return new Qv("serverTimestamp")}const Qb="@firebase/firestore",Xb="4.11.0";function Wb(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class wR{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Ja("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K3 extends wR{data(){return super.data()}}function $3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wv{}class xR extends Wv{}function Jb(t,e,...n){let s=[];e instanceof Wv&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((p=>p instanceof Jv)).length,f=l.filter((p=>p instanceof am)).length;if(u>1||u>0&&f>0)throw new ue(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class am extends xR{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new am(e,n,s)}_apply(e){const n=this._parse(e);return RR(e._query,n),new ao(e.firestore,e.converter,py(e._query,n))}_parse(e){const n=sm(e.firestore);return(function(l,u,f,p,g,v,_){let b;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){eS(_,v);const C=[];for(const M of _)C.push(Zb(p,l,M));b={arrayValue:{values:C}}}else b=Zb(p,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||eS(_,v),b=q3(f,u,_,v==="in"||v==="not-in");return zt.create(g,v,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Y3(t,e,n){const s=e,a=Ja("where",t);return am._create(a,s,n)}class Jv extends Wv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jv(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ji.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const p of f)RR(u,p),u=py(u,p)})(e._query,n),new ao(e.firestore,e.converter,py(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zv extends xR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zv(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tu(l,u)})(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,y4(e._query,n))}}function Q3(t,e="asc"){const n=e,s=Ja("orderBy",t);return Zv._create(s,n)}function Zb(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tx(e)&&n.indexOf("/")!==-1)throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(st.fromString(n));if(!_e.isDocumentKey(s))throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return fb(t,new _e(s))}if(n instanceof Tt)return fb(t,n._key);throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qd(n)}.`)}function eS(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RR(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function CR(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Zc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fa extends wR{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ja("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fa._jsonSchema={type:Bt("string",Fa._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Jf extends Fa{data(e={}){return super.data(e)}}class ml{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Zc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Jf(this._firestore,this._userDataWriter,s.key,s,new Zc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const p=new Jf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Zc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new Jf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Zc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:X3(f.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ml._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function X3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:Bt("string",ml._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};function NR(t){t=ci(t,Tt);const e=ci(t.firestore,$r),n=Kv(e);return D3(n,t._key).then((s=>DR(e,t,s)))}function IR(t,e,n){t=ci(t,Tt);const s=ci(t.firestore,$r),a=CR(t.converter,e),l=sm(s);return om(s,[_R(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ui.none())])}function Mi(t,e,n,...s){t=ci(t,Tt);const a=ci(t.firestore,$r),l=sm(a);let u;return u=typeof(e=mt(e))=="string"||e instanceof $v?F3(l,"updateDoc",t._key,e,n,s):B3(l,"updateDoc",t._key,e),om(a,[u.toMutation(t._key,ui.exists(!0))])}function kl(t){return om(ci(t.firestore,$r),[new Nv(t._key,ui.none())])}function ai(t,e){const n=ci(t.firestore,$r),s=Et(t),a=CR(t.converter,e),l=sm(t.firestore);return om(n,[_R(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,ui.exists(!1))]).then((()=>s))}function W3(t,...e){t=mt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Wb(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Wb(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let l,u,f;if(t instanceof Tt)u=ci(t.firestore,$r),f=$d(t._key.path),l={next:g=>{e[s]&&e[s](DR(u,t,g))},error:e[s+1],complete:e[s+2]};else{const g=ci(t,ao);u=ci(g.firestore,$r),f=g._query;const v=new AR(u);l={next:_=>{e[s]&&e[s](new ml(u,v,g,_))},error:e[s+1],complete:e[s+2]},$3(t._query)}const p=Kv(u);return I3(p,f,a,l)}function om(t,e){const n=Kv(t);return j3(n,e)}function DR(t,e,n){const s=n.docs.get(e._key),a=new AR(t);return new Fa(t,a,e._key,s,new Zc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){DO(no),Ka(new zr("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new $r(new kO(s.getProvider("auth-internal")),new OO(u,s.getProvider("app-check-internal")),e4(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),as(Qb,Xb,e),as(Qb,Xb,"esm2020")})();const jR="firebasestorage.googleapis.com",MR="storageBucket",J3=120*1e3,Z3=600*1e3;class St extends gs{constructor(e,n,s=0){super(Dg(e),`Firebase Storage: ${n} (${Dg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bt||(bt={}));function Dg(t){return"storage/"+t}function e_(){const t="An unknown error occurred, please check the error payload for server response.";return new St(bt.UNKNOWN,t)}function e6(t){return new St(bt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function t6(t){return new St(bt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function n6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new St(bt.UNAUTHENTICATED,t)}function i6(){return new St(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function s6(t){return new St(bt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function r6(){return new St(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function a6(){return new St(bt.CANCELED,"User canceled the upload/download.")}function o6(t){return new St(bt.INVALID_URL,"Invalid URL '"+t+"'.")}function l6(t){return new St(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function c6(){return new St(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+MR+"' property when initializing the app?")}function u6(){return new St(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function h6(){return new St(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function f6(t){return new St(bt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ry(t){return new St(bt.INVALID_ARGUMENT,t)}function kR(){return new St(bt.APP_DELETED,"The Firebase app was deleted.")}function d6(t){return new St(bt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ou(t,e){return new St(bt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Kc(t){throw new St(bt.INTERNAL_ERROR,"Internal error: "+t)}class Gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Gn.makeFromUrl(e,n)}catch{return new Gn(e,"")}if(s.path==="")return s;throw l6(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),p={bucket:1,path:3};function g(se){se.path_=decodeURIComponent(se.path)}const v="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",w=new RegExp(`^https?://${_}/${v}/b/${a}/o${b}`,"i"),C={bucket:1,path:3},M=n===jR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",z=new RegExp(`^https?://${M}/${a}/${k}`,"i"),K=[{regex:f,indices:p,postModify:l},{regex:w,indices:C,postModify:g},{regex:z,indices:{bucket:1,path:2},postModify:g}];for(let se=0;se<K.length;se++){const re=K[se],ce=re.regex.exec(e);if(ce){const D=ce[re.indices.bucket];let R=ce[re.indices.path];R||(R=""),s=new Gn(D,R),re.postModify(s);break}}if(s==null)throw o6(e);return s}}class m6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function p6(t,e,n){let s=1,a=null,l=null,u=!1,f=0;function p(){return f===2}let g=!1;function v(...k){g||(g=!0,e.apply(null,k))}function _(k){a=setTimeout(()=>{a=null,t(w,p())},k)}function b(){l&&clearTimeout(l)}function w(k,...z){if(g){b();return}if(k){b(),v.call(null,k,...z);return}if(p()||u){b(),v.call(null,k,...z);return}s<64&&(s*=2);let K;f===1?(f=2,K=0):K=(s+Math.random())*1e3,_(K)}let C=!1;function M(k){C||(C=!0,b(),!g&&(a!==null?(k||(f=2),clearTimeout(a),_(0)):k||(f=1)))}return _(0),l=setTimeout(()=>{u=!0,M(!0)},n),M}function g6(t){t(!1)}function y6(t){return t!==void 0}function v6(t){return typeof t=="object"&&!Array.isArray(t)}function t_(t){return typeof t=="string"||t instanceof String}function tS(t){return n_()&&t instanceof Blob}function n_(){return typeof Blob<"u"}function nS(t,e,n,s){if(s<e)throw Ry(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Ry(`Invalid value for '${t}'. Expected ${n} or less.`)}function i_(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function PR(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var qa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qa||(qa={}));function _6(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class T6{constructor(e,n,s,a,l,u,f,p,g,v,_,b=!0,w=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=_,this.retry=b,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,M)=>{this.resolve_=C,this.reject_=M,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new kf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const p=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===qa.NO_ERROR,p=l.getStatus();if(!f||_6(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===qa.ABORT;s(!1,new kf(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new kf(g,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());y6(p)?l(p):l()}catch(p){u(p)}else if(f!==null){const p=e_();p.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,p)):u(p)}else if(a.canceled){const p=this.appDelete_?kR():a6();u(p)}else{const p=r6();u(p)}};this.canceled_?n(!1,new kf(!1,null,!0)):this.backoffId_=p6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&g6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function E6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function b6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function S6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function A6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function w6(t,e,n,s,a,l,u=!0,f=!1){const p=PR(t.urlParams),g=t.url+p,v=Object.assign({},t.headers);return S6(v,e),E6(v,n),b6(v,l),A6(v,s),new T6(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}function x6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function R6(...t){const e=x6();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(n_())return new Blob(t);throw new St(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function C6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function N6(t){if(typeof atob>"u")throw f6("base-64");return atob(t)}const rs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jg{constructor(e,n){this.data=e,this.contentType=n||null}}function I6(t,e){switch(t){case rs.RAW:return new jg(VR(e));case rs.BASE64:case rs.BASE64URL:return new jg(OR(t,e));case rs.DATA_URL:return new jg(j6(e),M6(e))}throw e_()}function VR(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,u=t.charCodeAt(++n);s=65536|(l&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function D6(t){let e;try{e=decodeURIComponent(t)}catch{throw ou(rs.DATA_URL,"Malformed data URL.")}return VR(e)}function OR(t,e){switch(t){case rs.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw ou(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case rs.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw ou(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=N6(e)}catch(a){throw a.message.includes("polyfill")?a:ou(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class LR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ou(rs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=k6(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function j6(t){const e=new LR(t);return e.base64?OR(rs.BASE64,e.rest):D6(e.rest)}function M6(t){return new LR(t).contentType}function k6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class jr{constructor(e,n){let s=0,a="";tS(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(tS(this.data_)){const s=this.data_,a=C6(s,e,n);return a===null?null:new jr(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new jr(s,!0)}}static getBlob(...e){if(n_()){const n=e.map(s=>s instanceof jr?s.data_:s);return new jr(R6.apply(null,n))}else{const n=e.map(u=>t_(u)?I6(rs.RAW,u).data:u.data_);let s=0;n.forEach(u=>{s+=u.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(u=>{for(let f=0;f<u.length;f++)a[l++]=u[f]}),new jr(a,!0)}}uploadData(){return this.data_}}function UR(t){let e;try{e=JSON.parse(t)}catch{return null}return v6(e)?e:null}function P6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function V6(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function zR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function O6(t,e){return e}class En{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||O6}}let Pf=null;function L6(t){return!t_(t)||t.length<2?t:zR(t)}function BR(){if(Pf)return Pf;const t=[];t.push(new En("bucket")),t.push(new En("generation")),t.push(new En("metageneration")),t.push(new En("name","fullPath",!0));function e(l,u){return L6(u)}const n=new En("name");n.xform=e,t.push(n);function s(l,u){return u!==void 0?Number(u):u}const a=new En("size");return a.xform=s,t.push(a),t.push(new En("timeCreated")),t.push(new En("updated")),t.push(new En("md5Hash",null,!0)),t.push(new En("cacheControl",null,!0)),t.push(new En("contentDisposition",null,!0)),t.push(new En("contentEncoding",null,!0)),t.push(new En("contentLanguage",null,!0)),t.push(new En("contentType",null,!0)),t.push(new En("metadata","customMetadata",!0)),Pf=t,Pf}function U6(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new Gn(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function z6(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const u=n[l];s[u.local]=u.xform(s,e[u.server])}return U6(s,t),s}function FR(t,e,n){const s=UR(e);return s===null?null:z6(t,s,n)}function B6(t,e,n,s){const a=UR(e);if(a===null||!t_(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(g=>{const v=t.bucket,_=t.fullPath,b="/b/"+u(v)+"/o/"+u(_),w=i_(b,n,s),C=PR({alt:"media",token:g});return w+C})[0]}function F6(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class qR{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function HR(t){if(!t)throw e_()}function q6(t,e){function n(s,a){const l=FR(t,a,e);return HR(l!==null),l}return n}function H6(t,e){function n(s,a){const l=FR(t,a,e);return HR(l!==null),B6(l,a,t.host,t._protocol)}return n}function GR(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=i6():a=n6():n.getStatus()===402?a=t6(t.bucket):n.getStatus()===403?a=s6(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function G6(t){const e=GR(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=e6(t.path)),l.serverResponse=a.serverResponse,l}return n}function K6(t,e,n){const s=e.fullServerUrl(),a=i_(s,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,f=new qR(a,l,H6(t,n),u);return f.errorHandler=G6(e),f}function $6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Y6(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=$6(null,e)),s}function Q6(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let K="";for(let se=0;se<2;se++)K=K+Math.random().toString().slice(2);return K}const p=f();u["Content-Type"]="multipart/related; boundary="+p;const g=Y6(e,s,a),v=F6(g,n),_="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,b=`\r
--`+p+"--",w=jr.getBlob(_,s,b);if(w===null)throw u6();const C={name:g.fullPath},M=i_(l,t.host,t._protocol),k="POST",z=t.maxUploadRetryTime,q=new qR(M,k,q6(t,n),z);return q.urlParams=C,q.headers=u,q.body=w.uploadData(),q.errorHandler=GR(e),q}class X6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a,l){if(this.sent_)throw Kc("cannot .send() more than once");if(Jr(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Kc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Kc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Kc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Kc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class W6 extends X6{initXhr(){this.xhr_.responseType="text"}}function KR(){return new W6}class Za{constructor(e,n){this._service=e,n instanceof Gn?this._location=n:this._location=Gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Za(e,n)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zR(this._location.path)}get storage(){return this._service}get parent(){const e=P6(this._location.path);if(e===null)return null;const n=new Gn(this._location.bucket,e);return new Za(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw d6(e)}}function J6(t,e,n){t._throwIfRoot("uploadBytes");const s=Q6(t.storage,t._location,BR(),new jr(e,!0),n);return t.storage.makeRequestWithTokens(s,KR).then(a=>({metadata:a,ref:t}))}function Z6(t){t._throwIfRoot("getDownloadURL");const e=K6(t.storage,t._location,BR());return t.storage.makeRequestWithTokens(e,KR).then(n=>{if(n===null)throw h6();return n})}function e5(t,e){const n=V6(t._location.path,e),s=new Gn(t._location.bucket,n);return new Za(t.storage,s)}function t5(t){return/^[A-Za-z]+:\/\//.test(t)}function n5(t,e){return new Za(t,e)}function $R(t,e){if(t instanceof s_){const n=t;if(n._bucket==null)throw c6();const s=new Za(n,n._bucket);return e!=null?$R(s,e):s}else return e!==void 0?e5(t,e):t}function i5(t,e){if(e&&t5(e)){if(t instanceof s_)return n5(t,e);throw Ry("To use ref(service, url), the first argument must be a Storage instance.")}else return $R(t,e)}function iS(t,e){const n=e?.[MR];return n==null?null:Gn.makeFromBucketSpec(n,t)}function s5(t,e,n,s={}){t.host=`${e}:${n}`;const a=Jr(e);a&&(lv(`https://${t.host}/b`),cv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:lw(l,t.app.options.projectId))}class s_{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=jR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=J3,this._maxUploadRetryTime=Z3,this._requests=new Set,a!=null?this._bucket=Gn.makeFromBucketSpec(a,this._host):this._bucket=iS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=iS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Za(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new m6(kR());{const u=w6(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const sS="@firebase/storage",rS="0.14.0";const YR="storage";function QR(t,e,n){return t=mt(t),J6(t,e,n)}function XR(t){return t=mt(t),Z6(t)}function WR(t,e){return t=mt(t),i5(t,e)}function r5(t=fv(),e){t=mt(t);const s=Ud(t,YR).getImmediate({identifier:e}),a=rw("storage");return a&&a5(s,...a),s}function a5(t,e,n,s={}){s5(t,e,n,s)}function o5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new s_(n,s,a,e,no)}function l5(){Ka(new zr(YR,o5,"PUBLIC").setMultipleInstances(!0)),as(sS,rS,""),as(sS,rS,"esm2020")}l5();const c5={apiKey:"YOUR_API_KEY",authDomain:"your-project.firebaseapp.com",projectId:"your-project",storageBucket:"your-project.appspot.com",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID"},r_=hw(c5),Vf=NO(r_),qe=V3(r_),JR=r5(r_),ZR=I.createContext(),Ku=()=>I.useContext(ZR),u5=({children:t})=>{const[e,n]=I.useState(null),[s,a]=I.useState(null),[l,u]=I.useState(!0);I.useEffect(()=>{const _=yV(Vf,async b=>{if(b){const w=await NR(Et(qe,"users",b.uid));if(w.exists()){const C=w.data();n({...b,...C}),a(C.role)}else n(b),a("staff")}else n(null),a(null);u(!1)});return()=>_()},[]);const v={user:e,role:s,signup:async(_,b,w,C,M)=>{if(M!=="#FikaPlaces")throw new Error("Invalid Secret Code. Access Denied.");const k=await dV(Vf,_,b);return await IR(Et(qe,"users",k.user.uid),{uid:k.user.uid,name:w,email:_,phone:C,role:"staff",createdAt:ln()}),k.user},login:(_,b)=>mV(Vf,_,b),logout:()=>vV(Vf),loading:l};return d.jsx(ZR.Provider,{value:v,children:!l&&t})},h5=()=>{const[t,e]=Jy.useState(!1),{user:n,logout:s}=Ku();return d.jsx("nav",{className:"navbar",children:d.jsxs("div",{className:"navbar-container",children:[d.jsx(ss,{to:"/",className:"navbar-logo",children:"AKOTHEE SAFARIS"}),d.jsxs("div",{className:`navbar-links ${t?"active":""}`,children:[d.jsx(dn,{to:"/",onClick:()=>e(!1),end:!0,children:"Home"}),d.jsx(dn,{to:"/destinations",onClick:()=>e(!1),children:"Destinations"}),d.jsx(dn,{to:"/about",onClick:()=>e(!1),children:"About Us"}),n?d.jsxs(d.Fragment,{children:[d.jsx(dn,{to:"/dashboard",onClick:()=>e(!1),children:"Dashboard"}),d.jsxs("button",{onClick:s,className:"navbar-logout",children:[d.jsx(QA,{size:18})," Sign Out"]})]}):d.jsxs(ss,{to:"/signin",className:"navbar-signin",onClick:()=>e(!1),children:[d.jsx(ov,{size:18}),"Staff Sign In"]})]}),d.jsx("button",{className:"navbar-toggle",onClick:()=>e(!t),children:t?d.jsx(Wr,{}):d.jsx(Yj,{})})]})})},f5=()=>d.jsxs("footer",{className:"footer",children:[d.jsxs("div",{className:"footer-container",children:[d.jsxs("div",{className:"footer-section",children:[d.jsx("h3",{children:"AKOTHEE SAFARIS"}),d.jsx("p",{children:"Your ultimate partner for unforgettable travel experiences across Africa and beyond."}),d.jsxs("div",{className:"footer-social",children:[d.jsx(Aj,{size:20}),d.jsx(Vj,{size:20}),d.jsx(xM,{size:20})]})]}),d.jsxs("div",{className:"footer-section",children:[d.jsx("h4",{children:"Quick Links"}),d.jsxs("ul",{children:[d.jsx("li",{children:d.jsx(ss,{to:"/",children:"Home"})}),d.jsx("li",{children:d.jsx(ss,{to:"/destinations",children:"Destinations"})}),d.jsx("li",{children:d.jsx(ss,{to:"/about",children:"About Us"})}),d.jsx("li",{children:d.jsx(ss,{to:"/signin",children:"Staff Login"})})]})]}),d.jsxs("div",{className:"footer-section",children:[d.jsx("h4",{children:"Contact Us"}),d.jsxs("ul",{className:"footer-contact",children:[d.jsxs("li",{children:[d.jsx(Vd,{size:16})," +254 700 000000"]}),d.jsxs("li",{children:[d.jsx(Pd,{size:16})," info@akotheesafaris.com"]}),d.jsxs("li",{children:[d.jsx(xl,{size:16})," Nairobi, Kenya"]})]})]})]}),d.jsx("div",{className:"footer-bottom",children:d.jsxs("p",{children:[" ",new Date().getFullYear()," Akothee Safaris. All rights reserved."]})})]}),a_=I.createContext({});function o_(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const eC=typeof window<"u",tC=eC?I.useLayoutEffect:I.useEffect,lm=I.createContext(null);function l_(t,e){t.indexOf(e)===-1&&t.push(e)}function wd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ms=(t,e,n)=>n>e?e:n<t?t:n;let c_=()=>{};const Gs={},nC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function iC(t){return typeof t=="object"&&t!==null}const sC=t=>/^0[^.\s]+$/u.test(t);function u_(t){let e;return()=>(e===void 0&&(e=t()),e)}const hi=t=>t,d5=(t,e)=>n=>e(t(n)),$u=(...t)=>t.reduce(d5),Au=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class h_{constructor(){this.subscriptions=[]}add(e){return l_(this.subscriptions,e),()=>wd(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ni=t=>t*1e3,li=t=>t/1e3;function rC(t,e){return e?t*(1e3/e):0}const aC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,m5=1e-7,p5=12;function g5(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=aC(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>m5&&++f<p5);return u}function Yu(t,e,n,s){if(t===e&&n===s)return hi;const a=l=>g5(l,0,1,t,n);return l=>l===0||l===1?l:aC(a(l),e,s)}const oC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lC=t=>e=>1-t(1-e),cC=Yu(.33,1.53,.69,.99),f_=lC(cC),uC=oC(f_),hC=t=>(t*=2)<1?.5*f_(t):.5*(2-Math.pow(2,-10*(t-1))),d_=t=>1-Math.sin(Math.acos(t)),fC=lC(d_),dC=oC(d_),y5=Yu(.42,0,1,1),v5=Yu(0,0,.58,1),mC=Yu(.42,0,.58,1),_5=t=>Array.isArray(t)&&typeof t[0]!="number",pC=t=>Array.isArray(t)&&typeof t[0]=="number",T5={linear:hi,easeIn:y5,easeInOut:mC,easeOut:v5,circIn:d_,circInOut:dC,circOut:fC,backIn:f_,backInOut:uC,backOut:cC,anticipate:hC},E5=t=>typeof t=="string",aS=t=>{if(pC(t)){c_(t.length===4);const[e,n,s,a]=t;return Yu(e,n,s,a)}else if(E5(t))return T5[t];return t},Of=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function b5(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(v){u.has(v)&&(g.schedule(v),t()),v(f)}const g={schedule:(v,_=!1,b=!1)=>{const C=b&&a?n:s;return _&&u.add(v),C.has(v)||C.add(v),v},cancel:v=>{s.delete(v),u.delete(v)},process:v=>{if(f=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const S5=40;function gC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Of.reduce((K,se)=>(K[se]=b5(l),K),{}),{setup:f,read:p,resolveKeyframes:g,preUpdate:v,update:_,preRender:b,render:w,postRender:C}=u,M=()=>{const K=Gs.useManualTiming?a.timestamp:performance.now();n=!1,Gs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(K-a.timestamp,S5),1)),a.timestamp=K,a.isProcessing=!0,f.process(a),p.process(a),g.process(a),v.process(a),_.process(a),b.process(a),w.process(a),C.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(M))},k=()=>{n=!0,s=!0,a.isProcessing||t(M)};return{schedule:Of.reduce((K,se)=>{const re=u[se];return K[se]=(ce,D=!1,R=!1)=>(n||k(),re.schedule(ce,D,R)),K},{}),cancel:K=>{for(let se=0;se<Of.length;se++)u[Of[se]].cancel(K)},state:a,steps:u}}const{schedule:rt,cancel:Yr,state:an,steps:Mg}=gC(typeof requestAnimationFrame<"u"?requestAnimationFrame:hi,!0);let Zf;function A5(){Zf=void 0}const bn={now:()=>(Zf===void 0&&bn.set(an.isProcessing||Gs.useManualTiming?an.timestamp:performance.now()),Zf),set:t=>{Zf=t,queueMicrotask(A5)}},yC=t=>e=>typeof e=="string"&&e.startsWith(t),vC=yC("--"),w5=yC("var(--"),m_=t=>w5(t)?x5.test(t.split("/*")[0].trim()):!1,x5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function oS(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Pl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wu={...Pl,transform:t=>ms(0,1,t)},Lf={...Pl,default:1},lu=t=>Math.round(t*1e5)/1e5,p_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function R5(t){return t==null}const C5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,g_=(t,e)=>n=>!!(typeof n=="string"&&C5.test(n)&&n.startsWith(t)||e&&!R5(n)&&Object.prototype.hasOwnProperty.call(n,e)),_C=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(p_);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},N5=t=>ms(0,255,t),kg={...Pl,transform:t=>Math.round(N5(t))},za={test:g_("rgb","red"),parse:_C("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+kg.transform(t)+", "+kg.transform(e)+", "+kg.transform(n)+", "+lu(wu.transform(s))+")"};function I5(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Cy={test:g_("#"),parse:I5,transform:za.transform},Qu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Rr=Qu("deg"),fs=Qu("%"),pe=Qu("px"),D5=Qu("vh"),j5=Qu("vw"),lS={...fs,parse:t=>fs.parse(t)/100,transform:t=>fs.transform(t*100)},sl={test:g_("hsl","hue"),parse:_C("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+fs.transform(lu(e))+", "+fs.transform(lu(n))+", "+lu(wu.transform(s))+")"},Ut={test:t=>za.test(t)||Cy.test(t)||sl.test(t),parse:t=>za.test(t)?za.parse(t):sl.test(t)?sl.parse(t):Cy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?za.transform(t):sl.transform(t),getAnimatableNone:t=>{const e=Ut.parse(t);return e.alpha=0,Ut.transform(e)}},M5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function k5(t){return isNaN(t)&&typeof t=="string"&&(t.match(p_)?.length||0)+(t.match(M5)?.length||0)>0}const TC="number",EC="color",P5="var",V5="var(",cS="${}",O5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(O5,p=>(Ut.test(p)?(s.color.push(l),a.push(EC),n.push(Ut.parse(p))):p.startsWith(V5)?(s.var.push(l),a.push(P5),n.push(p)):(s.number.push(l),a.push(TC),n.push(parseFloat(p))),++l,cS)).split(cS);return{values:n,split:f,indexes:s,types:a}}function bC(t){return xu(t).values}function SC(t){const{split:e,types:n}=xu(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===TC?l+=lu(a[u]):f===EC?l+=Ut.transform(a[u]):l+=a[u]}return l}}const L5=t=>typeof t=="number"?0:Ut.test(t)?Ut.getAnimatableNone(t):t;function U5(t){const e=bC(t);return SC(t)(e.map(L5))}const Qr={test:k5,parse:bC,createTransformer:SC,getAnimatableNone:U5};function Pg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function z5({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,p=2*n-f;a=Pg(p,f,t+1/3),l=Pg(p,f,t),u=Pg(p,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function xd(t,e){return n=>n>0?e:t}const dt=(t,e,n)=>t+(e-t)*n,Vg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},B5=[Cy,za,sl],F5=t=>B5.find(e=>e.test(t));function uS(t){const e=F5(t);if(!e)return!1;let n=e.parse(t);return e===sl&&(n=z5(n)),n}const hS=(t,e)=>{const n=uS(t),s=uS(e);if(!n||!s)return xd(t,e);const a={...n};return l=>(a.red=Vg(n.red,s.red,l),a.green=Vg(n.green,s.green,l),a.blue=Vg(n.blue,s.blue,l),a.alpha=dt(n.alpha,s.alpha,l),za.transform(a))},Ny=new Set(["none","hidden"]);function q5(t,e){return Ny.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function H5(t,e){return n=>dt(t,e,n)}function y_(t){return typeof t=="number"?H5:typeof t=="string"?m_(t)?xd:Ut.test(t)?hS:$5:Array.isArray(t)?AC:typeof t=="object"?Ut.test(t)?hS:G5:xd}function AC(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>y_(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function G5(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=y_(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function K5(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const $5=(t,e)=>{const n=Qr.createTransformer(e),s=xu(t),a=xu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Ny.has(t)&&!a.values.length||Ny.has(e)&&!s.values.length?q5(t,e):$u(AC(K5(s,a),a.values),n):xd(t,e)};function wC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):y_(t)(t,e)}const Y5=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>rt.update(e,n),stop:()=>Yr(e),now:()=>an.isProcessing?an.timestamp:bn.now()}},xC=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Rd=2e4;function v_(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Rd;)e+=n,s=t.next(e);return e>=Rd?1/0:e}function Q5(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(v_(s),Rd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:li(a)}}const X5=5;function RC(t,e,n){const s=Math.max(e-X5,0);return rC(n-t(s),e-s)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Og=.001;function W5({duration:t=_t.duration,bounce:e=_t.bounce,velocity:n=_t.velocity,mass:s=_t.mass}){let a,l,u=1-e;u=ms(_t.minDamping,_t.maxDamping,u),t=ms(_t.minDuration,_t.maxDuration,li(t)),u<1?(a=g=>{const v=g*u,_=v*t,b=v-n,w=Iy(g,u),C=Math.exp(-_);return Og-b/w*C},l=g=>{const _=g*u*t,b=_*n+n,w=Math.pow(u,2)*Math.pow(g,2)*t,C=Math.exp(-_),M=Iy(Math.pow(g,2),u);return(-a(g)+Og>0?-1:1)*((b-w)*C)/M}):(a=g=>{const v=Math.exp(-g*t),_=(g-n)*t+1;return-Og+v*_},l=g=>{const v=Math.exp(-g*t),_=(n-g)*(t*t);return v*_});const f=5/t,p=Z5(a,l,f);if(t=Ni(t),isNaN(p))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:t}}}const J5=12;function Z5(t,e,n){let s=n;for(let a=1;a<J5;a++)s=s-t(s)/e(s);return s}function Iy(t,e){return t*Math.sqrt(1-e*e)}const eU=["duration","bounce"],tU=["stiffness","damping","mass"];function fS(t,e){return e.some(n=>t[n]!==void 0)}function nU(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!fS(t,tU)&&fS(t,eU))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*ms(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:_t.mass,stiffness:a,damping:l}}else{const n=W5(t);e={...e,...n,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function Cd(t=_t.visualDuration,e=_t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:g,mass:v,duration:_,velocity:b,isResolvedFromDuration:w}=nU({...n,velocity:-li(n.velocity||0)}),C=b||0,M=g/(2*Math.sqrt(p*v)),k=u-l,z=li(Math.sqrt(p/v)),q=Math.abs(k)<5;s||(s=q?_t.restSpeed.granular:_t.restSpeed.default),a||(a=q?_t.restDelta.granular:_t.restDelta.default);let K;if(M<1){const re=Iy(z,M);K=ce=>{const D=Math.exp(-M*z*ce);return u-D*((C+M*z*k)/re*Math.sin(re*ce)+k*Math.cos(re*ce))}}else if(M===1)K=re=>u-Math.exp(-z*re)*(k+(C+z*k)*re);else{const re=z*Math.sqrt(M*M-1);K=ce=>{const D=Math.exp(-M*z*ce),R=Math.min(re*ce,300);return u-D*((C+M*z*k)*Math.sinh(R)+re*k*Math.cosh(R))/re}}const se={calculatedDuration:w&&_||null,next:re=>{const ce=K(re);if(w)f.done=re>=_;else{let D=re===0?C:0;M<1&&(D=re===0?Ni(C):RC(K,re,ce));const R=Math.abs(D)<=s,N=Math.abs(u-ce)<=a;f.done=R&&N}return f.value=f.done?u:ce,f},toString:()=>{const re=Math.min(v_(se),Rd),ce=xC(D=>se.next(re*D).value,re,30);return re+"ms "+ce},toTransition:()=>{}};return se}Cd.applyToOptions=t=>{const e=Q5(t,100,Cd);return t.ease=e.ease,t.duration=Ni(e.duration),t.type="keyframes",t};function Dy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:p,restDelta:g=.5,restSpeed:v}){const _=t[0],b={done:!1,value:_},w=R=>f!==void 0&&R<f||p!==void 0&&R>p,C=R=>f===void 0?p:p===void 0||Math.abs(f-R)<Math.abs(p-R)?f:p;let M=n*e;const k=_+M,z=u===void 0?k:u(k);z!==k&&(M=z-_);const q=R=>-M*Math.exp(-R/s),K=R=>z+q(R),se=R=>{const N=q(R),O=K(R);b.done=Math.abs(N)<=g,b.value=b.done?z:O};let re,ce;const D=R=>{w(b.value)&&(re=R,ce=Cd({keyframes:[b.value,C(b.value)],velocity:RC(K,R,b.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return D(0),{calculatedDuration:null,next:R=>{let N=!1;return!ce&&re===void 0&&(N=!0,se(R),D(R)),re!==void 0&&R>=re?ce.next(R-re):(!N&&se(R),b)}}}function iU(t,e,n){const s=[],a=n||Gs.mix||wC,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const p=Array.isArray(e)?e[u]||hi:e;f=$u(p,f)}s.push(f)}return s}function sU(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(c_(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=iU(e,s,a),p=f.length,g=v=>{if(u&&v<t[0])return e[0];let _=0;if(p>1)for(;_<t.length-2&&!(v<t[_+1]);_++);const b=Au(t[_],t[_+1],v);return f[_](b)};return n?v=>g(ms(t[0],t[l-1],v)):g}function rU(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Au(0,e,s);t.push(dt(n,1,a))}}function aU(t){const e=[0];return rU(e,t.length-1),e}function oU(t,e){return t.map(n=>n*e)}function lU(t,e){return t.map(()=>e||mC).splice(0,t.length-1)}function cu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=_5(s)?s.map(aS):aS(s),l={done:!1,value:e[0]},u=oU(n&&n.length===e.length?n:aU(e),t),f=sU(u,e,{ease:Array.isArray(a)?a:lU(e,a)});return{calculatedDuration:t,next:p=>(l.value=f(p),l.done=p>=t,l)}}const cU=t=>t!==null;function __(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(cU),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const uU={decay:Dy,inertia:Dy,tween:cu,keyframes:cu,spring:Cd};function CC(t){typeof t.type=="string"&&(t.type=uU[t.type])}class T_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const hU=t=>t/100;class E_ extends T_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==bn.now()&&this.tick(bn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;CC(e);const{type:n=cu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const p=n||cu;p!==cu&&typeof f[0]!="number"&&(this.mixKeyframes=$u(hU,wC(f[0],f[1])),f=[0,100]);const g=p({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...f].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=v_(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:_,repeatType:b,repeatDelay:w,type:C,onUpdate:M,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-g*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,se=s;if(_){const R=Math.min(this.currentTime,a)/f;let N=Math.floor(R),O=R%1;!O&&R>=1&&(O=1),O===1&&N--,N=Math.min(N,_+1),N%2&&(b==="reverse"?(O=1-O,w&&(O-=w/f)):b==="mirror"&&(se=u)),K=ms(0,1,O)*f}const re=q?{done:!1,value:v[0]}:se.next(K);l&&(re.value=l(re.value));let{done:ce}=re;!q&&p!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return D&&C!==Dy&&(re.value=__(v,this.options,k,this.speed)),M&&M(re.value),D&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return li(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+li(e)}get time(){return li(this.currentTime)}set time(e){e=Ni(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(bn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=li(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Y5,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function fU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ba=t=>t*180/Math.PI,jy=t=>{const e=Ba(Math.atan2(t[1],t[0]));return My(e)},dU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:jy,rotateZ:jy,skewX:t=>Ba(Math.atan(t[1])),skewY:t=>Ba(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},My=t=>(t=t%360,t<0&&(t+=360),t),dS=jy,mS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),mU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mS,scaleY:pS,scale:t=>(mS(t)+pS(t))/2,rotateX:t=>My(Ba(Math.atan2(t[6],t[5]))),rotateY:t=>My(Ba(Math.atan2(-t[2],t[0]))),rotateZ:dS,rotate:dS,skewX:t=>Ba(Math.atan(t[4])),skewY:t=>Ba(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ky(t){return t.includes("scale")?1:0}function Py(t,e){if(!t||t==="none")return ky(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=mU,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=dU,a=f}if(!a)return ky(e);const l=s[e],u=a[1].split(",").map(gU);return typeof l=="function"?l(u):u[l]}const pU=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Py(n,e)};function gU(t){return parseFloat(t.trim())}const Vl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ol=new Set(Vl),gS=t=>t===Pl||t===pe,yU=new Set(["x","y","z"]),vU=Vl.filter(t=>!yU.has(t));function _U(t){const e=[];return vU.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const kr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Py(e,"x"),y:(t,{transform:e})=>Py(e,"y")};kr.translateX=kr.x;kr.translateY=kr.y;const Ha=new Set;let Vy=!1,Oy=!1,Ly=!1;function NC(){if(Oy){const t=Array.from(Ha).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=_U(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Oy=!1,Vy=!1,Ha.forEach(t=>t.complete(Ly)),Ha.clear()}function IC(){Ha.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Oy=!0)})}function TU(){Ly=!0,IC(),NC(),Ly=!1}class b_{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ha.add(this),Vy||(Vy=!0,rt.read(IC),rt.resolveKeyframes(NC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}fU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ha.delete(this)}cancel(){this.state==="scheduled"&&(Ha.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const EU=t=>t.startsWith("--");function bU(t,e,n){EU(e)?t.style.setProperty(e,n):t.style[e]=n}const SU=u_(()=>window.ScrollTimeline!==void 0),AU={};function wU(t,e){const n=u_(t);return()=>AU[e]??n()}const DC=wU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,yS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eu([0,.65,.55,1]),circOut:eu([.55,0,1,.45]),backIn:eu([.31,.01,.66,-.59]),backOut:eu([.33,1.53,.69,.99])};function jC(t,e){if(t)return typeof t=="function"?DC()?xC(t,e):"ease-out":pC(t)?eu(t):Array.isArray(t)?t.map(n=>jC(n,e)||yS.easeOut):yS[t]}function xU(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:p}={},g=void 0){const v={[e]:n};p&&(v.offset=p);const _=jC(f,a);Array.isArray(_)&&(v.easing=_);const b={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),t.animate(v,b)}function MC(t){return typeof t=="function"&&"applyToOptions"in t}function RU({type:t,...e}){return MC(t)&&DC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class kC extends T_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,c_(typeof e.type!="string");const g=RU(e);this.animation=xU(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=__(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):bU(n,s,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return li(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+li(e)}get time(){return li(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ni(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&SU()?(this.animation.timeline=e,hi):n(this)}}const PC={anticipate:hC,backInOut:uC,circInOut:dC};function CU(t){return t in PC}function NU(t){typeof t.ease=="string"&&CU(t.ease)&&(t.ease=PC[t.ease])}const Lg=10;class IU extends kC{constructor(e){NU(e),CC(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new E_({...u,autoplay:!1}),p=Math.max(Lg,bn.now()-this.startTime),g=ms(0,Lg,p-Lg);n.setWithVelocity(f.sample(Math.max(0,p-g)).value,f.sample(p).value,g),f.stop()}}const vS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qr.test(t)||t==="0")&&!t.startsWith("url("));function DU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function jU(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=vS(a,e),f=vS(l,e);return!u||!f?!1:DU(t)||(n==="spring"||MC(n))&&s}function Uy(t){t.duration=0,t.type="keyframes"}const MU=new Set(["opacity","clipPath","filter","transform"]),kU=u_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function PU(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=e.owner.getProps();return kU()&&n&&MU.has(n)&&(n!=="transform"||!g)&&!p&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const VU=40;class OU extends T_{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:p,motionValue:g,element:v,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=bn.now();const b={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:p,motionValue:g,element:v,..._},w=v?.KeyframeResolver||b_;this.keyframeResolver=new w(f,(C,M,k)=>this.onKeyframesResolved(C,M,b,!k),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:p,isHandoff:g,onUpdate:v}=s;this.resolvedAt=bn.now(),jU(e,l,u,f)||((Gs.instantAnimations||!p)&&v?.(__(e,s,n)),e[0]=e[e.length-1],Uy(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>VU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!g&&PU(b),C=b.motionValue?.owner?.current,M=w?new IU({...b,element:C}):new E_(b);M.finished.then(()=>{this.notifyFinished()}).catch(hi),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),TU()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function VC(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,v)=>g.sortNodePosition(v)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}const LU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UU(t){const e=LU.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function OC(t,e,n=1){const[s,a]=UU(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return nC(u)?parseFloat(u):u}return m_(a)?OC(a,e,n+1):a}const zU={type:"spring",stiffness:500,damping:25,restSpeed:10},BU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),FU={type:"keyframes",duration:.8},qU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HU=(t,{keyframes:e})=>e.length>2?FU:Ol.has(t)?t.startsWith("scale")?BU(e[1]):zU:qU,GU=t=>t!==null;function KU(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(GU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function LC(t,e){if(t?.inherit&&e){const{inherit:n,...s}=t;return{...e,...s}}return t}function S_(t,e){const n=t?.[e]??t?.default??t;return n!==t?LC(n,t):n}function $U({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const A_=(t,e,n,s={},a,l)=>u=>{const f=S_(s,t)||{},p=f.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Ni(p);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};$U(f)||Object.assign(v,HU(t,v)),v.duration&&(v.duration=Ni(v.duration)),v.repeatDelay&&(v.repeatDelay=Ni(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Uy(v),v.delay===0&&(_=!0)),(Gs.instantAnimations||Gs.skipAnimations||a?.shouldSkipAnimations)&&(_=!0,Uy(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const b=KU(v.keyframes,f);if(b!==void 0){rt.update(()=>{v.onUpdate(b),v.onComplete()});return}}return f.isSync?new E_(v):new OU(v)};function _S(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function w_(t,e,n,s){if(typeof e=="function"){const[a,l]=_S(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=_S(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function pl(t,e,n){const s=t.getProps();return w_(s,e,n!==void 0?n:s.custom,t)}const UC=new Set(["width","height","top","left","right","bottom",...Vl]),TS=30,YU=t=>!isNaN(parseFloat(t));class QU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=bn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=bn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=YU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new h_);const s=this.events[e].add(n);return e==="change"?()=>{s(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>TS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,TS);return rC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function El(t,e){return new QU(t,e)}const zy=t=>Array.isArray(t);function XU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,El(n))}function WU(t){return zy(t)?t[t.length-1]||0:t}function JU(t,e){const n=pl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=WU(l[u]);XU(t,u,f)}}const gn=t=>!!(t&&t.getVelocity);function ZU(t){return!!(gn(t)&&t.add)}function By(t,e){const n=t.getValue("willChange");if(ZU(n))return n.add(e);if(!n&&Gs.WillChange){const s=new Gs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function x_(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const e9="framerAppearId",zC="data-"+x_(e9);function BC(t){return t.props[zC]}function t9({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function FC(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l,transitionEnd:u,...f}=e;const p=t.getDefaultTransition();l=l?LC(l,p):p;const g=l?.reduceMotion;s&&(l=s);const v=[],_=a&&t.animationState&&t.animationState.getState()[a];for(const b in f){const w=t.getValue(b,t.latestValues[b]??null),C=f[b];if(C===void 0||_&&t9(_,b))continue;const M={delay:n,...S_(l||{},b)},k=w.get();if(k!==void 0&&!w.isAnimating&&!Array.isArray(C)&&C===k&&!M.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const se=BC(t);if(se){const re=window.MotionHandoffAnimation(se,b,rt);re!==null&&(M.startTime=re,z=!0)}}By(t,b);const q=g??t.shouldReduceMotion;w.start(A_(b,w,C,q&&UC.has(b)?{type:!1}:M,t,z));const K=w.animation;K&&v.push(K)}if(u){const b=()=>rt.update(()=>{u&&JU(t,u)});v.length?Promise.all(v).then(b):b()}return v}function Fy(t,e,n={}){const s=pl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(FC(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:_}=a;return n9(t,e,p,g,v,_,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,g]=f==="beforeChildren"?[l,u]:[u,l];return p().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function n9(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),f.push(Fy(p,e,{...u,delay:n+(typeof s=="function"?0:s)+VC(t.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(f)}function i9(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Fy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Fy(t,e,n);else{const a=typeof e=="function"?pl(t,e,n.custom):e;s=Promise.all(FC(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const s9={test:t=>t==="auto",parse:t=>t},qC=t=>e=>e.test(t),HC=[Pl,pe,fs,Rr,j5,D5,s9],ES=t=>HC.find(qC(t));function r9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||sC(t):!0}const a9=new Set(["brightness","contrast","saturate","opacity"]);function o9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(p_)||[];if(!s)return t;const a=n.replace(s,"");let l=a9.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const l9=/\b([a-z-]*)\(.*?\)/gu,qy={...Qr,getAnimatableNone:t=>{const e=t.match(l9);return e?e.map(o9).join(" "):t}},bS={...Pl,transform:Math.round},c9={rotate:Rr,rotateX:Rr,rotateY:Rr,rotateZ:Rr,scale:Lf,scaleX:Lf,scaleY:Lf,scaleZ:Lf,skew:Rr,skewX:Rr,skewY:Rr,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:wu,originX:lS,originY:lS,originZ:pe},R_={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,inset:pe,insetBlock:pe,insetBlockStart:pe,insetBlockEnd:pe,insetInline:pe,insetInlineStart:pe,insetInlineEnd:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,paddingBlock:pe,paddingBlockStart:pe,paddingBlockEnd:pe,paddingInline:pe,paddingInlineStart:pe,paddingInlineEnd:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,marginBlock:pe,marginBlockStart:pe,marginBlockEnd:pe,marginInline:pe,marginInlineStart:pe,marginInlineEnd:pe,fontSize:pe,backgroundPositionX:pe,backgroundPositionY:pe,...c9,zIndex:bS,fillOpacity:wu,strokeOpacity:wu,numOctaves:bS},u9={...R_,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:qy,WebkitFilter:qy},GC=t=>u9[t];function KC(t,e){let n=GC(t);return n!==qy&&(n=Qr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const h9=new Set(["auto","none","0"]);function f9(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!h9.has(l)&&xu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=KC(n,a)}class d9 extends b_{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let _=e[v];if(typeof _=="string"&&(_=_.trim(),m_(_))){const b=OC(_,n.current);b!==void 0&&(e[v]=b),v===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!UC.has(s)||e.length!==2)return;const[a,l]=e,u=ES(a),f=ES(l),p=oS(a),g=oS(l);if(p!==g&&kr[s]){this.needsMeasurement=!0;return}if(u!==f)if(gS(u)&&gS(f))for(let v=0;v<e.length;v++){const _=e[v];typeof _=="string"&&(e[v]=parseFloat(_))}else kr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||r9(e[a]))&&s.push(a);s.length&&f9(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=kr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const m9=new Set(["opacity","clipPath","filter","transform"]);function $C(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(s=>s!=null)}const YC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Hy(t){return iC(t)&&"offsetHeight"in t}const{schedule:C_}=gC(queueMicrotask,!1),wi={x:!1,y:!1};function QC(){return wi.x||wi.y}function p9(t){return t==="x"||t==="y"?wi[t]?null:(wi[t]=!0,()=>{wi[t]=!1}):wi.x||wi.y?null:(wi.x=wi.y=!0,()=>{wi.x=wi.y=!1})}function XC(t,e){const n=$C(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function g9(t){return!(t.pointerType==="touch"||QC())}function y9(t,e,n={}){const[s,a,l]=XC(t,n);return s.forEach(u=>{let f=!1,p=!1,g;const v=()=>{u.removeEventListener("pointerleave",C)},_=k=>{g&&(g(k),g=void 0),v()},b=k=>{f=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),p&&(p=!1,_(k))},w=()=>{f=!0,window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",b,a)},C=k=>{if(k.pointerType!=="touch"){if(f){p=!0;return}_(k)}},M=k=>{if(!g9(k))return;p=!1;const z=e(u,k);typeof z=="function"&&(g=z,u.addEventListener("pointerleave",C,a))};u.addEventListener("pointerenter",M,a),u.addEventListener("pointerdown",w,a)}),l}const WC=(t,e)=>e?t===e?!0:WC(t,e.parentElement):!1,N_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,v9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _9(t){return v9.has(t.tagName)||t.isContentEditable===!0}const T9=new Set(["INPUT","SELECT","TEXTAREA"]);function E9(t){return T9.has(t.tagName)||t.isContentEditable===!0}const ed=new WeakSet;function SS(t){return e=>{e.key==="Enter"&&t(e)}}function Ug(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const b9=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=SS(()=>{if(ed.has(n))return;Ug(n,"down");const a=SS(()=>{Ug(n,"up")}),l=()=>Ug(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function AS(t){return N_(t)&&!QC()}const wS=new WeakSet;function S9(t,e,n={}){const[s,a,l]=XC(t,n),u=f=>{const p=f.currentTarget;if(!AS(f)||wS.has(f))return;ed.add(p),n.stopPropagation&&wS.add(f);const g=e(p,f),v=(w,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),ed.has(p)&&ed.delete(p),AS(w)&&typeof g=="function"&&g(w,{success:C})},_=w=>{v(w,p===window||p===document||n.useGlobalTarget||WC(p,w.target))},b=w=>{v(w,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),Hy(f)&&(f.addEventListener("focus",g=>b9(g,a)),!_9(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function I_(t){return iC(t)&&"ownerSVGElement"in t}const td=new WeakMap;let nd;const JC=(t,e,n)=>(s,a)=>a&&a[0]?a[0][t+"Size"]:I_(s)&&"getBBox"in s?s.getBBox()[e]:s[n],A9=JC("inline","width","offsetWidth"),w9=JC("block","height","offsetHeight");function x9({target:t,borderBoxSize:e}){td.get(t)?.forEach(n=>{n(t,{get width(){return A9(t,e)},get height(){return w9(t,e)}})})}function R9(t){t.forEach(x9)}function C9(){typeof ResizeObserver>"u"||(nd=new ResizeObserver(R9))}function N9(t,e){nd||C9();const n=$C(t);return n.forEach(s=>{let a=td.get(s);a||(a=new Set,td.set(s,a)),a.add(e),nd?.observe(s)}),()=>{n.forEach(s=>{const a=td.get(s);a?.delete(e),a?.size||nd?.unobserve(s)})}}const id=new Set;let rl;function I9(){rl=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};id.forEach(e=>e(t))},window.addEventListener("resize",rl)}function D9(t){return id.add(t),rl||I9(),()=>{id.delete(t),!id.size&&typeof rl=="function"&&(window.removeEventListener("resize",rl),rl=void 0)}}function xS(t,e){return typeof t=="function"?D9(t):N9(t,e)}function j9(t){return I_(t)&&t.tagName==="svg"}const M9=[...HC,Ut,Qr],k9=t=>M9.find(qC(t)),RS=()=>({translate:0,scale:1,origin:0,originPoint:0}),al=()=>({x:RS(),y:RS()}),CS=()=>({min:0,max:0}),Gt=()=>({x:CS(),y:CS()}),P9=new WeakMap;function cm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ru(t){return typeof t=="string"||Array.isArray(t)}const D_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],j_=["initial",...D_];function um(t){return cm(t.animate)||j_.some(e=>Ru(t[e]))}function ZC(t){return!!(um(t)||t.variants)}function V9(t,e,n){for(const s in e){const a=e[s],l=n[s];if(gn(a))t.addValue(s,a);else if(gn(l))t.addValue(s,El(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,El(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Gy={current:null},e2={current:!1},O9=typeof window<"u";function L9(){if(e2.current=!0,!!O9)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gy.current=t.matches;t.addEventListener("change",e),e()}else Gy.current=!1}const NS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Nd={};function t2(t){Nd=t}function U9(){return Nd}class z9{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:f},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=b_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=bn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,rt.render(this.render,!1,!0))};const{latestValues:g,renderState:v}=f;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=v,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=um(n),this.isVariantNode=ZC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in b){const C=b[w];g[w]!==void 0&&gn(C)&&C.set(g[w])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,P9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(e2.current||L9(),this.shouldReduceMotion=Gy.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Yr(this.notifyUpdate),Yr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&m9.has(e)&&this.current instanceof HTMLElement){const{factory:u,keyframes:f,times:p,ease:g,duration:v}=n.accelerate,_=new kC({element:this.current,name:e,keyframes:f,times:p,ease:g,duration:Ni(v)}),b=u(_);this.valueSubscriptions.set(e,()=>{b(),_.cancel()});return}const s=Ol.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&rt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nd){const n=Nd[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<NS.length;s++){const a=NS[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=V9(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=El(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(nC(s)||sC(s))?s=parseFloat(s):!k9(s)&&Qr.test(n)&&(s=KC(e,n)),this.setBaseTarget(e,gn(s)?s.get():s)),gn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=w_(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!gn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new h_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){C_.render(this.render)}}class n2 extends z9{constructor(){super(...arguments),this.KeyframeResolver=d9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ia{constructor(e){this.isMounted=!1,this.node=e}update(){}}function i2({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function B9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function F9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function zg(t){return t===void 0||t===1}function Ky({scale:t,scaleX:e,scaleY:n}){return!zg(t)||!zg(e)||!zg(n)}function La(t){return Ky(t)||s2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function s2(t){return IS(t.x)||IS(t.y)}function IS(t){return t&&t!=="0%"}function Id(t,e,n){const s=t-n,a=e*s;return n+a}function DS(t,e,n,s,a){return a!==void 0&&(t=Id(t,a,s)),Id(t,n,s)+e}function $y(t,e=0,n=1,s,a){t.min=DS(t.min,e,n,s,a),t.max=DS(t.max,e,n,s,a)}function r2(t,{x:e,y:n}){$y(t.x,e.translate,e.scale,e.originPoint),$y(t.y,n.translate,n.scale,n.originPoint)}const jS=.999999999999,MS=1.0000000000001;function q9(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ll(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,r2(t,u)),s&&La(l.latestValues)&&ll(t,l.latestValues))}e.x<MS&&e.x>jS&&(e.x=1),e.y<MS&&e.y>jS&&(e.y=1)}function ol(t,e){t.min=t.min+e,t.max=t.max+e}function kS(t,e,n,s,a=.5){const l=dt(t.min,t.max,a);$y(t,e,n,l,s)}function ll(t,e){kS(t.x,e.x,e.scaleX,e.scale,e.originX),kS(t.y,e.y,e.scaleY,e.scale,e.originY)}function a2(t,e){return i2(F9(t.getBoundingClientRect(),e))}function H9(t,e,n){const s=a2(t,n),{scroll:a}=e;return a&&(ol(s.x,a.offset.x),ol(s.y,a.offset.y)),s}const G9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},K9=Vl.length;function $9(t,e,n){let s="",a=!0;for(let l=0;l<K9;l++){const u=Vl[l],f=t[u];if(f===void 0)continue;let p=!0;if(typeof f=="number")p=f===(u.startsWith("scale")?1:0);else{const g=parseFloat(f);p=u.startsWith("scale")?g===1:g===0}if(!p||n){const g=YC(f,R_[u]);if(!p){a=!1;const v=G9[u]||u;s+=`${v}(${g}) `}n&&(e[u]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function M_(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const p in e){const g=e[p];if(Ol.has(p)){u=!0;continue}else if(vC(p)){a[p]=g;continue}else{const v=YC(g,R_[p]);p.startsWith("origin")?(f=!0,l[p]=v):s[p]=v}}if(e.transform||(u||n?s.transform=$9(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:p="50%",originY:g="50%",originZ:v=0}=l;s.transformOrigin=`${p} ${g} ${v}`}}function o2(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function PS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $c={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const n=PS(t,e.target.x),s=PS(t,e.target.y);return`${n}% ${s}%`}},Y9={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Qr.parse(t);if(a.length>5)return s;const l=Qr.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,p=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=p;const g=dt(f,p,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}},Yy={borderRadius:{...$c,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$c,borderTopRightRadius:$c,borderBottomLeftRadius:$c,borderBottomRightRadius:$c,boxShadow:Y9};function l2(t,{layout:e,layoutId:n}){return Ol.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Yy[t]||t==="opacity")}function k_(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const u in s)(gn(s[u])||a&&gn(a[u])||l2(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function Q9(t){return window.getComputedStyle(t)}class X9 extends n2{constructor(){super(...arguments),this.type="html",this.renderInstance=o2}readValueFromInstance(e,n){if(Ol.has(n))return this.projection?.isProjecting?ky(n):pU(e,n);{const s=Q9(e),a=(vC(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return a2(e,n)}build(e,n,s){M_(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return k_(e,n,s)}}const W9={offset:"stroke-dashoffset",array:"stroke-dasharray"},J9={offset:"strokeDashoffset",array:"strokeDasharray"};function Z9(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?W9:J9;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const ez=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function c2(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},p,g,v){if(M_(t,f,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:b}=t;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=v?.transformBox??"fill-box",delete _.transformBox);for(const w of ez)_[w]!==void 0&&(b[w]=_[w],delete _[w]);e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&Z9(_,a,l,u,!1)}const u2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),h2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tz(t,e,n,s){o2(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(u2.has(a)?a:x_(a),e.attrs[a])}function f2(t,e,n){const s=k_(t,e,n);for(const a in t)if(gn(t[a])||gn(e[a])){const l=Vl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class nz extends n2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ol.has(n)){const s=GC(n);return s&&s.default||0}return n=u2.has(n)?n:x_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return f2(e,n,s)}build(e,n,s){c2(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){tz(e,n,s,a)}mount(e){this.isSVGTag=h2(e.tagName),super.mount(e)}}const iz=j_.length;function d2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?d2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<iz;n++){const s=j_[n],a=t.props[s];(Ru(a)||a===!1)&&(e[s]=a)}return e}function m2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const sz=[...D_].reverse(),rz=D_.length;function az(t){return e=>Promise.all(e.map(({animation:n,options:s})=>i9(t,n,s)))}function oz(t){let e=az(t),n=VS(),s=!0;const a=p=>(g,v)=>{const _=pl(t,v,p==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:b,transitionEnd:w,...C}=_;g={...g,...C,...w}}return g};function l(p){e=p(t)}function u(p){const{props:g}=t,v=d2(t.parent)||{},_=[],b=new Set;let w={},C=1/0;for(let k=0;k<rz;k++){const z=sz[k],q=n[z],K=g[z]!==void 0?g[z]:v[z],se=Ru(K),re=z===p?q.isActive:null;re===!1&&(C=k);let ce=K===v[z]&&K!==g[z]&&se;if(ce&&s&&t.manuallyAnimateOnMount&&(ce=!1),q.protectedKeys={...w},!q.isActive&&re===null||!K&&!q.prevProp||cm(K)||typeof K=="boolean")continue;if(z==="exit"&&q.isActive&&re!==!0){q.prevResolvedValues&&(w={...w,...q.prevResolvedValues});continue}const D=lz(q.prevProp,K);let R=D||z===p&&q.isActive&&!ce&&se||k>C&&se,N=!1;const O=Array.isArray(K)?K:[K];let V=O.reduce(a(z),{});re===!1&&(V={});const{prevResolvedValues:F={}}=q,j={...F,...V},nt=ae=>{R=!0,b.has(ae)&&(N=!0,b.delete(ae)),q.needsAnimating[ae]=!0;const de=t.getValue(ae);de&&(de.liveStyle=!1)};for(const ae in j){const de=V[ae],Ne=F[ae];if(w.hasOwnProperty(ae))continue;let ke=!1;zy(de)&&zy(Ne)?ke=!m2(de,Ne):ke=de!==Ne,ke?de!=null?nt(ae):b.add(ae):de!==void 0&&b.has(ae)?nt(ae):q.protectedKeys[ae]=!0}q.prevProp=K,q.prevResolvedValues=V,q.isActive&&(w={...w,...V}),s&&t.blockInitialAnimation&&(R=!1);const gt=ce&&D;R&&(!gt||N)&&_.push(...O.map(ae=>{const de={type:z};if(typeof ae=="string"&&s&&!gt&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ne}=t,ke=pl(Ne,ae);if(Ne.enteringChildren&&ke){const{delayChildren:U}=ke.transition||{};de.delay=VC(Ne.enteringChildren,t,U)}}return{animation:ae,options:de}}))}if(b.size){const k={};if(typeof g.initial!="boolean"){const z=pl(t,Array.isArray(g.initial)?g.initial[0]:g.initial);z&&z.transition&&(k.transition=z.transition)}b.forEach(z=>{const q=t.getBaseTarget(z),K=t.getValue(z);K&&(K.liveStyle=!0),k[z]=q??null}),_.push({animation:k})}let M=!!_.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(M=!1),s=!1,M?e(_):Promise.resolve()}function f(p,g){if(n[p].isActive===g)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(p,g)),n[p].isActive=g;const v=u(p);for(const _ in n)n[_].protectedKeys={};return v}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=VS()}}}function lz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!m2(e,t):!1}function Va(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VS(){return{animate:Va(!0),whileInView:Va(),whileHover:Va(),whileTap:Va(),whileDrag:Va(),whileFocus:Va(),exit:Va()}}function OS(t,e){t.min=e.min,t.max=e.max}function Ai(t,e){OS(t.x,e.x),OS(t.y,e.y)}function LS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const p2=1e-4,cz=1-p2,uz=1+p2,g2=.01,hz=0-g2,fz=0+g2;function Sn(t){return t.max-t.min}function dz(t,e,n){return Math.abs(t-e)<=n}function US(t,e,n,s=.5){t.origin=s,t.originPoint=dt(e.min,e.max,t.origin),t.scale=Sn(n)/Sn(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=cz&&t.scale<=uz||isNaN(t.scale))&&(t.scale=1),(t.translate>=hz&&t.translate<=fz||isNaN(t.translate))&&(t.translate=0)}function uu(t,e,n,s){US(t.x,e.x,n.x,s?s.originX:void 0),US(t.y,e.y,n.y,s?s.originY:void 0)}function zS(t,e,n){t.min=n.min+e.min,t.max=t.min+Sn(e)}function mz(t,e,n){zS(t.x,e.x,n.x),zS(t.y,e.y,n.y)}function BS(t,e,n){t.min=e.min-n.min,t.max=t.min+Sn(e)}function Dd(t,e,n){BS(t.x,e.x,n.x),BS(t.y,e.y,n.y)}function FS(t,e,n,s,a){return t-=e,t=Id(t,1/n,s),a!==void 0&&(t=Id(t,1/a,s)),t}function pz(t,e=0,n=1,s=.5,a,l=t,u=t){if(fs.test(e)&&(e=parseFloat(e),e=dt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=dt(l.min,l.max,s);t===l&&(f-=e),t.min=FS(t.min,e,n,f,a),t.max=FS(t.max,e,n,f,a)}function qS(t,e,[n,s,a],l,u){pz(t,e[n],e[s],e[a],e.scale,l,u)}const gz=["x","scaleX","originX"],yz=["y","scaleY","originY"];function HS(t,e,n,s){qS(t.x,e,gz,n?n.x:void 0,s?s.x:void 0),qS(t.y,e,yz,n?n.y:void 0,s?s.y:void 0)}function GS(t){return t.translate===0&&t.scale===1}function y2(t){return GS(t.x)&&GS(t.y)}function KS(t,e){return t.min===e.min&&t.max===e.max}function vz(t,e){return KS(t.x,e.x)&&KS(t.y,e.y)}function $S(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function v2(t,e){return $S(t.x,e.x)&&$S(t.y,e.y)}function YS(t){return Sn(t.x)/Sn(t.y)}function QS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function ns(t){return[t("x"),t("y")]}function _z(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:_,rotateY:b,skewX:w,skewY:C}=n;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),_&&(s+=`rotateX(${_}deg) `),b&&(s+=`rotateY(${b}deg) `),w&&(s+=`skewX(${w}deg) `),C&&(s+=`skewY(${C}deg) `)}const f=t.x.scale*e.x,p=t.y.scale*e.y;return(f!==1||p!==1)&&(s+=`scale(${f}, ${p})`),s||"none"}const _2=["TopLeft","TopRight","BottomLeft","BottomRight"],Tz=_2.length,XS=t=>typeof t=="string"?parseFloat(t):t,WS=t=>typeof t=="number"||pe.test(t);function Ez(t,e,n,s,a,l){a?(t.opacity=dt(0,n.opacity??1,bz(s)),t.opacityExit=dt(e.opacity??1,0,Sz(s))):l&&(t.opacity=dt(e.opacity??1,n.opacity??1,s));for(let u=0;u<Tz;u++){const f=`border${_2[u]}Radius`;let p=JS(e,f),g=JS(n,f);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||WS(p)===WS(g)?(t[f]=Math.max(dt(XS(p),XS(g),s),0),(fs.test(g)||fs.test(p))&&(t[f]+="%")):t[f]=g}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,s))}function JS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bz=T2(0,.5,fC),Sz=T2(.5,.95,hi);function T2(t,e,n){return s=>s<t?0:s>e?1:n(Au(t,e,s))}function Az(t,e,n){const s=gn(t)?t:El(t);return s.start(A_("",s,e,n)),s.animation}function Cu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const wz=(t,e)=>t.depth-e.depth;class xz{constructor(){this.children=[],this.isDirty=!1}add(e){l_(this.children,e),this.isDirty=!0}remove(e){wd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wz),this.isDirty=!1,this.children.forEach(e)}}function Rz(t,e){const n=bn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Yr(s),t(l-e))};return rt.setup(s,!0),()=>Yr(s)}function sd(t){return gn(t)?t.get():t}class Cz{constructor(){this.members=[]}add(e){l_(this.members,e);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===e||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&wd(this.members,s)}e.scheduleRender()}remove(e){if(wd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a],u=l.instance;if(l.isPresent!==!1&&(!u||u.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const a=s.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const p=s.instance;p&&p.isConnected===!1&&!s.snapshot||(e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:f}=e.options;f===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Bg=["","X","Y","Z"],Nz=1e3;let Iz=0;function Fg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function E2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=BC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&E2(s)}function b2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=Iz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Mz),this.nodes.forEach(Oz),this.nodes.forEach(Lz),this.nodes.forEach(kz)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new xz)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new h_),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const p=this.eventHandlers.get(u);p&&p.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=I_(u)&&!j9(u),this.instance=u;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),t){let v,_=0;const b=()=>this.root.updateBlockedByResize=!1;rt.read(()=>{_=window.innerWidth}),t(u,()=>{const w=window.innerWidth;w!==_&&(_=w,this.root.updateBlockedByResize=!0,v&&v(),v=Rz(b,250),rd.hasAnimatedSinceResize&&(rd.hasAnimatedSinceResize=!1,this.nodes.forEach(tA)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||qz,{onLayoutAnimationStart:M,onLayoutAnimationComplete:k}=g.getProps(),z=!this.targetLayout||!v2(this.targetLayout,w),q=!_&&b;if(this.options.layoutRoot||this.resumeFrom||q||_&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...S_(C,"layout"),onPlay:M,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(v,q)}else _||tA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Yr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Uz),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&E2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(eA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Vz),this.nodes.forEach(Dz),this.nodes.forEach(jz)):this.nodes.forEach(eA),this.clearAllSnapshots();const f=bn.now();an.delta=ms(0,1e3/60,f-an.timestamp),an.timestamp=f,an.isProcessing=!0,Mg.update.process(an),Mg.preRender.process(an),Mg.render.process(an),an.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,C_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Pz),this.sharedNodes.forEach(zz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Sn(this.snapshot.measuredBox.x)&&!Sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!y2(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;u&&this.instance&&(f||La(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return u&&(p=this.removeTransform(p)),Hz(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Gt();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Gz))){const{scroll:g}=this.root;g&&(ol(f.x,g.offset.x),ol(f.y,g.offset.y))}return f}removeElementScroll(u){const f=Gt();if(Ai(f,u),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:_}=g;g!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&Ai(f,u),ol(f.x,v.offset.x),ol(f.y,v.offset.y))}return f}applyTransform(u,f=!1){const p=Gt();Ai(p,u);for(let g=0;g<this.path.length;g++){const v=this.path[g];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&ll(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),La(v.latestValues)&&ll(p,v.latestValues)}return La(this.latestValues)&&ll(p,this.latestValues),p}removeTransform(u){const f=Gt();Ai(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!La(g.latestValues))continue;Ky(g.latestValues)&&g.updateSnapshot();const v=Gt(),_=g.measurePageBox();Ai(v,_),HS(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return La(this.latestValues)&&HS(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==an.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!this.layout||!(v||_))return;this.resolvedRelativeTargetAt=an.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ai(this.target,this.layout.layoutBox),r2(this.target,this.targetDelta)):Ai(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ky(this.parent.latestValues)||s2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,p){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),Dd(this.relativeTargetOrigin,f,p),Ai(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===an.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Ai(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;q9(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Gt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(LS(this.prevProjectionDelta.x,this.projectionDelta.x),LS(this.prevProjectionDelta.y,this.projectionDelta.y)),uu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!QS(this.projectionDelta.x,this.prevProjectionDelta.x)||!QS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=al(),this.projectionDelta=al(),this.projectionDeltaWithTransform=al()}setAnimationOrigin(u,f=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},_=al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=Gt(),w=p?p.source:void 0,C=this.layout?this.layout.source:void 0,M=w!==C,k=this.getStack(),z=!k||k.members.length<=1,q=!!(M&&!z&&this.options.crossfade===!0&&!this.path.some(Fz));this.animationProgress=0;let K;this.mixTargetDelta=se=>{const re=se/1e3;nA(_.x,u.x,re),nA(_.y,u.y,re),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Bz(this.relativeTarget,this.relativeTargetOrigin,b,re),K&&vz(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=Gt()),Ai(K,this.relativeTarget)),M&&(this.animationValues=v,Ez(v,g,this.latestValues,re,q,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Yr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{rd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=El(0)),this.currentAnimation=Az(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Nz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:p,layout:g,latestValues:v}=u;if(!(!f||!p||!g)){if(this!==u&&this.layout&&g&&S2(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Gt();const _=Sn(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+_;const b=Sn(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+b}Ai(f,p),ll(f,v),uu(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Cz),this.sharedNodes.get(u).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const g={};p.z&&Fg("z",u,g,this.animationValues);for(let v=0;v<Bg.length;v++)Fg(`rotate${Bg[v]}`,u,g,this.animationValues),Fg(`skew${Bg[v]}`,u,g,this.animationValues);u.render();for(const v in g)u.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=sd(f?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=sd(f?.pointerEvents)||""),this.hasProjected&&!La(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=_z(this.projectionDeltaWithTransform,this.treeScale,v);p&&(_=p(v,_)),u.transform=_;const{x:b,y:w}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,g.animationValues?u.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const C in Yy){if(v[C]===void 0)continue;const{correct:M,applyTo:k,isCSSVariable:z}=Yy[C],q=_==="none"?v[C]:M(v[C],g);if(k){const K=k.length;for(let se=0;se<K;se++)u[k[se]]=q}else z?this.options.visualElement.renderState.vars[C]=q:u[C]=q}this.options.layoutId&&(u.pointerEvents=g===this?sd(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(ZS),this.root.sharedNodes.clear()}}}function Dz(t){t.updateLayout()}function jz(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ns(v=>{const _=l?e.measuredBox[v]:e.layoutBox[v],b=Sn(_);_.min=n[v].min,_.max=_.min+b}):S2(a,e.layoutBox,n)&&ns(v=>{const _=l?e.measuredBox[v]:e.layoutBox[v],b=Sn(n[v]);_.max=_.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+b)});const u=al();uu(u,n,e.layoutBox);const f=al();l?uu(f,t.applyTransform(s,!0),e.measuredBox):uu(f,n,e.layoutBox);const p=!y2(u);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:b}=v;if(_&&b){const w=Gt();Dd(w,e.layoutBox,_.layoutBox);const C=Gt();Dd(C,n,b.layoutBox),v2(w,C)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=w,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Mz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Pz(t){t.clearSnapshot()}function ZS(t){t.clearMeasurements()}function eA(t){t.isLayoutDirty=!1}function Vz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Oz(t){t.resolveTargetDelta()}function Lz(t){t.calcProjection()}function Uz(t){t.resetSkewAndRotation()}function zz(t){t.removeLeadSnapshot()}function nA(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iA(t,e,n,s){t.min=dt(e.min,n.min,s),t.max=dt(e.max,n.max,s)}function Bz(t,e,n,s){iA(t.x,e.x,n.x,s),iA(t.y,e.y,n.y,s)}function Fz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const qz={duration:.45,ease:[.4,0,.1,1]},sA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),rA=sA("applewebkit/")&&!sA("chrome/")?Math.round:hi;function aA(t){t.min=rA(t.min),t.max=rA(t.max)}function Hz(t){aA(t.x),aA(t.y)}function S2(t,e,n){return t==="position"||t==="preserve-aspect"&&!dz(YS(e),YS(n),.2)}function Gz(t){return t!==t.root&&t.scroll?.wasRoot}const Kz=b2({attachResizeListener:(t,e)=>Cu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),qg={current:void 0},A2=b2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qg.current){const t=new Kz({});t.mount(window),t.setOptions({layoutScroll:!0}),qg.current=t}return qg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),P_=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function oA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $z(...t){return e=>{let n=!1;const s=t.map(a=>{const l=oA(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():oA(t[a],null)}}}}function Yz(...t){return I.useCallback($z(...t),t)}class Qz extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,a=Hy(s)&&s.offsetWidth||0,l=Hy(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Xz({children:t,isPresent:e,anchorX:n,anchorY:s,root:a,pop:l}){const u=I.useId(),f=I.useRef(null),p=I.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=I.useContext(P_),v=t.props?.ref??t?.ref,_=Yz(f,v);return I.useInsertionEffect(()=>{const{width:b,height:w,top:C,left:M,right:k,bottom:z}=p.current;if(e||l===!1||!f.current||!b||!w)return;const q=n==="left"?`left: ${M}`:`right: ${k}`,K=s==="bottom"?`bottom: ${z}`:`top: ${C}`;f.current.dataset.motionPopId=u;const se=document.createElement("style");g&&(se.nonce=g);const re=a??document.head;return re.appendChild(se),se.sheet&&se.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${w}px !important;
            ${q}px !important;
            ${K}px !important;
          }
        `),()=>{re.contains(se)&&re.removeChild(se)}},[e]),d.jsx(Qz,{isPresent:e,childRef:f,sizeRef:p,pop:l,children:l===!1?t:I.cloneElement(t,{ref:_})})}const Wz=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,anchorY:p,root:g})=>{const v=o_(Jz),_=I.useId();let b=!0,w=I.useMemo(()=>(b=!1,{id:_,initial:e,isPresent:n,custom:a,onExitComplete:C=>{v.set(C,!0);for(const M of v.values())if(!M)return;s&&s()},register:C=>(v.set(C,!1),()=>v.delete(C))}),[n,v,s]);return l&&b&&(w={...w}),I.useMemo(()=>{v.forEach((C,M)=>v.set(M,!1))},[n]),I.useEffect(()=>{!n&&!v.size&&s&&s()},[n]),t=d.jsx(Xz,{pop:u==="popLayout",isPresent:n,anchorX:f,anchorY:p,root:g,children:t}),d.jsx(lm.Provider,{value:w,children:t})};function Jz(){return new Map}function w2(t=!0){const e=I.useContext(lm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=I.useId();I.useEffect(()=>{if(t)return a(l)},[t]);const u=I.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Uf=t=>t.key||"";function lA(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const sa=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",anchorY:p="top",root:g})=>{const[v,_]=w2(u),b=I.useMemo(()=>lA(t),[t]),w=u&&!v?[]:b.map(Uf),C=I.useRef(!0),M=I.useRef(b),k=o_(()=>new Map),z=I.useRef(new Set),[q,K]=I.useState(b),[se,re]=I.useState(b);tC(()=>{C.current=!1,M.current=b;for(let R=0;R<se.length;R++){const N=Uf(se[R]);w.includes(N)?(k.delete(N),z.current.delete(N)):k.get(N)!==!0&&k.set(N,!1)}},[se,w.length,w.join("-")]);const ce=[];if(b!==q){let R=[...b];for(let N=0;N<se.length;N++){const O=se[N],V=Uf(O);w.includes(V)||(R.splice(N,0,O),ce.push(O))}return l==="wait"&&ce.length&&(R=ce),re(lA(R)),K(b),null}const{forceRender:D}=I.useContext(a_);return d.jsx(d.Fragment,{children:se.map(R=>{const N=Uf(R),O=u&&!v?!1:b===se||w.includes(N),V=()=>{if(z.current.has(N))return;if(z.current.add(N),k.has(N))k.set(N,!0);else return;let F=!0;k.forEach(j=>{j||(F=!1)}),F&&(D?.(),re(M.current),u&&_?.(),s&&s())};return d.jsx(Wz,{isPresent:O,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:g,onExitComplete:O?void 0:V,anchorX:f,anchorY:p,children:R},N)})})},x2=I.createContext({strict:!1}),cA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let uA=!1;function Zz(){if(uA)return;const t={};for(const e in cA)t[e]={isEnabled:n=>cA[e].some(s=>!!n[s])};t2(t),uA=!0}function R2(){return Zz(),U9()}function eB(t){const e=R2();for(const n in t)e[n]={...e[n],...t[n]};t2(e)}const tB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function jd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||tB.has(t)}let C2=t=>!jd(t);function nB(t){typeof t=="function"&&(C2=e=>e.startsWith("on")?!jd(e):t(e))}try{nB(require("@emotion/is-prop-valid").default)}catch{}function iB(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(C2(a)||n===!0&&jd(a)||!e&&!jd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const hm=I.createContext({});function sB(t,e){if(um(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Ru(n)?n:void 0,animate:Ru(s)?s:void 0}}return t.inherit!==!1?e:{}}function rB(t){const{initial:e,animate:n}=sB(t,I.useContext(hm));return I.useMemo(()=>({initial:e,animate:n}),[hA(e),hA(n)])}function hA(t){return Array.isArray(t)?t.join(" "):t}const V_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function N2(t,e,n){for(const s in e)!gn(e[s])&&!l2(s,n)&&(t[s]=e[s])}function aB({transformTemplate:t},e){return I.useMemo(()=>{const n=V_();return M_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function oB(t,e){const n=t.style||{},s={};return N2(s,n,t),Object.assign(s,aB(t,e)),s}function lB(t,e){const n={},s=oB(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const I2=()=>({...V_(),attrs:{}});function cB(t,e,n,s){const a=I.useMemo(()=>{const l=I2();return c2(l,e,h2(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};N2(l,t.style,t),a.style={...l,...a.style}}return a}const uB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function O_(t){return typeof t!="string"||t.includes("-")?!1:!!(uB.indexOf(t)>-1||/[A-Z]/u.test(t))}function hB(t,e,n,{latestValues:s},a,l=!1,u){const p=(u??O_(t)?cB:lB)(e,s,a,t),g=iB(e,typeof t=="string",l),v=t!==I.Fragment?{...g,...p,ref:n}:{},{children:_}=e,b=I.useMemo(()=>gn(_)?_.get():_,[_]);return I.createElement(t,{...v,children:b})}function fB({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:dB(n,s,a,t),renderState:e()}}function dB(t,e,n,s){const a={},l=s(t,{});for(const b in l)a[b]=sd(l[b]);let{initial:u,animate:f}=t;const p=um(t),g=ZC(t);e&&g&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const _=v?f:u;if(_&&typeof _!="boolean"&&!cm(_)){const b=Array.isArray(_)?_:[_];for(let w=0;w<b.length;w++){const C=w_(t,b[w]);if(C){const{transitionEnd:M,transition:k,...z}=C;for(const q in z){let K=z[q];if(Array.isArray(K)){const se=v?K.length-1:0;K=K[se]}K!==null&&(a[q]=K)}for(const q in M)a[q]=M[q]}}}return a}const D2=t=>(e,n)=>{const s=I.useContext(hm),a=I.useContext(lm),l=()=>fB(t,e,s,a);return n?l():o_(l)},mB=D2({scrapeMotionValuesFromProps:k_,createRenderState:V_}),pB=D2({scrapeMotionValuesFromProps:f2,createRenderState:I2}),gB=Symbol.for("motionComponentSymbol");function yB(t,e,n){const s=I.useRef(n);I.useInsertionEffect(()=>{s.current=n});const a=I.useRef(null);return I.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const f=u(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const j2=I.createContext({});function nl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vB(t,e,n,s,a,l){const{visualElement:u}=I.useContext(hm),f=I.useContext(x2),p=I.useContext(lm),g=I.useContext(P_),v=g.reducedMotion,_=g.skipAnimations,b=I.useRef(null),w=I.useRef(!1);s=s||f.renderer,!b.current&&s&&(b.current=s(t,{visualState:e,parent:u,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:v,skipAnimations:_,isSVG:l}),w.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const C=b.current,M=I.useContext(j2);C&&!C.projection&&a&&(C.type==="html"||C.type==="svg")&&_B(b.current,n,a,M);const k=I.useRef(!1);I.useInsertionEffect(()=>{C&&k.current&&C.update(n,p)});const z=n[zC],q=I.useRef(!!z&&!window.MotionHandoffIsComplete?.(z)&&window.MotionHasOptimisedAnimation?.(z));return tC(()=>{w.current=!0,C&&(k.current=!0,window.MotionIsMounted=!0,C.updateFeatures(),C.scheduleRenderMicrotask(),q.current&&C.animationState&&C.animationState.animateChanges())}),I.useEffect(()=>{C&&(!q.current&&C.animationState&&C.animationState.animateChanges(),q.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(z)}),q.current=!1),C.enteringChildren=void 0)}),C}function _B(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:M2(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&nl(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:p,layoutRoot:g})}function M2(t){if(t)return t.options.allowProjection!==!1?t.projection:M2(t.parent)}function Hg(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&eB(s);const l=n?n==="svg":O_(t),u=l?pB:mB;function f(g,v){let _;const b={...I.useContext(P_),...g,layoutId:TB(g)},{isStatic:w}=b,C=rB(g),M=u(g,w);if(!w&&eC){EB();const k=bB(b);_=k.MeasureLayout,C.visualElement=vB(t,M,b,a,k.ProjectionNode,l)}return d.jsxs(hm.Provider,{value:C,children:[_&&C.visualElement?d.jsx(_,{visualElement:C.visualElement,...b}):null,hB(t,g,yB(M,C.visualElement,v),M,w,e,l)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const p=I.forwardRef(f);return p[gB]=t,p}function TB({layoutId:t}){const e=I.useContext(a_).id;return e&&t!==void 0?e+"-"+t:t}function EB(t,e){I.useContext(x2).strict}function bB(t){const e=R2(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function SB(t,e){if(typeof Proxy>"u")return Hg;const n=new Map,s=(l,u)=>Hg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Hg(u,void 0,t,e)),n.get(u))})}const AB=(t,e)=>e.isSVG??O_(t)?new nz(e):new X9(e,{allowProjection:t!==I.Fragment});class wB extends ia{constructor(e){super(e),e.animationState||(e.animationState=oz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();cm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let xB=0;class RB extends ia{constructor(){super(...arguments),this.id=xB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const CB={animation:{Feature:wB},exit:{Feature:RB}};function Xu(t){return{point:{x:t.pageX,y:t.pageY}}}const NB=t=>e=>N_(e)&&t(e,Xu(e));function hu(t,e,n,s){return Cu(t,e,NB(n),s)}const k2=({current:t})=>t?t.ownerDocument.defaultView:null,fA=(t,e)=>Math.abs(t-e);function IB(t,e){const n=fA(t.x,e.x),s=fA(t.y,e.y);return Math.sqrt(n**2+s**2)}const dA=new Set(["auto","scroll"]);class P2{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Kg(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,M=IB(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!M)return;const{point:k}=w,{timestamp:z}=an;this.history.push({...k,timestamp:z});const{onStart:q,onMove:K}=this.handlers;C||(q&&q(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,w)},this.handlePointerMove=(w,C)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Gg(C,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(w,C)=>{this.end();const{onEnd:M,onSessionEnd:k,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=Kg(w.type==="pointercancel"?this.lastMoveEventInfo:Gg(C,this.transformPagePoint),this.history);this.startEvent&&M&&M(w,q),k&&k(w,q)},!N_(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const p=Xu(e),g=Gg(p,this.transformPagePoint),{point:v}=g,{timestamp:_}=an;this.history=[{...v,timestamp:_}];const{onSessionStart:b}=n;b&&b(e,Kg(g,this.history)),this.removeListeners=$u(hu(this.contextWindow,"pointermove",this.handlePointerMove),hu(this.contextWindow,"pointerup",this.handlePointerUp),hu(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(dA.has(s.overflowX)||dA.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),rt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Yr(this.updatePoint)}}function Gg(t,e){return e?{point:e(t.point)}:t}function mA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Kg({point:t},e){return{point:t,delta:mA(t,V2(e)),offset:mA(t,DB(e)),velocity:jB(e,.1)}}function DB(t){return t[0]}function V2(t){return t[t.length-1]}function jB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=V2(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Ni(e)));)n--;if(!s)return{x:0,y:0};s===t[0]&&t.length>2&&a.timestamp-s.timestamp>Ni(e)*2&&(s=t[1]);const l=li(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function MB(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?dt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?dt(n,t,s.max):Math.min(t,n)),t}function pA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function kB(t,{top:e,left:n,bottom:s,right:a}){return{x:pA(t.x,n,a),y:pA(t.y,e,s)}}function gA(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function PB(t,e){return{x:gA(t.x,e.x),y:gA(t.y,e.y)}}function VB(t,e){let n=.5;const s=Sn(t),a=Sn(e);return a>s?n=Au(e.min,e.max-s,t.min):s>a&&(n=Au(t.min,t.max-a,e.min)),ms(0,1,n)}function OB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Qy=.35;function LB(t=Qy){return t===!1?t=0:t===!0&&(t=Qy),{x:yA(t,"left","right"),y:yA(t,"top","bottom")}}function yA(t,e,n){return{min:vA(t,e),max:vA(t,n)}}function vA(t,e){return typeof t=="number"?t:t[e]||0}const UB=new WeakMap;class zB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{n&&this.snapToCursor(Xu(_).point),this.stopAnimation()},u=(_,b)=>{const{drag:w,dragPropagation:C,onDragStart:M}=this.getProps();if(w&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=p9(w),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ns(z=>{let q=this.getAxisMotionValue(z).get()||0;if(fs.test(q)){const{projection:K}=this.visualElement;if(K&&K.layout){const se=K.layout.layoutBox[z];se&&(q=Sn(se)*(parseFloat(q)/100))}}this.originPoint[z]=q}),M&&rt.update(()=>M(_,b),!1,!0),By(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},f=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:C,onDirectionLock:M,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:z}=b;if(C&&this.currentDirection===null){this.currentDirection=FB(z),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",b.point,z),this.updateAxis("y",b.point,z),this.visualElement.render(),k&&rt.update(()=>k(_,b),!1,!0)},p=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b,this.stop(_,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:_}=this.getProps();(_||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new P2(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:k2(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&rt.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!zf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=MB(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&nl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=kB(s.layoutBox,e):this.constraints=!1,this.elastic=LB(n),a!==this.constraints&&!nl(e)&&s&&this.constraints&&!this.hasMutatedConstraints&&ns(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=OB(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!nl(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=H9(s,a.root,this.visualElement.getTransformPagePoint());let u=PB(a.layout.layoutBox,l);if(n){const f=n(B9(u));this.hasMutatedConstraints=!!f,f&&(u=i2(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},g=ns(v=>{if(!zf(v,n,this.currentDirection))return;let _=p&&p[v]||{};u&&(_={min:0,max:0});const b=a?200:1e6,w=a?40:1e7,C={type:"inertia",velocity:s?e[v]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(v,C)});return Promise.all(g).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return By(this.visualElement,e),s.start(A_(e,s,0,n,this.visualElement,!1))}stopAnimation(){ns(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ns(n=>{const{drag:s}=this.getProps();if(!zf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n],p=l.get()||0;l.set(e[n]-dt(u,f,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!nl(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ns(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const p=f.get();a[u]=VB({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),ns(u=>{if(!zf(u,e,null))return;const f=this.getAxisMotionValue(u),{min:p,max:g}=this.constraints[u];f.set(dt(p,g,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;UB.set(this.visualElement,this);const e=this.visualElement.current,n=hu(e,"pointerdown",g=>{const{drag:v,dragListener:_=!0}=this.getProps(),b=g.target,w=b!==e&&E9(b);v&&_&&!w&&this.start(g)});let s;const a=()=>{const{dragConstraints:g}=this.getProps();nl(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),s||(s=BB(e,g.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),rt.read(a);const f=Cu(window,"resize",()=>this.scalePositionWithinConstraints()),p=l.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:v})=>{this.isDragging&&v&&(ns(_=>{const b=this.getAxisMotionValue(_);b&&(this.originPoint[_]+=g[_].translate,b.set(b.get()+g[_].translate))}),this.visualElement.render())}));return()=>{f(),n(),u(),p&&p(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Qy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function _A(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function BB(t,e,n){const s=xS(t,_A(n)),a=xS(e,_A(n));return()=>{s(),a()}}function zf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function FB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qB extends ia{constructor(e){super(e),this.removeGroupControls=hi,this.removeListeners=hi,this.controls=new zB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const $g=t=>(e,n)=>{t&&rt.update(()=>t(e,n),!1,!0)};class HB extends ia{constructor(){super(...arguments),this.removePointerDownListener=hi}onPointerDown(e){this.session=new P2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:k2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:$g(e),onStart:$g(n),onMove:$g(s),onEnd:(l,u)=>{delete this.session,a&&rt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=hu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Yg=!1;class GB extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Yg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,e.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),Yg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||rt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),C_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Yg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function O2(t){const[e,n]=w2(),s=I.useContext(a_);return d.jsx(GB,{...t,layoutGroup:s,switchLayoutGroup:I.useContext(j2),isPresent:e,safeToRemove:n})}const KB={pan:{Feature:HB},drag:{Feature:qB,ProjectionNode:A2,MeasureLayout:O2}};function TA(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&rt.postRender(()=>l(e,Xu(e)))}class $B extends ia{mount(){const{current:e}=this.node;e&&(this.unmount=y9(e,(n,s)=>(TA(this.node,s,"Start"),a=>TA(this.node,a,"End"))))}unmount(){}}class YB extends ia{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$u(Cu(this.node.current,"focus",()=>this.onFocus()),Cu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function EA(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&rt.postRender(()=>l(e,Xu(e)))}class QB extends ia{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=S9(e,(a,l)=>(EA(this.node,l,"Start"),(u,{success:f})=>EA(this.node,u,f?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:s?.tap===!1})}unmount(){}}const Xy=new WeakMap,Qg=new WeakMap,XB=t=>{const e=Xy.get(t.target);e&&e(t)},WB=t=>{t.forEach(XB)};function JB({root:t,...e}){const n=t||document;Qg.has(n)||Qg.set(n,{});const s=Qg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(WB,{root:t,...e})),s[a]}function ZB(t,e,n){const s=JB(e);return Xy.set(t,n),s.observe(t),()=>{Xy.delete(t),s.unobserve(t)}}const e8={some:0,all:1};class t8 extends ia{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:e8[a]},f=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),b=g?v:_;b&&b(p)};return ZB(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(n8(e,n))&&this.startObserver()}unmount(){}}function n8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const i8={inView:{Feature:t8},tap:{Feature:QB},focus:{Feature:YB},hover:{Feature:$B}},s8={layout:{ProjectionNode:A2,MeasureLayout:O2}},r8={...CB,...i8,...KB,...s8},Ri=SB(r8,AB),Jt=(t,e={})=>{const[n,s]=I.useState([]),[a,l]=I.useState(!0),[u,f]=I.useState(null);return I.useEffect(()=>{let p=Fn(qe,t);e.where&&(p=Jb(p,Y3(...e.where))),e.orderBy&&(p=Jb(p,Q3(...e.orderBy)));const g=W3(p,v=>{const _=[];v.forEach(b=>{_.push({id:b.id,...b.data()})}),s(_),l(!1)},v=>{f(v),l(!1)});return()=>g()},[t,JSON.stringify(e)]),{data:n,loading:a,error:u}},a8=()=>{const{data:t,loading:e}=Jt("hero_slides",{where:["active","==",!0]}),[n,s]=I.useState(0);I.useEffect(()=>{if(t.length>0){const f=setInterval(()=>{s(p=>(p+1)%t.length)},5e3);return()=>clearInterval(f)}},[t.length]);const a=()=>{s(f=>(f+1)%t.length)},l=()=>{s(f=>(f-1+t.length)%t.length)};if(e)return d.jsx("div",{className:"hero-skeleton"});if(t.length===0)return d.jsxs("div",{className:"hero-fallback",children:[d.jsx("h1",{children:"Explore Africa with Akothee Safaris"}),d.jsx("p",{children:"Your dream destination awaits"})]});const u=t[n];return d.jsxs("section",{className:"hero",children:[d.jsx(sa,{mode:"wait",children:d.jsx(Ri.div,{className:"hero-slide",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.8},style:{backgroundImage:`linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.5)), url(${u.image})`},children:d.jsxs("div",{className:"hero-content",children:[d.jsx(Ri.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:u.title}),d.jsx(Ri.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:u.subtitle}),d.jsx(Ri.button,{className:"btn btn-primary",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},onClick:()=>u.ctaLink&&(window.location.href=u.ctaLink),children:u.ctaText||"Explore Now"})]})},u.id)}),t.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"hero-nav prev",onClick:l,children:d.jsx(fj,{size:32})}),d.jsx("button",{className:"hero-nav next",onClick:a,children:d.jsx(qA,{size:32})}),d.jsx("div",{className:"hero-dots",children:t.map((f,p)=>d.jsx("span",{className:`dot ${p===n?"active":""}`,onClick:()=>s(p)},p))})]})]})},o8=()=>{const t=wl(),[e,n]=I.useState({type:"Packages",destination:"",date:"",pax:"1",price:"500000"}),s=l=>{const{name:u,value:f}=l.target;n(p=>({...p,[u]:f}))},a=l=>{l.preventDefault();const u=new URLSearchParams(e).toString();t(`/destinations?${u}`)};return d.jsxs("form",{className:"search-bar",onSubmit:a,children:[d.jsxs("div",{className:"search-field",children:[d.jsxs("label",{children:[d.jsx(Xr,{size:16})," Service Type"]}),d.jsxs("select",{name:"type",value:e.type,onChange:s,children:[d.jsx("option",{children:"Packages"}),d.jsx("option",{children:"Hotels"}),d.jsx("option",{children:"Flights"}),d.jsx("option",{children:"Visas"}),d.jsx("option",{children:"Transfers"})]})]}),d.jsxs("div",{className:"search-field",children:[d.jsxs("label",{children:[d.jsx(xl,{size:16})," Destination"]}),d.jsx("input",{type:"text",name:"destination",placeholder:"Where to?",value:e.destination,onChange:s})]}),d.jsxs("div",{className:"search-field",children:[d.jsxs("label",{children:[d.jsx(Du,{size:16})," Date"]}),d.jsx("input",{type:"date",name:"date",value:e.date,onChange:s})]}),d.jsxs("div",{className:"search-field",children:[d.jsxs("label",{children:[d.jsx(Od,{size:16})," Pax"]}),d.jsx("input",{type:"number",name:"pax",min:"1",value:e.pax,onChange:s})]}),d.jsxs("div",{className:"search-field",children:[d.jsxs("label",{children:[d.jsx(KA,{size:16})," Max Price"]}),d.jsx("input",{type:"range",name:"price",min:"1000",max:"1000000",step:"1000",value:e.price,onChange:s}),d.jsxs("span",{className:"price-display",children:["KES ",Number(e.price).toLocaleString()]})]}),d.jsx("button",{type:"submit",className:"search-submit",children:"Search"})]})},L_=({item:t})=>d.jsxs("div",{className:"dest-card",children:[d.jsxs("div",{className:"dest-image-container",children:[d.jsx("img",{src:t.images?.[0]||"https://via.placeholder.com/400x300?text=No+Image",alt:t.name}),t.type==="hot_deal"&&d.jsxs("div",{className:"hot-badge",children:[d.jsx(Cj,{size:14})," Hot Deal"]})]}),d.jsxs("div",{className:"dest-info",children:[d.jsx("h3",{children:t.name}),d.jsxs("div",{className:"dest-meta",children:[d.jsxs("span",{children:[d.jsx(xl,{size:14})," ",t.destination]}),d.jsxs("span",{children:[d.jsx(Od,{size:14})," ",t.pax," Pax"]})]}),d.jsxs("div",{className:"dest-footer",children:[d.jsx("span",{className:"price",children:t.displayPrice}),d.jsx("button",{className:"view-btn",children:"View Details"})]})]})]}),l8=()=>{const{data:t,loading:e}=Jt("packages",{where:["status","==","published"]}),[n,s]=I.useState(0);if(I.useEffect(()=>{if(t.length>9){const l=setInterval(()=>{s(u=>(u+9)%t.length)},7e3);return()=>clearInterval(l)}},[t.length]),e)return d.jsx("div",{className:"dest-loading",children:"Loading Destinations..."});const a=t.length>9?[...t,...t].slice(n,n+9):t;return d.jsxs("section",{className:"top-destinations",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{children:"Top Destinations"}),d.jsx("p",{children:"Handpicked specialized packages for your next trip"})]}),d.jsx("div",{className:"destinations-grid",children:a.map((l,u)=>d.jsx(L_,{item:l},`${l.id}-${u}`))}),t.length===0&&d.jsx("div",{className:"no-results",children:d.jsx("p",{children:"No travel packages available at the moment. Please check back later."})})]})},c8=()=>{const{data:t,loading:e,error:n}=Jt("packages",{where:["type","==","hot_deal"]});n&&console.error("HotDeals fetch error:",n);const s=t.slice(0,4);return e||s.length===0?null:d.jsxs("section",{className:"hot-deals",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("span",{className:"badge",children:"Limited Time"}),d.jsx("h2",{children:"Hot Deals"}),d.jsx("p",{children:"Unbeatable prices for a limited time only"})]}),d.jsx("div",{className:"deals-grid",children:s.map(a=>d.jsx(L_,{item:a},a.id))})]})},u8=()=>{const{data:t,loading:e}=Jt("visas",{where:["status","==","published"]}),[n,s]=I.useState(0);if(I.useEffect(()=>{if(t.length>4){const l=setInterval(()=>{s(u=>(u+1)%(t.length-3))},7e3);return()=>clearInterval(l)}},[t.length]),e||t.length===0)return null;const a=t.slice(n,n+4);return d.jsxs("section",{className:"visa-services",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{children:"Visa Services"}),d.jsx("p",{children:"Hassle-free visa processing for your international travels"})]}),d.jsx("div",{className:"visa-grid",children:a.map(l=>d.jsxs("div",{className:"visa-card",children:[d.jsx("div",{className:"visa-icon",children:d.jsx(av,{size:24})}),d.jsx("h3",{children:l.country}),d.jsx("p",{className:"visa-type",children:l.type}),d.jsxs("div",{className:"visa-details",children:[d.jsxs("span",{children:["Time: ",l.processingTime]}),d.jsxs("span",{className:"visa-price",children:["From KES ",Number(l.price).toLocaleString()]})]}),d.jsxs("button",{className:"apply-btn",children:["Apply Now ",d.jsx(aj,{size:16})]})]},l.id))})]})},h8=({onApply:t})=>d.jsx("section",{className:"passport-banner",children:d.jsxs("div",{className:"passport-content",children:[d.jsx("h2",{children:"Need a Passport?"}),d.jsx("p",{children:"We handle all the paperwork and appointments for your new passport application or renewal."}),d.jsx("button",{className:"btn btn-secondary",onClick:()=>t("Passport"),children:"Apply for Passport"})]})}),f8=({onInquiry:t})=>{const e=[{title:"Flight Booking",icon:d.jsx(av,{}),type:"Flight"},{title:"Hotel Booking",icon:d.jsx(YA,{}),type:"Hotel"},{title:"Transfers",icon:d.jsx(FA,{}),type:"Transfer"}];return d.jsx("section",{className:"booking-entries",children:d.jsx("div",{className:"entries-grid",children:e.map((n,s)=>d.jsxs("div",{className:"entry-card",onClick:()=>t(n.type),children:[d.jsx("div",{className:"entry-icon",children:n.icon}),d.jsx("h3",{children:n.title}),d.jsx("p",{children:"Direct inquiries for the best rates and availability."}),d.jsx("span",{className:"entry-cta",children:"Enquire Now"})]},s))})})},d8=()=>{const t=[{icon:d.jsx(gM,{size:32}),title:"Secure Booking",desc:"Secure payment systems and verified partners."},{icon:d.jsx(GA,{size:32}),title:"24/7 Support",desc:"Our team is always available to help you."},{icon:d.jsx(lj,{size:32}),title:"Best Prices",desc:"We negotiate the best deals for our clients."},{icon:d.jsx(Mj,{size:32}),title:"Local Expertise",desc:"In-depth knowledge of all our destinations."}];return d.jsxs("section",{className:"why-choose-us",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{children:"Why Choose Us"}),d.jsx("p",{children:"Providing the best travel experiences since 2010"})]}),d.jsx("div",{className:"features-grid",children:t.map((e,n)=>d.jsxs("div",{className:"feature-card",children:[d.jsx("div",{className:"feature-icon",children:e.icon}),d.jsx("h3",{children:e.title}),d.jsx("p",{children:e.desc})]},n))})]})},L2=({isOpen:t,onClose:e,serviceType:n,serviceId:s="general"})=>{const[a,l]=I.useState({name:"",email:"",phone:"",travelDate:"",pax:"1",message:""}),[u,f]=I.useState(!1),[p,g]=I.useState(!1),v=b=>{const{name:w,value:C}=b.target;l(M=>({...M,[w]:C}))},_=async b=>{b.preventDefault(),f(!0);try{await ai(Fn(qe,"inquiries"),{...a,serviceType:n,serviceId:s,status:"new",source:"Website",createdAt:ln()}),g(!0),setTimeout(()=>{g(!1),e()},3e3)}catch(w){console.error("Error submitting inquiry:",w),alert("Failed to submit inquiry. Please try again.")}finally{f(!1)}};return t?d.jsx(sa,{children:d.jsx("div",{className:"modal-overlay",onClick:e,children:d.jsxs(Ri.div,{className:"modal-content",onClick:b=>b.stopPropagation(),initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[d.jsx("button",{className:"modal-close",onClick:e,children:d.jsx(Wr,{})}),p?d.jsxs("div",{className:"modal-success",children:[d.jsx(eo,{size:64,color:"var(--secondary)"}),d.jsx("h2",{children:"Thank You!"}),d.jsxs("p",{children:["Your inquiry for ",d.jsx("strong",{children:n})," has been received. Our team will contact you shortly."]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("h2",{children:["Enquire About ",n]}),d.jsx("p",{children:"Fill in the details below and we'll get back to you with a custom quote."}),d.jsxs("form",{onSubmit:_,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Full Name"}),d.jsx("input",{type:"text",name:"name",required:!0,value:a.name,onChange:v})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Email"}),d.jsx("input",{type:"email",name:"email",required:!0,value:a.email,onChange:v})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Phone"}),d.jsx("input",{type:"tel",name:"phone",required:!0,value:a.phone,onChange:v})]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Preferred Travel Date"}),d.jsx("input",{type:"date",name:"travelDate",required:!0,value:a.travelDate,onChange:v})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Number of Pax"}),d.jsx("input",{type:"number",name:"pax",min:"1",value:a.pax,onChange:v})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Additional Message"}),d.jsx("textarea",{name:"message",rows:"3",value:a.message,onChange:v})]}),d.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:u,children:u?"Submitting...":d.jsxs(d.Fragment,{children:[d.jsx(cM,{size:18})," Send Inquiry"]})})]})]})]})})}):null},m8=()=>{const[t,e]=I.useState(null),n=a=>e(a),s=()=>e(null);return d.jsxs("div",{className:"home",children:[d.jsx(a8,{}),d.jsx("div",{className:"search-container",children:d.jsx(o8,{})}),d.jsx(l8,{}),d.jsx(c8,{}),d.jsx(u8,{}),d.jsx(h8,{onApply:n}),d.jsx(f8,{onInquiry:n}),d.jsx(d8,{}),d.jsx(L2,{isOpen:!!t,onClose:s,serviceType:t})]})},p8=({item:t,isOpen:e,onClose:n})=>{const[s,a]=I.useState(!1),[l,u]=I.useState(0);return e?d.jsxs(sa,{children:[d.jsx("div",{className:"detail-overlay",onClick:n,children:d.jsxs(Ri.div,{className:"detail-modal",onClick:f=>f.stopPropagation(),initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},children:[d.jsx("button",{className:"detail-close",onClick:n,children:d.jsx(Wr,{})}),d.jsxs("div",{className:"detail-layout",children:[d.jsxs("div",{className:"detail-media",children:[d.jsx("div",{className:"main-image",children:d.jsx("img",{src:t.images?.[l]||"https://via.placeholder.com/800x600",alt:t.name})}),t.images?.length>1&&d.jsx("div",{className:"thumbnails",children:t.images.map((f,p)=>d.jsx("div",{className:`thumb ${l===p?"active":""}`,onClick:()=>u(p),children:d.jsx("img",{src:f,alt:""})},p))})]}),d.jsxs("div",{className:"detail-info",children:[d.jsxs("div",{className:"detail-header",children:[t.type==="hot_deal"&&d.jsx("span",{className:"hot-badge",children:"Hot Deal"}),d.jsx("h1",{children:t.name}),d.jsxs("div",{className:"detail-meta",children:[d.jsxs("span",{children:[d.jsx(xl,{size:18})," ",t.destination]}),t.pax&&d.jsxs("span",{children:[d.jsx(Od,{size:18})," up to ",t.pax," Pax"]})]})]}),d.jsxs("div",{className:"detail-description",children:[d.jsx("h3",{children:"Overview"}),d.jsx("p",{children:t.description||"No description available for this package."}),t.requirements&&d.jsxs("div",{className:"requirements",children:[d.jsx("h3",{children:"Requirements"}),d.jsx("ul",{children:t.requirements.map((f,p)=>d.jsxs("li",{children:[d.jsx(yj,{size:16})," ",f]},p))})]})]}),d.jsxs("div",{className:"detail-footer",children:[d.jsxs("div",{className:"price-tag",children:[d.jsx("span",{className:"label",children:"Total Price"}),d.jsx("span",{className:"amount",children:t.displayPrice})]}),d.jsx("button",{className:"book-btn",onClick:()=>a(!0),children:"Book / Enquire Now"})]})]})]})]})}),s&&d.jsx(L2,{isOpen:s,onClose:()=>a(!1),serviceType:t.serviceType||"Package",serviceId:t.id})]}):null},g8=()=>{const t=Ks(),[e,n]=I.useState({type:"All",destination:"",maxPrice:"1000000"}),[s,a]=I.useState(null);Jy.useEffect(()=>{const _=new URLSearchParams(t.search),b=_.get("type"),w=_.get("destination"),C=_.get("price");(b||w||C)&&n(M=>({...M,type:b||M.type,destination:w||M.destination,maxPrice:C||M.maxPrice}))},[t.search]);const l={All:"packages",Packages:"packages",Hotels:"hotels",Flights:"flights",Visas:"visas",Transfers:"transfers"},{data:u,loading:f,error:p}=Jt(l[e.type]||"packages",{where:["status","==","published"]}),g=u.map(_=>({..._,name:_.name||_.title||_.country||(_.from?`${_.from} to ${_.to}`:""),destination:_.destination||_.location||_.country||_.to||"",price:_.price||_.pricePerNight||(_.priceRange?_.priceRange.split("-")[0].replace(/[^\d]/g,""):0),displayPrice:_.priceRange||`KES ${Number(_.price||_.pricePerNight).toLocaleString()}`})).filter(_=>{const b=_.destination.toLowerCase().includes(e.destination.toLowerCase()),w=!e.maxPrice||Number(_.price)<=Number(e.maxPrice);return b&&w}),v=_=>{const{name:b,value:w}=_.target;n(C=>({...C,[b]:w}))};return d.jsxs("div",{className:"destinations-page",children:[d.jsxs("div",{className:"dest-header",children:[d.jsx("h1",{children:"Discover Your Next Adventure"}),d.jsx("p",{children:"Browse our curated selection of travel packages and services"})]}),d.jsxs("div",{className:"dest-content",children:[d.jsxs("aside",{className:"filters-sidebar",children:[d.jsxs("div",{className:"filter-group",children:[d.jsxs("label",{children:[d.jsx(Ij,{size:16})," Service Type"]}),d.jsxs("select",{name:"type",value:e.type,onChange:v,children:[d.jsx("option",{children:"All"}),d.jsx("option",{children:"Packages"}),d.jsx("option",{children:"Hotels"}),d.jsx("option",{children:"Flights"}),d.jsx("option",{children:"Visas"}),d.jsx("option",{children:"Transfers"})]})]}),d.jsxs("div",{className:"filter-group",children:[d.jsxs("label",{children:[d.jsx(Xr,{size:16})," Destination"]}),d.jsx("input",{type:"text",name:"destination",placeholder:"Search destination...",value:e.destination,onChange:v})]}),d.jsxs("div",{className:"filter-group",children:[d.jsxs("label",{children:[d.jsx(_M,{size:16})," Max Price (KES)"]}),d.jsx("input",{type:"range",name:"maxPrice",min:"5000",max:"1000000",step:"5000",value:e.maxPrice,onChange:v}),d.jsxs("div",{className:"price-labels",children:[d.jsx("span",{children:"KES 5k"}),d.jsx("span",{className:"current-price",children:Number(e.maxPrice).toLocaleString()}),d.jsx("span",{children:"KES 1M"})]})]})]}),d.jsx("main",{className:"results-grid",children:f?d.jsx("div",{className:"loading",children:"Searching..."}):p?d.jsxs("div",{className:"error-message",children:[d.jsx("h3",{children:"Error loading results"}),d.jsx("p",{children:p.message})]}):g.length>0?d.jsx("div",{className:"grid",children:g.map(_=>d.jsx("div",{onClick:()=>a(_),children:d.jsx(L_,{item:_})},_.id))}):d.jsxs("div",{className:"no-results",children:[d.jsx("h3",{children:"No results found"}),d.jsx("p",{children:"Try adjusting your filters to find what you're looking for."})]})})]}),s&&d.jsx(p8,{item:s,isOpen:!!s,onClose:()=>a(null)})]})},y8=()=>{const[t,e]=I.useState(""),[n,s]=I.useState(""),[a,l]=I.useState(""),[u,f]=I.useState(!1),{login:p}=Ku(),g=wl(),v=async _=>{_.preventDefault(),l(""),f(!0);try{await p(t,n),g("/dashboard")}catch{l("Failed to sign in. Check your credentials.")}finally{f(!1)}};return d.jsx("div",{className:"auth-page",children:d.jsxs("div",{className:"auth-card",children:[d.jsxs("div",{className:"auth-header",children:[d.jsx("div",{className:"auth-icon",children:d.jsx(qj,{size:32})}),d.jsx("h1",{children:"Staff Sign In"}),d.jsx("p",{children:"Access the Akothee Safaris management portal"})]}),a&&d.jsxs("div",{className:"auth-error",children:[d.jsx(HA,{size:18})," ",a]}),d.jsxs("form",{onSubmit:v,children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{children:[d.jsx(Pd,{size:16})," Email Address"]}),d.jsx("input",{type:"email",required:!0,value:t,onChange:_=>e(_.target.value),placeholder:"staff@akotheesafaris.com"})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{children:[d.jsx(Zg,{size:16})," Password"]}),d.jsx("input",{type:"password",required:!0,value:n,onChange:_=>s(_.target.value),placeholder:""})]}),d.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:u,children:u?"Signing in...":"Sign In"})]}),d.jsx("div",{className:"auth-footer",children:d.jsxs("p",{children:["Don't have an account? ",d.jsx(ss,{to:"/signup",children:"Apply for Access"})]})})]})})},v8=()=>{const[t,e]=I.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",secretCode:""}),[n,s]=I.useState(""),[a,l]=I.useState(!1),{signup:u}=Ku(),f=wl(),p=v=>{e(_=>({..._,[v.target.name]:v.target.value}))},g=async v=>{if(v.preventDefault(),s(""),t.password!==t.confirmPassword)return s("Passwords do not match");l(!0);try{await u(t.email,t.password,t.name,t.phone,t.secretCode),f("/dashboard")}catch(_){s(_.message||"Failed to create account")}finally{l(!1)}};return d.jsx("div",{className:"auth-page",children:d.jsxs("div",{className:"auth-card signup",children:[d.jsxs("div",{className:"auth-header",children:[d.jsx("div",{className:"auth-icon",children:d.jsx(NM,{size:32})}),d.jsx("h1",{children:"Staff Signup"}),d.jsx("p",{children:"Enter your details and the secret authorization code"})]}),n&&d.jsxs("div",{className:"auth-error",children:[d.jsx(HA,{size:18})," ",n]}),d.jsxs("form",{onSubmit:g,children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{children:[d.jsx(ov,{size:16})," Full Name"]}),d.jsx("input",{type:"text",name:"name",required:!0,value:t.name,onChange:p})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{children:[d.jsx(Pd,{size:16})," Email"]}),d.jsx("input",{type:"email",name:"email",required:!0,value:t.email,onChange:p})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{children:[d.jsx(Vd,{size:16})," Phone"]}),d.jsx("input",{type:"tel",name:"phone",required:!0,value:t.phone,onChange:p})]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{children:[d.jsx(Zg,{size:16})," Password"]}),d.jsx("input",{type:"password",name:"password",required:!0,value:t.password,onChange:p})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{children:[d.jsx(Zg,{size:16})," Confirm"]}),d.jsx("input",{type:"password",name:"confirmPassword",required:!0,value:t.confirmPassword,onChange:p})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{children:[d.jsx(Lj,{size:16})," Secret Code"]}),d.jsx("input",{type:"text",name:"secretCode",required:!0,value:t.secretCode,onChange:p,placeholder:"#FikaPlaces"})]}),d.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:a,children:a?"Creating account...":"Create Account"})]}),d.jsx("div",{className:"auth-footer",children:d.jsxs("p",{children:["Already have an account? ",d.jsx(ss,{to:"/signin",children:"Sign In"})]})})]})})},_8=()=>{const{data:t}=Jt("inquiries"),{data:e}=Jt("packages"),n=[{title:"New Inquiries",value:t.filter(s=>s.status==="new").length,icon:d.jsx(XA,{}),color:"#3b82f6"},{title:"Active Packages",value:e.filter(s=>s.status==="published").length,icon:d.jsx(JA,{}),color:"#10b981"},{title:"Confirmed Bookings",value:0,icon:d.jsx(Du,{}),color:"#f59e0b"},{title:"Total Revenue",value:"KES 0",icon:d.jsx(ZA,{}),color:"#8b5cf6"}];return d.jsxs("div",{className:"dashboard-home",children:[d.jsx("div",{className:"stats-grid",children:n.map((s,a)=>d.jsxs("div",{className:"stat-card",children:[d.jsx("div",{className:"stat-icon",style:{backgroundColor:`${s.color}15`,color:s.color},children:s.icon}),d.jsxs("div",{className:"stat-info",children:[d.jsx("h3",{children:s.title}),d.jsx("p",{className:"stat-value",children:s.value})]})]},a))}),d.jsxs("div",{className:"recent-activity",children:[d.jsx("h2",{children:"Recent Inquiries"}),d.jsxs("div",{className:"activity-list",children:[t.slice(0,5).map(s=>d.jsxs("div",{className:"activity-item",children:[d.jsxs("div",{className:"item-info",children:[d.jsx("strong",{children:s.name}),d.jsxs("span",{children:[s.serviceType," enquiry"]})]}),d.jsxs("div",{className:"item-meta",children:[d.jsx("span",{className:`status-badge ${s.status}`,children:s.status}),d.jsx("small",{children:s.createdAt?.toDate?.().toLocaleDateString()||"Just now"})]})]},s.id)),t.length===0&&d.jsx("p",{className:"no-data",children:"No inquiries yet."})]})]})]})},T8=({isOpen:t,onClose:e})=>{const[n,s]=I.useState({name:"",destination:"",price:"",pax:"1",type:"normal",description:"",requirements:[""]}),[a,l]=I.useState([]),[u,f]=I.useState(!1),p=C=>{s(M=>({...M,[C.target.name]:C.target.value}))},g=(C,M)=>{const k=[...n.requirements];k[C]=M,s(z=>({...z,requirements:k}))},v=()=>s(C=>({...C,requirements:[...C.requirements,""]})),_=C=>s(M=>({...M,requirements:M.requirements.filter((k,z)=>z!==C)})),b=C=>{l(Array.from(C.target.files))},w=async C=>{C.preventDefault(),f(!0);try{const M=[];for(const k of a){const z=WR(JR,`packages/${Date.now()}_${k.name}`);await QR(z,k);const q=await XR(z);M.push(q)}await ai(Fn(qe,"packages"),{...n,images:M,status:"draft",createdAt:ln()}),e()}catch(M){console.error("Error adding package:",M),alert("Error adding package. Check console.")}finally{f(!1)}};return t?d.jsx(sa,{children:d.jsx("div",{className:"modal-overlay",onClick:e,children:d.jsxs(Ri.div,{className:"modal-content form-modal",onClick:C=>C.stopPropagation(),initial:{y:50,opacity:0},animate:{y:0,opacity:1},children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h2",{children:"Add New Package"}),d.jsx("button",{onClick:e,children:d.jsx(Wr,{})})]}),d.jsxs("form",{onSubmit:w,children:[d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Package Name"}),d.jsx("input",{type:"text",name:"name",required:!0,value:n.name,onChange:p})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Destination"}),d.jsx("input",{type:"text",name:"destination",required:!0,value:n.destination,onChange:p})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Price (KES)"}),d.jsx("input",{type:"number",name:"price",required:!0,value:n.price,onChange:p})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Max Pax"}),d.jsx("input",{type:"number",name:"pax",required:!0,value:n.pax,onChange:p})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Type"}),d.jsxs("select",{name:"type",value:n.type,onChange:p,children:[d.jsx("option",{value:"normal",children:"Normal"}),d.jsx("option",{value:"hot_deal",children:"Hot Deal"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Photos"}),d.jsxs("div",{className:"file-upload",children:[d.jsx("input",{type:"file",multiple:!0,onChange:b,id:"photos"}),d.jsxs("label",{htmlFor:"photos",children:[d.jsx(ew,{size:18})," ",a.length," files selected"]})]})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Description"}),d.jsx("textarea",{name:"description",rows:"4",value:n.description,onChange:p})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Requirements"}),n.requirements.map((C,M)=>d.jsxs("div",{className:"req-input",children:[d.jsx("input",{type:"text",value:C,onChange:k=>g(M,k.target.value)}),d.jsx("button",{type:"button",onClick:()=>_(M),children:d.jsx(WA,{size:16})})]},M)),d.jsxs("button",{type:"button",className:"btn-add-req",onClick:v,children:[d.jsx(to,{size:16})," Add Requirement"]})]}),d.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:u,children:u?"Creating...":"Create Package"})]})]})})}):null},E8=()=>{const{data:t,loading:e}=Jt("packages",{orderBy:["createdAt","desc"]}),[n,s]=I.useState(""),[a,l]=I.useState(!1),u=async p=>{window.confirm("Are you sure you want to delete this package?")&&await kl(Et(qe,"packages",p))},f=async p=>{const g=p.status==="published"?"draft":"published";await Mi(Et(qe,"packages",p.id),{status:g})};return d.jsxs("div",{className:"packages-module",children:[d.jsxs("div",{className:"module-header",children:[d.jsx("h1",{children:"Travel Packages"}),d.jsxs("button",{className:"btn btn-primary",onClick:()=>l(!0),children:[d.jsx(to,{size:18})," Add New Package"]})]}),d.jsx(T8,{isOpen:a,onClose:()=>l(!1)}),d.jsx("div",{className:"module-actions",children:d.jsxs("div",{className:"search-box",children:[d.jsx(Xr,{size:18}),d.jsx("input",{type:"text",placeholder:"Search packages...",value:n,onChange:p=>s(p.target.value)})]})}),d.jsxs("div",{className:"packages-table-container",children:[d.jsxs("table",{className:"packages-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Package Name"}),d.jsx("th",{children:"Destination"}),d.jsx("th",{children:"Price"}),d.jsx("th",{children:"Status"}),d.jsx("th",{children:"Created At"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:t.filter(p=>p.name.toLowerCase().includes(n.toLowerCase())).map(p=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsxs("div",{className:"package-cell",children:[d.jsx("img",{src:p.images?.[0],alt:""}),d.jsx("span",{children:p.name})]})}),d.jsx("td",{children:p.destination}),d.jsxs("td",{children:["KES ",Number(p.price).toLocaleString()]}),d.jsx("td",{children:d.jsx("span",{className:`status-pill ${p.status}`,children:p.status})}),d.jsx("td",{children:p.createdAt?.toDate?.().toLocaleDateString()||"N/A"}),d.jsx("td",{children:d.jsxs("div",{className:"table-actions",children:[d.jsx("button",{className:"btn-icon",title:"Toggle Publish",onClick:()=>f(p),children:p.status==="published"?d.jsx(ju,{size:18}):d.jsx(eo,{size:18})}),d.jsx("button",{className:"btn-icon",title:"Edit",children:d.jsx(Mu,{size:18})}),d.jsx("button",{className:"btn-icon delete",title:"Delete",onClick:()=>u(p.id),children:d.jsx(Rl,{size:18})})]})})]},p.id))})]}),e&&d.jsx("p",{className:"loading-text",children:"Loading packages..."}),t.length===0&&!e&&d.jsx("p",{className:"empty-text",children:'No packages found. Click "Add New" to create one.'})]})]})},b8=({isOpen:t,onClose:e,hotel:n})=>{const[s,a]=I.useState({name:"",location:"",pricePerNight:"",description:"",status:"draft"}),[l,u]=I.useState([]),[f,p]=I.useState(!1);I.useEffect(()=>{a(n?{name:n.name,location:n.location,pricePerNight:n.pricePerNight,description:n.description||"",status:n.status}:{name:"",location:"",pricePerNight:"",description:"",status:"draft"})},[n]);const g=_=>{a(b=>({...b,[_.target.name]:_.target.value}))},v=async _=>{_.preventDefault(),p(!0);try{let b=n?.images||[];if(l.length>0)for(const w of l){const C=WR(JR,`hotels/${Date.now()}_${w.name}`);await QR(C,w);const M=await XR(C);b.push(M)}n?await Mi(Et(qe,"hotels",n.id),{...s,images:b,updatedAt:ln()}):await ai(Fn(qe,"hotels"),{...s,images:b,createdAt:ln()}),e()}catch(b){console.error("Error saving hotel:",b),alert("Error saving hotel.")}finally{p(!1)}};return t?d.jsx(sa,{children:d.jsx("div",{className:"modal-overlay",onClick:e,children:d.jsxs(Ri.div,{className:"modal-content form-modal",onClick:_=>_.stopPropagation(),initial:{y:50,opacity:0},animate:{y:0,opacity:1},children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h2",{children:n?"Edit Hotel":"Add New Hotel"}),d.jsx("button",{onClick:e,children:d.jsx(Wr,{})})]}),d.jsxs("form",{onSubmit:v,children:[d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Hotel Name"}),d.jsx("input",{type:"text",name:"name",required:!0,value:s.name,onChange:g})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Location"}),d.jsx("input",{type:"text",name:"location",required:!0,value:s.location,onChange:g})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Price Per Night (KES)"}),d.jsx("input",{type:"number",name:"pricePerNight",required:!0,value:s.pricePerNight,onChange:g})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Photos"}),d.jsxs("div",{className:"file-upload",children:[d.jsx("input",{type:"file",multiple:!0,onChange:_=>u(Array.from(_.target.files)),id:"hotel-photos"}),d.jsxs("label",{htmlFor:"hotel-photos",children:[d.jsx(ew,{size:18})," ",l.length," files selected"]})]})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Description"}),d.jsx("textarea",{name:"description",rows:"4",value:s.description,onChange:g})]}),d.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:f,children:f?"Saving...":n?"Update Hotel":"Create Hotel"})]})]})})}):null},S8=()=>{const{data:t,loading:e}=Jt("hotels",{orderBy:["createdAt","desc"]}),[n,s]=I.useState(""),[a,l]=I.useState(!1),[u,f]=I.useState(null),p=async v=>{window.confirm("Are you sure you want to delete this hotel?")&&await kl(Et(qe,"hotels",v))},g=async v=>{const _=v.status==="published"?"draft":"published";await Mi(Et(qe,"hotels",v.id),{status:_})};return d.jsxs("div",{className:"hotels-module",children:[d.jsxs("div",{className:"module-header",children:[d.jsx("h1",{children:"Hotel Management"}),d.jsxs("button",{className:"btn btn-primary",onClick:()=>l(!0),children:[d.jsx(to,{size:18})," Add New Hotel"]})]}),d.jsx("div",{className:"module-actions",children:d.jsxs("div",{className:"search-box",children:[d.jsx(Xr,{size:18}),d.jsx("input",{type:"text",placeholder:"Search hotels...",value:n,onChange:v=>s(v.target.value)})]})}),d.jsxs("div",{className:"hotels-table-container",children:[d.jsxs("table",{className:"hotels-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Hotel Name"}),d.jsx("th",{children:"Location"}),d.jsx("th",{children:"Price/Night"}),d.jsx("th",{children:"Status"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:t.filter(v=>v.name.toLowerCase().includes(n.toLowerCase())).map(v=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsxs("div",{className:"hotel-cell",children:[d.jsx("img",{src:v.images?.[0]||"https://via.placeholder.com/100",alt:""}),d.jsx("span",{children:v.name})]})}),d.jsxs("td",{children:[d.jsx(xl,{size:14})," ",v.location]}),d.jsxs("td",{children:["KES ",Number(v.pricePerNight).toLocaleString()]}),d.jsx("td",{children:d.jsx("span",{className:`status-pill ${v.status}`,children:v.status})}),d.jsx("td",{children:d.jsxs("div",{className:"table-actions",children:[d.jsx("button",{className:"btn-icon",title:"Toggle Publish",onClick:()=>g(v),children:v.status==="published"?d.jsx(ju,{size:18}):d.jsx(eo,{size:18})}),d.jsx("button",{className:"btn-icon",title:"Edit",onClick:()=>{f(v),l(!0)},children:d.jsx(Mu,{size:18})}),d.jsx("button",{className:"btn-icon delete",title:"Delete",onClick:()=>p(v.id),children:d.jsx(Rl,{size:18})})]})})]},v.id))})]}),e&&d.jsx("p",{className:"loading-text",children:"Loading hotels..."}),!e&&t.length===0&&d.jsx("p",{className:"empty-text",children:"No hotels found."})]}),d.jsx(b8,{isOpen:a,onClose:()=>{l(!1),f(null)},hotel:u})]})},A8=({isOpen:t,onClose:e,flight:n})=>{const[s,a]=I.useState({from:"",to:"",priceRange:"",type:"one-way",status:"draft"}),[l,u]=I.useState(!1);I.useEffect(()=>{a(n?{from:n.from,to:n.to,priceRange:n.priceRange,type:n.type||"one-way",status:n.status}:{from:"",to:"",priceRange:"",type:"one-way",status:"draft"})},[n]);const f=g=>{a(v=>({...v,[g.target.name]:g.target.value}))},p=async g=>{g.preventDefault(),u(!0);try{n?await Mi(Et(qe,"flights",n.id),{...s,updatedAt:ln()}):await ai(Fn(qe,"flights"),{...s,createdAt:ln()}),e()}catch(v){console.error("Error saving flight:",v),alert("Error saving flight.")}finally{u(!1)}};return t?d.jsx(sa,{children:d.jsx("div",{className:"modal-overlay",onClick:e,children:d.jsxs(Ri.div,{className:"modal-content form-modal",onClick:g=>g.stopPropagation(),initial:{y:50,opacity:0},animate:{y:0,opacity:1},children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h2",{children:n?"Edit Flight Path":"Add New Flight Path"}),d.jsx("button",{onClick:e,children:d.jsx(Wr,{})})]}),d.jsxs("form",{onSubmit:p,children:[d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Origin (From)"}),d.jsx("input",{type:"text",name:"from",required:!0,value:s.from,onChange:f,placeholder:"e.g. Nairobi"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Destination (To)"}),d.jsx("input",{type:"text",name:"to",required:!0,value:s.to,onChange:f,placeholder:"e.g. Mombasa"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Price Range"}),d.jsx("input",{type:"text",name:"priceRange",required:!0,value:s.priceRange,onChange:f,placeholder:"e.g. KES 8,000 - 12,000"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Type"}),d.jsxs("select",{name:"type",value:s.type,onChange:f,children:[d.jsx("option",{value:"one-way",children:"One Way"}),d.jsx("option",{value:"return",children:"Return"})]})]})]}),d.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:l,children:l?"Saving...":n?"Update Flight":"Create Flight"})]})]})})}):null},w8=()=>{const{data:t,loading:e}=Jt("flights",{orderBy:["createdAt","desc"]}),[n,s]=I.useState(""),[a,l]=I.useState(!1),[u,f]=I.useState(null),p=async v=>{window.confirm("Are you sure you want to delete this flight?")&&await kl(Et(qe,"flights",v))},g=async v=>{const _=v.status==="published"?"draft":"published";await Mi(Et(qe,"flights",v.id),{status:_})};return d.jsxs("div",{className:"flights-module",children:[d.jsxs("div",{className:"module-header",children:[d.jsx("h1",{children:"Flight Management"}),d.jsxs("button",{className:"btn btn-primary",onClick:()=>l(!0),children:[d.jsx(to,{size:18})," Add New Flight Route"]})]}),d.jsx("div",{className:"module-actions",children:d.jsxs("div",{className:"search-box",children:[d.jsx(Xr,{size:18}),d.jsx("input",{type:"text",placeholder:"Search flights...",value:n,onChange:v=>s(v.target.value)})]})}),d.jsxs("div",{className:"flights-table-container",children:[d.jsxs("table",{className:"flights-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"From"}),d.jsx("th",{children:"To"}),d.jsx("th",{children:"Price Range"}),d.jsx("th",{children:"Status"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:t.filter(v=>v.from.toLowerCase().includes(n.toLowerCase())||v.to.toLowerCase().includes(n.toLowerCase())).map(v=>d.jsxs("tr",{children:[d.jsxs("td",{children:[d.jsx(nM,{size:14})," ",v.from]}),d.jsxs("td",{children:[d.jsx(eM,{size:14})," ",v.to]}),d.jsx("td",{children:v.priceRange}),d.jsx("td",{children:d.jsx("span",{className:`status-pill ${v.status}`,children:v.status})}),d.jsx("td",{children:d.jsxs("div",{className:"table-actions",children:[d.jsx("button",{className:"btn-icon",title:"Toggle Publish",onClick:()=>g(v),children:v.status==="published"?d.jsx(ju,{size:18}):d.jsx(eo,{size:18})}),d.jsx("button",{className:"btn-icon",title:"Edit",onClick:()=>{f(v),l(!0)},children:d.jsx(Mu,{size:18})}),d.jsx("button",{className:"btn-icon delete",title:"Delete",onClick:()=>p(v.id),children:d.jsx(Rl,{size:18})})]})})]},v.id))})]}),e&&d.jsx("p",{className:"loading-text",children:"Loading flights..."}),!e&&t.length===0&&d.jsx("p",{className:"empty-text",children:"No flights found."})]}),d.jsx(A8,{isOpen:a,onClose:()=>{l(!1),f(null)},flight:u})]})},x8=()=>{const{data:t,loading:e}=Jt("inquiries",{orderBy:["createdAt","desc"]}),[n,s]=I.useState(""),a=async(l,u)=>{await Mi(Et(qe,"inquiries",l),{status:u})};return d.jsxs("div",{className:"inquiries-module",children:[d.jsx("div",{className:"module-header",children:d.jsx("h1",{children:"Customer Inquiries"})}),d.jsx("div",{className:"module-actions",children:d.jsxs("div",{className:"search-box",children:[d.jsx(Xr,{size:18}),d.jsx("input",{type:"text",placeholder:"Search inquiries...",value:n,onChange:l=>s(l.target.value)})]})}),d.jsxs("div",{className:"inquiries-list",children:[t.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())).map(l=>d.jsxs("div",{className:"inquiry-card-admin",children:[d.jsxs("div",{className:"inquiry-header",children:[d.jsx("span",{className:`status-badge ${l.status}`,children:l.status}),d.jsx("small",{children:l.createdAt?.toDate?.().toLocaleString()||"Just now"})]}),d.jsxs("div",{className:"inquiry-body",children:[d.jsxs("div",{className:"client-info",children:[d.jsx("h3",{children:l.name}),d.jsxs("div",{className:"contact-links",children:[d.jsxs("span",{children:[d.jsx(Pd,{size:14})," ",l.email]}),d.jsxs("span",{children:[d.jsx(Vd,{size:14})," ",l.phone]})]})]}),d.jsxs("div",{className:"service-info",children:[d.jsx("span",{className:"info-label",children:"Interested in:"}),d.jsx("span",{className:"info-value",children:l.serviceType}),l.travelDate&&d.jsxs("div",{className:"date-pax",children:[d.jsxs("span",{children:[d.jsx(Du,{size:14})," ",new Date(l.travelDate).toLocaleDateString()]}),d.jsxs("span",{children:[l.pax," Pax"]})]})]}),d.jsx("div",{className:"message-box",children:d.jsx("p",{children:l.message||"No additional message."})})]}),d.jsxs("div",{className:"inquiry-actions",children:[d.jsxs("select",{value:l.status,onChange:u=>a(l.id,u.target.value),className:"status-select",children:[d.jsx("option",{value:"new",children:"Mark as New"}),d.jsx("option",{value:"pending",children:"Mark as Pending"}),d.jsx("option",{value:"processed",children:"Mark as Processed"}),d.jsx("option",{value:"cancelled",children:"Mark as Cancelled"})]}),d.jsx("button",{className:"btn btn-primary btn-sm",children:"Convert to Booking"})]})]},l.id)),e&&d.jsx("p",{children:"Loading inquiries..."}),t.length===0&&!e&&d.jsx("p",{children:"No inquiries found."})]})]})},R8=()=>{const{data:t,loading:e}=Jt("bookings",{orderBy:["createdAt","desc"]});return d.jsxs("div",{className:"bookings-module",children:[d.jsx("div",{className:"module-header",children:d.jsx("h1",{children:"Travel Bookings"})}),d.jsxs("div",{className:"bookings-grid",children:[t.map(n=>d.jsxs("div",{className:"booking-card",children:[d.jsxs("div",{className:"booking-card-header",children:[d.jsx("span",{className:`booking-status ${n.travelStatus}`,children:n.travelStatus}),d.jsxs("span",{className:"booking-id",children:["#",n.id.slice(-6)]})]}),d.jsxs("div",{className:"booking-card-body",children:[d.jsxs("div",{className:"booking-section",children:[d.jsx(ov,{size:16}),d.jsxs("div",{children:[d.jsx("h4",{children:n.clientName}),d.jsx("p",{children:n.email})]})]}),d.jsxs("div",{className:"booking-section",children:[d.jsx(Du,{size:16}),d.jsxs("div",{children:[d.jsx("h4",{children:n.serviceName}),d.jsx("p",{children:n.travelDate})]})]}),d.jsxs("div",{className:"booking-section",children:[d.jsx(KA,{size:16}),d.jsxs("div",{className:"payment-info",children:[d.jsxs("span",{className:"total-price",children:["KES ",Number(n.totalPrice).toLocaleString()]}),d.jsxs("span",{className:`payment-status ${n.paymentStatus}`,children:[n.paymentStatus==="paid"?d.jsx(eo,{size:14}):d.jsx(GA,{size:14}),n.paymentStatus]})]})]})]}),d.jsxs("div",{className:"booking-footer",children:[d.jsxs("div",{className:"balance-info",children:[d.jsx("span",{children:"Balance:"}),d.jsxs("strong",{className:n.balance>0?"debt":"clear",children:["KES ",Number(n.balance).toLocaleString()]})]}),d.jsx("button",{className:"btn btn-secondary btn-sm",children:"Manage Payment"})]})]},n.id)),e&&d.jsx("p",{children:"Loading bookings..."}),t.length===0&&!e&&d.jsx("div",{className:"no-bookings",children:d.jsx("p",{children:"No confirmed bookings yet. Inquiries can be converted to bookings once payments are initiated."})})]})]})},C8=()=>{const{data:t}=Jt("users"),e=async(s,a)=>{await Mi(Et(qe,"users",s),{role:a})},n=async s=>{window.confirm("Remove this staff member?")&&await kl(Et(qe,"users",s))};return d.jsxs("div",{className:"staff-module",children:[d.jsx("div",{className:"module-header",children:d.jsx("h1",{children:"Staff Management"})}),d.jsx("div",{className:"staff-list",children:d.jsxs("table",{className:"staff-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Name"}),d.jsx("th",{children:"Email"}),d.jsx("th",{children:"Role"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:t.map(s=>d.jsxs("tr",{children:[d.jsx("td",{children:s.name}),d.jsx("td",{children:s.email}),d.jsx("td",{children:d.jsxs("span",{className:`role-badge ${s.role}`,children:[s.role==="admin"?d.jsx(S1,{size:14}):d.jsx(b1,{size:14}),s.role]})}),d.jsx("td",{children:d.jsxs("div",{className:"table-actions",children:[s.role==="staff"?d.jsx("button",{className:"btn-icon",onClick:()=>e(s.id,"admin"),title:"Promote to Admin",children:d.jsx(S1,{size:18})}):d.jsx("button",{className:"btn-icon",onClick:()=>e(s.id,"staff"),title:"Demote to Staff",children:d.jsx(b1,{size:18})}),d.jsx("button",{className:"btn-icon delete",onClick:()=>n(s.id),children:d.jsx(Rl,{size:18})})]})})]},s.id))})]})})]})},N8=({isOpen:t,onClose:e,visa:n})=>{const[s,a]=I.useState({country:"",type:"Tourist",processingTime:"3-5 Working Days",price:"",requirements:[""],status:"draft"}),[l,u]=I.useState(!1);I.useEffect(()=>{a(n?{country:n.country,type:n.type,processingTime:n.processingTime,price:n.price,requirements:n.requirements||[""],status:n.status}:{country:"",type:"Tourist",processingTime:"3-5 Working Days",price:"",requirements:[""],status:"draft"})},[n]);const f=b=>{a(w=>({...w,[b.target.name]:b.target.value}))},p=(b,w)=>{const C=[...s.requirements];C[b]=w,a(M=>({...M,requirements:C}))},g=()=>a(b=>({...b,requirements:[...b.requirements,""]})),v=b=>a(w=>({...w,requirements:w.requirements.filter((C,M)=>M!==b)})),_=async b=>{b.preventDefault(),u(!0);try{n?await Mi(Et(qe,"visas",n.id),{...s,updatedAt:ln()}):await ai(Fn(qe,"visas"),{...s,createdAt:ln()}),e()}catch(w){console.error("Error saving visa:",w),alert("Error saving visa.")}finally{u(!1)}};return t?d.jsx(sa,{children:d.jsx("div",{className:"modal-overlay",onClick:e,children:d.jsxs(Ri.div,{className:"modal-content form-modal",onClick:b=>b.stopPropagation(),initial:{y:50,opacity:0},animate:{y:0,opacity:1},children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h2",{children:n?"Edit Visa Service":"Add New Visa Service"}),d.jsx("button",{onClick:e,children:d.jsx(Wr,{})})]}),d.jsxs("form",{onSubmit:_,children:[d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Country"}),d.jsx("input",{type:"text",name:"country",required:!0,value:s.country,onChange:f,placeholder:"e.g. Dubai, UAE"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Visa Type"}),d.jsx("input",{type:"text",name:"type",required:!0,value:s.type,onChange:f,placeholder:"e.g. 30 Days Tourist"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Processing Time"}),d.jsx("input",{type:"text",name:"processingTime",required:!0,value:s.processingTime,onChange:f,placeholder:"e.g. 2-3 Days"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Price (KES)"}),d.jsx("input",{type:"number",name:"price",required:!0,value:s.price,onChange:f})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Requirements"}),s.requirements.map((b,w)=>d.jsxs("div",{className:"req-input",children:[d.jsx("input",{type:"text",value:b,onChange:C=>p(w,C.target.value)}),d.jsx("button",{type:"button",onClick:()=>v(w),children:d.jsx(WA,{size:16})})]},w)),d.jsxs("button",{type:"button",className:"btn-add-req",onClick:g,children:[d.jsx(to,{size:16})," Add Requirement"]})]}),d.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:l,children:l?"Saving...":n?"Update Visa":"Create Visa"})]})]})})}):null},I8=()=>{const{data:t,loading:e}=Jt("visas",{orderBy:["createdAt","desc"]}),[n,s]=I.useState(""),[a,l]=I.useState(!1),[u,f]=I.useState(null),p=async v=>{window.confirm("Delete this visa service?")&&await kl(Et(qe,"visas",v))},g=async v=>{const _=v.status==="published"?"draft":"published";await Mi(Et(qe,"visas",v.id),{status:_})};return d.jsxs("div",{className:"visas-module",children:[d.jsxs("div",{className:"module-header",children:[d.jsx("h1",{children:"Visa Services"}),d.jsxs("button",{className:"btn btn-primary",onClick:()=>l(!0),children:[d.jsx(to,{size:18})," Add New Visa"]})]}),d.jsx("div",{className:"module-actions",children:d.jsxs("div",{className:"search-box",children:[d.jsx(Xr,{size:18}),d.jsx("input",{type:"text",placeholder:"Search countries...",value:n,onChange:v=>s(v.target.value)})]})}),d.jsxs("div",{className:"visas-table-container",children:[d.jsxs("table",{className:"visas-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Country"}),d.jsx("th",{children:"Type"}),d.jsx("th",{children:"Processing"}),d.jsx("th",{children:"Price"}),d.jsx("th",{children:"Status"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:t.filter(v=>v.country.toLowerCase().includes(n.toLowerCase())).map(v=>d.jsxs("tr",{children:[d.jsx("td",{className:"country-cell",children:d.jsx("strong",{children:v.country})}),d.jsx("td",{children:v.type}),d.jsx("td",{children:v.processingTime}),d.jsxs("td",{children:["KES ",Number(v.price).toLocaleString()]}),d.jsx("td",{children:d.jsx("span",{className:`status-pill ${v.status}`,children:v.status})}),d.jsx("td",{children:d.jsxs("div",{className:"table-actions",children:[d.jsx("button",{className:"btn-icon",title:"Toggle Publish",onClick:()=>g(v),children:v.status==="published"?d.jsx(ju,{size:18}):d.jsx(eo,{size:18})}),d.jsx("button",{className:"btn-icon",title:"Edit",onClick:()=>{f(v),l(!0)},children:d.jsx(Mu,{size:18})}),d.jsx("button",{className:"btn-icon delete",title:"Delete",onClick:()=>p(v.id),children:d.jsx(Rl,{size:18})})]})})]},v.id))})]}),e&&d.jsx("p",{className:"loading-text",children:"Loading visa services..."}),!e&&t.length===0&&d.jsx("p",{className:"empty-text",children:"No visa services found."})]}),d.jsx(N8,{isOpen:a,onClose:()=>{l(!1),f(null)},visa:u})]})},D8=({isOpen:t,onClose:e,transfer:n})=>{const[s,a]=I.useState({title:"",destination:"",vehicleType:"Executive Van",capacity:"7",price:"",status:"draft"}),[l,u]=I.useState(!1);I.useEffect(()=>{a(n?{title:n.title,destination:n.destination,vehicleType:n.vehicleType,capacity:n.capacity,price:n.price,status:n.status}:{title:"",destination:"",vehicleType:"Executive Van",capacity:"7",price:"",status:"draft"})},[n]);const f=g=>{a(v=>({...v,[g.target.name]:g.target.value}))},p=async g=>{g.preventDefault(),u(!0);try{n?await Mi(Et(qe,"transfers",n.id),{...s,updatedAt:ln()}):await ai(Fn(qe,"transfers"),{...s,createdAt:ln()}),e()}catch(v){console.error("Error saving transfer:",v),alert("Error saving transfer.")}finally{u(!1)}};return t?d.jsx(sa,{children:d.jsx("div",{className:"modal-overlay",onClick:e,children:d.jsxs(Ri.div,{className:"modal-content form-modal",onClick:g=>g.stopPropagation(),initial:{y:50,opacity:0},animate:{y:0,opacity:1},children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h2",{children:n?"Edit Transfer Service":"Add New Transfer Service"}),d.jsx("button",{onClick:e,children:d.jsx(Wr,{})})]}),d.jsxs("form",{onSubmit:p,children:[d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Service Title"}),d.jsx("input",{type:"text",name:"title",required:!0,value:s.title,onChange:f,placeholder:"e.g. Airport Transfer JKIA"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Route / Destination"}),d.jsx("input",{type:"text",name:"destination",required:!0,value:s.destination,onChange:f,placeholder:"e.g. Nairobi to Naivasha"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Vehicle Type"}),d.jsx("input",{type:"text",name:"vehicleType",required:!0,value:s.vehicleType,onChange:f})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Capacity (Pax)"}),d.jsx("input",{type:"number",name:"capacity",required:!0,value:s.capacity,onChange:f})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Base Price (KES)"}),d.jsx("input",{type:"number",name:"price",required:!0,value:s.price,onChange:f})]})]}),d.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:l,children:l?"Saving...":n?"Update Transfer":"Create Transfer"})]})]})})}):null},j8=()=>{const{data:t,loading:e}=Jt("transfers",{orderBy:["createdAt","desc"]}),[n,s]=I.useState(""),[a,l]=I.useState(!1),[u,f]=I.useState(null),p=async v=>{window.confirm("Delete this transfer service?")&&await kl(Et(qe,"transfers",v))},g=async v=>{const _=v.status==="published"?"draft":"published";await Mi(Et(qe,"transfers",v.id),{status:_})};return d.jsxs("div",{className:"transfers-module",children:[d.jsxs("div",{className:"module-header",children:[d.jsx("h1",{children:"Transfer Services"}),d.jsxs("button",{className:"btn btn-primary",onClick:()=>l(!0),children:[d.jsx(to,{size:18})," Add New Transfer"]})]}),d.jsx("div",{className:"module-actions",children:d.jsxs("div",{className:"search-box",children:[d.jsx(Xr,{size:18}),d.jsx("input",{type:"text",placeholder:"Search destination...",value:n,onChange:v=>s(v.target.value)})]})}),d.jsxs("div",{className:"transfers-table-container",children:[d.jsxs("table",{className:"transfers-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Service Title"}),d.jsx("th",{children:"Destination"}),d.jsx("th",{children:"Vehicle"}),d.jsx("th",{children:"Price"}),d.jsx("th",{children:"Status"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:t.filter(v=>v.title.toLowerCase().includes(n.toLowerCase())||v.destination.toLowerCase().includes(n.toLowerCase())).map(v=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsxs("div",{className:"transfer-cell",children:[d.jsx(FA,{size:18}),d.jsx("span",{children:v.title})]})}),d.jsxs("td",{children:[d.jsx(xl,{size:14})," ",v.destination]}),d.jsx("td",{children:v.vehicleType}),d.jsxs("td",{children:["KES ",Number(v.price).toLocaleString()]}),d.jsx("td",{children:d.jsx("span",{className:`status-pill ${v.status}`,children:v.status})}),d.jsx("td",{children:d.jsxs("div",{className:"table-actions",children:[d.jsx("button",{className:"btn-icon",title:"Toggle Publish",onClick:()=>g(v),children:v.status==="published"?d.jsx(ju,{size:18}):d.jsx(eo,{size:18})}),d.jsx("button",{className:"btn-icon",title:"Edit",onClick:()=>{f(v),l(!0)},children:d.jsx(Mu,{size:18})}),d.jsx("button",{className:"btn-icon delete",title:"Delete",onClick:()=>p(v.id),children:d.jsx(Rl,{size:18})})]})})]},v.id))})]}),e&&d.jsx("p",{className:"loading-text",children:"Loading transfers..."}),!e&&t.length===0&&d.jsx("p",{className:"empty-text",children:"No transfer services found."})]}),d.jsx(D8,{isOpen:a,onClose:()=>{l(!1),f(null)},transfer:u})]})},M8=()=>{const{data:t}=Jt("bookings"),{data:e}=Jt("inquiries"),{data:n}=Jt("packages"),s=t.reduce((u,f)=>u+Number(f.totalPrice),0),a=t.reduce((u,f)=>u+Number(f.balance),0),l=e.length>0?(t.length/e.length*100).toFixed(1):0;return d.jsxs("div",{className:"reports-module",children:[d.jsxs("div",{className:"module-header",children:[d.jsx("h1",{children:"Performance Reports"}),d.jsxs("button",{className:"btn btn-secondary",children:[d.jsx(bj,{size:18})," Export PDF Report"]})]}),d.jsxs("div",{className:"reports-grid",children:[d.jsxs("div",{className:"report-card main",children:[d.jsx("div",{className:"card-lbl",children:"Financial Overview"}),d.jsxs("div",{className:"rev-stats",children:[d.jsxs("div",{className:"stat",children:[d.jsx("small",{children:"Total Booking Value"}),d.jsxs("h2",{children:["KES ",s.toLocaleString()]})]}),d.jsxs("div",{className:"stat",children:[d.jsx("small",{children:"Outstanding Balances"}),d.jsxs("h2",{className:"debt",children:["KES ",a.toLocaleString()]})]})]}),d.jsxs("div",{className:"chart-placeholder",children:[d.jsx(ZA,{size:48}),d.jsx("p",{children:"Revenue Trends (Visual Chart Placeholder)"})]})]}),d.jsxs("div",{className:"report-side",children:[d.jsxs("div",{className:"report-card small",children:[d.jsx("div",{className:"card-lbl",children:"Conversion Analysis"}),d.jsxs("div",{className:"stat-big",children:[l,"%",d.jsx("small",{children:"Inquiry to Booking"})]})]}),d.jsxs("div",{className:"report-card small",children:[d.jsx("div",{className:"card-lbl",children:"Inventory Status"}),d.jsxs("div",{className:"stat-big",children:[n.length,d.jsx("small",{children:"Total Travel Packages"})]})]})]})]}),d.jsxs("div",{className:"data-table-report",children:[d.jsx("h3",{children:"Top Performing Destinations"}),d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Destination"}),d.jsx("th",{children:"Bookings"}),d.jsx("th",{children:"Revenue"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{children:"Maasai Mara"}),d.jsx("td",{children:"12"}),d.jsx("td",{children:"KES 540,000"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"Diani Beach"}),d.jsx("td",{children:"8"}),d.jsx("td",{children:"KES 200,000"})]})]})]})]})]})},k8=()=>{const[t,e]=I.useState({siteName:"Akothee Safaris",contactPhone:"+254 700 000 000",contactEmail:"info@akotheesafaris.com",officeLocation:"Nairobi, Kenya",facebookUrl:"",instagramUrl:"",secretCode:"#FikaPlaces"}),[n,s]=I.useState(!1),[a,l]=I.useState("");I.useEffect(()=>{(async()=>{const g=Et(qe,"settings","general"),v=await NR(g);v.exists()&&e(v.data())})()},[]);const u=p=>{e(g=>({...g,[p.target.name]:p.target.value}))},f=async p=>{p.preventDefault(),s(!0);try{await IR(Et(qe,"settings","general"),t),l("Settings updated successfully!"),setTimeout(()=>l(""),3e3)}catch(g){console.error("Error saving settings:",g),alert("Failed to save settings.")}finally{s(!1)}};return d.jsxs("div",{className:"settings-module",children:[d.jsxs("div",{className:"module-header",children:[d.jsx("h1",{children:"Site Settings"}),d.jsxs("button",{className:"btn btn-primary",onClick:f,disabled:n,children:[d.jsx(aM,{size:18})," ",n?"Saving...":"Save All Changes"]})]}),a&&d.jsx("div",{className:"alert-success",children:a}),d.jsxs("form",{className:"settings-form",onSubmit:f,children:[d.jsxs("div",{className:"settings-section",children:[d.jsxs("h3",{children:[d.jsx($A,{size:18})," General Information"]}),d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Business Name"}),d.jsx("input",{type:"text",name:"siteName",value:t.siteName,onChange:u})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Staff Signup Secret Code"}),d.jsx("input",{type:"text",name:"secretCode",value:t.secretCode,onChange:u})]})]})]}),d.jsxs("div",{className:"settings-section",children:[d.jsxs("h3",{children:[d.jsx(Vd,{size:18})," Contact Details"]}),d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Phone Number"}),d.jsx("input",{type:"text",name:"contactPhone",value:t.contactPhone,onChange:u})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Email Address"}),d.jsx("input",{type:"email",name:"contactEmail",value:t.contactEmail,onChange:u})]}),d.jsxs("div",{className:"form-group full-width",children:[d.jsx("label",{children:"Office Location"}),d.jsx("textarea",{name:"officeLocation",rows:"2",value:t.officeLocation,onChange:u})]})]})]}),d.jsxs("div",{className:"settings-section",children:[d.jsxs("h3",{children:[d.jsx(dM,{size:18})," Social Media"]}),d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Facebook URL"}),d.jsx("input",{type:"url",name:"facebookUrl",value:t.facebookUrl,onChange:u,placeholder:"https://facebook.com/..."})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Instagram URL"}),d.jsx("input",{type:"url",name:"instagramUrl",value:t.instagramUrl,onChange:u,placeholder:"https://instagram.com/..."})]})]})]})]})]})},P8=async()=>{if(window.confirm("Spread sample data? This will add hero slides and packages."))try{const t=[{image:"https://images.unsplash.com/photo-1516426122078-c23e76319801?q=80&w=2068&auto=format&fit=crop",title:"Discover the Wild Heart of Africa",subtitle:"Unforgettable safaris across Kenya and Tanzania",ctaText:"Explore Destinations",ctaLink:"/destinations",priority:1,active:!0},{image:"https://images.unsplash.com/photo-1493246507139-91e8bef99c02?q=80&w=2070&auto=format&fit=crop",title:"Breathtaking Beach Escapes",subtitle:"White sands and turquoise waters of Diani Beach",ctaText:"Book a Hotel",ctaLink:"/destinations",priority:2,active:!0}];for(const u of t)await ai(Fn(qe,"hero_slides"),u);const e=[{name:"Maasai Mara 3-Day Safari",destination:"Maasai Mara, Kenya",price:45e3,pax:6,type:"hot_deal",serviceType:"Packages",description:"Guided tour with professional rangers. Meals and transport included.",images:["https://images.unsplash.com/photo-1516426122078-c23e76319801?q=80&w=2068&auto=format&fit=crop"],status:"published",createdAt:ln()},{name:"Diani Beach Getaway",destination:"Diani, Kenya",price:25e3,pax:2,type:"normal",serviceType:"Packages",description:"Luxury hotel stay with breakfast and spa access.",images:["https://images.unsplash.com/photo-1493246507139-91e8bef99c02?q=80&w=2070&auto=format&fit=crop"],status:"published",createdAt:ln()}];for(const u of e)await ai(Fn(qe,"packages"),u);const n=[{name:"Sarova Stanley",location:"Nairobi, Kenya",pricePerNight:15e3,serviceType:"Hotels",description:"Historic luxury hotel in the heart of the city.",images:["https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=2070&auto=format&fit=crop"],status:"published",createdAt:ln()}];for(const u of n)await ai(Fn(qe,"hotels"),u);const s=[{from:"Nairobi",to:"Mombasa",priceRange:"KES 8,000 - 12,000",serviceType:"Flights",type:"return",status:"published",createdAt:ln()}];for(const u of s)await ai(Fn(qe,"flights"),u);const a=[{country:"United Arab Emirates (Dubai)",type:"30 Days Tourist",serviceType:"Visas",processingTime:"2-3 Working Days",price:18e3,requirements:["Passport Scan","Passport Photo","Flight Reservation"],status:"published",createdAt:ln()}];for(const u of a)await ai(Fn(qe,"visas"),u);const l=[{title:"JKIA Airport Transfer",destination:"JKIA to Nairobi City",vehicleType:"Executive Sedan",serviceType:"Transfers",capacity:3,price:3500,status:"published",createdAt:ln()}];for(const u of l)await ai(Fn(qe,"transfers"),u);alert("Seeding complete!")}catch(t){console.error("Error seeding data:",t),alert("Seeding failed. See console.")}},V8=()=>{const{user:t,logout:e,role:n}=Ku(),s=wl(),a=async()=>{await e(),s("/signin")};return d.jsxs("div",{className:"dashboard-container",children:[d.jsxs("aside",{className:"dashboard-sidebar",children:[d.jsx("div",{className:"sidebar-header",children:d.jsx("h2",{children:"AKOTHEE STAFF"})}),d.jsxs("nav",{className:"sidebar-nav",children:[d.jsxs(dn,{to:"/dashboard",end:!0,children:[d.jsx(zj,{size:20})," Overview"]}),d.jsxs(dn,{to:"/dashboard/packages",children:[d.jsx(JA,{size:20})," Packages"]}),d.jsxs(dn,{to:"/dashboard/hotels",children:[d.jsx(YA,{size:20})," Hotels"]}),d.jsxs(dn,{to:"/dashboard/flights",children:[d.jsx(av,{size:20})," Flights"]}),d.jsxs(dn,{to:"/dashboard/visas",children:[d.jsx($A,{size:20})," Visas"]}),d.jsxs(dn,{to:"/dashboard/transfers",children:[d.jsx(AM,{size:20})," Transfers"]}),d.jsxs(dn,{to:"/dashboard/inquiries",children:[d.jsx(XA,{size:20})," Inquiries"]}),d.jsxs(dn,{to:"/dashboard/bookings",children:[d.jsx(Du,{size:20})," Bookings"]}),d.jsxs(dn,{to:"/dashboard/reports",children:[d.jsx(xj,{size:20})," Reports"]}),n==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"nav-divider",children:"Admin"}),d.jsxs(dn,{to:"/dashboard/staff",children:[d.jsx(Od,{size:20})," Staff Management"]}),d.jsxs(dn,{to:"/dashboard/settings",children:[d.jsx(hM,{size:20})," Site Settings"]})]})]}),d.jsxs("div",{className:"sidebar-footer",children:[n==="admin"&&d.jsx("div",{className:"admin-tools",children:d.jsx("button",{className:"btn-seed",onClick:()=>P8(),children:"Seed Sample Data"})}),d.jsxs("div",{className:"user-info",children:[d.jsx("div",{className:"user-avatar",children:t?.name?.charAt(0)}),d.jsxs("div",{className:"user-details",children:[d.jsx("span",{children:t?.name}),d.jsx("small",{children:n})]})]}),d.jsxs("button",{onClick:a,className:"btn-logout",children:[d.jsx(QA,{size:18})," Logout"]})]})]}),d.jsxs("main",{className:"dashboard-main",children:[d.jsxs("header",{className:"dashboard-topbar",children:[d.jsxs("div",{className:"breadcrumb",children:["Dashboard ",d.jsx(qA,{size:16})," ",window.location.pathname.split("/").pop()]}),d.jsx("div",{className:"topbar-actions",children:d.jsxs("span",{children:["Welcome, ",t?.name]})})]}),d.jsx("div",{className:"dashboard-content",children:d.jsxs(Wg,{children:[d.jsx(Kt,{path:"/",element:d.jsx(_8,{})}),d.jsx(Kt,{path:"/packages",element:d.jsx(E8,{})}),d.jsx(Kt,{path:"/hotels",element:d.jsx(S8,{})}),d.jsx(Kt,{path:"/flights",element:d.jsx(w8,{})}),d.jsx(Kt,{path:"/visas",element:d.jsx(I8,{})}),d.jsx(Kt,{path:"/transfers",element:d.jsx(j8,{})}),d.jsx(Kt,{path:"/inquiries",element:d.jsx(x8,{})}),d.jsx(Kt,{path:"/bookings",element:d.jsx(R8,{})}),d.jsx(Kt,{path:"/staff",element:d.jsx(C8,{})}),d.jsx(Kt,{path:"/reports",element:d.jsx(M8,{})}),d.jsx(Kt,{path:"/settings",element:d.jsx(k8,{})})]})})]})]})},O8=({children:t})=>{const{user:e,loading:n}=Ku();return n?null:e?t:d.jsx(VA,{to:"/signin"})};function L8(){return d.jsx(GD,{children:d.jsx("div",{className:"app",children:d.jsxs(Wg,{children:[d.jsx(Kt,{path:"/*",element:d.jsxs(d.Fragment,{children:[d.jsx(h5,{}),d.jsx("main",{className:"main-content",children:d.jsxs(Wg,{children:[d.jsx(Kt,{path:"/",element:d.jsx(m8,{})}),d.jsx(Kt,{path:"/destinations",element:d.jsx(g8,{})}),d.jsx(Kt,{path:"/signin",element:d.jsx(y8,{})}),d.jsx(Kt,{path:"/signup",element:d.jsx(v8,{})}),d.jsx(Kt,{path:"*",element:d.jsx(VA,{to:"/"})})]})}),d.jsx(f5,{})]})}),d.jsx(Kt,{path:"/dashboard/*",element:d.jsx(O8,{children:d.jsx(V8,{})})})]})})})}wI.createRoot(document.getElementById("root")).render(d.jsx(Jy.StrictMode,{children:d.jsx(u5,{children:d.jsx(L8,{})})}));
